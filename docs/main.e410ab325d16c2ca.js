var Jee=Object.defineProperty,Xee=Object.defineProperties,Zee=Object.getOwnPropertyDescriptors,fL=Object.getOwnPropertySymbols,ete=Object.prototype.hasOwnProperty,tte=Object.prototype.propertyIsEnumerable,pL=(ln,Et,lt)=>Et in ln?Jee(ln,Et,{enumerable:!0,configurable:!0,writable:!0,value:lt}):ln[Et]=lt,$=(ln,Et)=>{for(var lt in Et||(Et={}))ete.call(Et,lt)&&pL(ln,lt,Et[lt]);if(fL)for(var lt of fL(Et))tte.call(Et,lt)&&pL(ln,lt,Et[lt]);return ln},bn=(ln,Et)=>Xee(ln,Zee(Et));(self.webpackChunkspace_tourism_challenge=self.webpackChunkspace_tourism_challenge||[]).push([[179],{958:function(ln,Et){!function(lt){"use strict";function ve(P){return Array.prototype.slice.call(P)}function eo(P){return new Promise(function(te,ge){P.onsuccess=function(){te(P.result)},P.onerror=function(){ge(P.error)}})}function Ei(P,te,ge){var ye,oe=new Promise(function(Wt,Ii){eo(ye=P[te].apply(P,ge)).then(Wt,Ii)});return oe.request=ye,oe}function to(P,te,ge){var ye=Ei(P,te,ge);return ye.then(function(oe){if(oe)return new vr(oe,ye.request)})}function Ge(P,te,ge){ge.forEach(function(ye){Object.defineProperty(P.prototype,ye,{get:function(){return this[te][ye]},set:function(oe){this[te][ye]=oe}})})}function no(P,te,ge,ye){ye.forEach(function(oe){oe in ge.prototype&&(P.prototype[oe]=function(){return Ei(this[te],oe,arguments)})})}function ts(P,te,ge,ye){ye.forEach(function(oe){oe in ge.prototype&&(P.prototype[oe]=function(){return this[te][oe].apply(this[te],arguments)})})}function tu(P,te,ge,ye){ye.forEach(function(oe){oe in ge.prototype&&(P.prototype[oe]=function(){return to(this[te],oe,arguments)})})}function zt(P){this._index=P}function vr(P,te){this._cursor=P,this._request=te}function Tn(P){this._store=P}function wr(P){this._tx=P,this.complete=new Promise(function(te,ge){P.oncomplete=function(){te()},P.onerror=function(){ge(P.error)},P.onabort=function(){ge(P.error)}})}function ro(P,te,ge){this._db=P,this.oldVersion=te,this.transaction=new wr(ge)}function io(P){this._db=P}Ge(zt,"_index",["name","keyPath","multiEntry","unique"]),no(zt,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),tu(zt,"_index",IDBIndex,["openCursor","openKeyCursor"]),Ge(vr,"_cursor",["direction","key","primaryKey","value"]),no(vr,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(P){P in IDBCursor.prototype&&(vr.prototype[P]=function(){var te=this,ge=arguments;return Promise.resolve().then(function(){return te._cursor[P].apply(te._cursor,ge),eo(te._request).then(function(ye){if(ye)return new vr(ye,te._request)})})})}),Tn.prototype.createIndex=function(){return new zt(this._store.createIndex.apply(this._store,arguments))},Tn.prototype.index=function(){return new zt(this._store.index.apply(this._store,arguments))},Ge(Tn,"_store",["name","keyPath","indexNames","autoIncrement"]),no(Tn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),tu(Tn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ts(Tn,"_store",IDBObjectStore,["deleteIndex"]),wr.prototype.objectStore=function(){return new Tn(this._tx.objectStore.apply(this._tx,arguments))},Ge(wr,"_tx",["objectStoreNames","mode"]),ts(wr,"_tx",IDBTransaction,["abort"]),ro.prototype.createObjectStore=function(){return new Tn(this._db.createObjectStore.apply(this._db,arguments))},Ge(ro,"_db",["name","version","objectStoreNames"]),ts(ro,"_db",IDBDatabase,["deleteObjectStore","close"]),io.prototype.transaction=function(){return new wr(this._db.transaction.apply(this._db,arguments))},Ge(io,"_db",["name","version","objectStoreNames"]),ts(io,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(P){[Tn,zt].forEach(function(te){P in te.prototype&&(te.prototype[P.replace("open","iterate")]=function(){var ge=ve(arguments),ye=ge[ge.length-1],oe=this._store||this._index,Wt=oe[P].apply(oe,ge.slice(0,-1));Wt.onsuccess=function(){ye(Wt.result)}})})}),[zt,Tn].forEach(function(P){P.prototype.getAll||(P.prototype.getAll=function(te,ge){var ye=this,oe=[];return new Promise(function(Wt){ye.iterateCursor(te,function(Ii){Ii?(oe.push(Ii.value),void 0===ge||oe.length!=ge?Ii.continue():Wt(oe)):Wt(oe)})})})}),lt.openDb=function(P,te,ge){var ye=Ei(indexedDB,"open",[P,te]),oe=ye.request;return oe&&(oe.onupgradeneeded=function(Wt){ge&&ge(new ro(oe.result,Wt.oldVersion,oe.transaction))}),ye.then(function(Wt){return new io(Wt)})},lt.deleteDb=function(P){return Ei(indexedDB,"deleteDatabase",[P])},Object.defineProperty(lt,"__esModule",{value:!0})}(Et)},94:(ln,Et,lt)=>{"use strict";function ve(t){return"function"==typeof t}function eo(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ei=eo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function to(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ge{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ve(r))try{r()}catch(s){e=s instanceof Ei?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{tu(s)}catch(o){e=null!=e?e:[],o instanceof Ei?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ei(e)}}add(e){var n;if(e&&e!==this)if(this.closed)tu(e);else{if(e instanceof Ge){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&to(n,e)}remove(e){const{_teardowns:n}=this;n&&to(n,e),e instanceof Ge&&e._removeParent(this)}}Ge.EMPTY=(()=>{const t=new Ge;return t.closed=!0,t})();const no=Ge.EMPTY;function ts(t){return t instanceof Ge||t&&"closed"in t&&ve(t.remove)&&ve(t.add)&&ve(t.unsubscribe)}function tu(t){ve(t)?t():t.unsubscribe()}const zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vr={setTimeout(...t){const{delegate:e}=vr;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=vr;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Tn(t){vr.setTimeout(()=>{const{onUnhandledError:e}=zt;if(!e)throw t;e(t)})}function wr(){}const ro=nu("C",void 0,void 0);function nu(t,e,n){return{kind:t,value:e,error:n}}let P=null;function te(t){if(zt.useDeprecatedSynchronousErrorHandling){const e=!P;if(e&&(P={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=P;if(P=null,n)throw r}}else t()}class ye extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ts(e)&&e.add(this)):this.destination=gL}static create(e,n,r){return new oe(e,n,r)}next(e){this.isStopped?Yf(nu("N",e,void 0),this):this._next(e)}error(e){this.isStopped?Yf(nu("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yf(ro,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class oe extends ye{constructor(e,n,r){let i;if(super(),ve(e))i=e;else if(e){let s;({next:i,error:n,complete:r}=e),this&&zt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?Wt(i):wr,error:Wt(null!=n?n:Ii),complete:r?Wt(r):wr}}}function Wt(t,e){return(...n)=>{try{t(...n)}catch(r){zt.useDeprecatedSynchronousErrorHandling?function(t){zt.useDeprecatedSynchronousErrorHandling&&P&&(P.errorThrown=!0,P.error=t)}(r):Tn(r)}}}function Ii(t){throw t}function Yf(t,e){const{onStoppedNotification:n}=zt;n&&vr.setTimeout(()=>n(t,e))}const gL={closed:!0,next:wr,error:Ii,complete:wr},Jf="function"==typeof Symbol&&Symbol.observable||"@@observable";function ns(t){return t}let Ce=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function(t){return t&&t instanceof ye||function(t){return t&&ve(t.next)&&ve(t.error)&&ve(t.complete)}(t)&&ts(t)}(n)?n:new oe(n,r,i);return te(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=LT(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Jf](){return this}pipe(...n){return function(t){return 0===t.length?ns:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=LT(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function LT(t){var e;return null!==(e=null!=t?t:zt.Promise)&&void 0!==e?e:Promise}const _L=eo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $r=(()=>{class t extends Ce{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new UT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _L}next(n){te(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){te(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){te(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?no:(s.push(n),new Ge(()=>to(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ce;return n.source=this,n}}return t.create=(e,n)=>new UT(e,n),t})();class UT extends $r{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:no}}function VT(t){return ve(null==t?void 0:t.lift)}function It(t){return e=>{if(VT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class bt extends ye{constructor(e,n,r,i,s){super(e),this.onFinalize=s,this._next=n?function(o){try{n(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function be(t,e){return It((n,r)=>{let i=0;n.subscribe(new bt(r,s=>{r.next(t.call(e,s,i++))}))})}function rs(t){return this instanceof rs?(this.v=t,this):new rs(t)}function EL(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function(h){h.value instanceof rs?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function IL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const HT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function qT(t){return ve(null==t?void 0:t.then)}function GT(t){return ve(t[Jf])}function zT(t){return Symbol.asyncIterator&&ve(null==t?void 0:t[Symbol.asyncIterator])}function WT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const KT="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function QT(t){return ve(null==t?void 0:t[KT])}function YT(t){return EL(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield rs(n.read());if(i)return yield rs(void 0);yield yield rs(r)}}finally{n.releaseLock()}})}function JT(t){return ve(null==t?void 0:t.getReader)}function Hr(t){if(t instanceof Ce)return t;if(null!=t){if(GT(t))return function(t){return new Ce(e=>{const n=t[Jf]();if(ve(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(HT(t))return function(t){return new Ce(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(qT(t))return function(t){return new Ce(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Tn)})}(t);if(zT(t))return XT(t);if(QT(t))return function(t){return new Ce(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(JT(t))return function(t){return XT(YT(t))}(t)}throw WT(t)}function XT(t){return new Ce(e=>{(function(t,e){var n,r,i,s;return function(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=IL(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function qr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function dt(t,e,n=1/0){return ve(e)?dt((r,i)=>be((s,o)=>e(r,s,i,o))(Hr(t(r,i))),n):("number"==typeof e&&(n=e),It((r,i)=>function(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{c++;let y=!1;Hr(n(g,l++)).subscribe(new bt(e,w=>{e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(new bt(e,f,()=>{d=!0,h()})),()=>{}}(r,i,t,n)))}function ru(t=1/0){return dt(ns,t)}const Gr=new Ce(t=>t.complete());function Zf(t){return t[t.length-1]}function iu(t){return function(t){return t&&ve(t.schedule)}(Zf(t))?t.pop():void 0}function wl(t,e=0){return It((n,r)=>{n.subscribe(new bt(r,i=>qr(r,t,()=>r.next(i),e),()=>qr(r,t,()=>r.complete(),e),i=>qr(r,t,()=>r.error(i),e)))})}function El(t,e=0){return It((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ZT(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ce(n=>{qr(n,e,()=>{const r=t[Symbol.asyncIterator]();qr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Tt(t,e){return e?function(t,e){if(null!=t){if(GT(t))return function(t,e){return Hr(t).pipe(El(e),wl(e))}(t,e);if(HT(t))return function(t,e){return new Ce(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(qT(t))return function(t,e){return Hr(t).pipe(El(e),wl(e))}(t,e);if(zT(t))return ZT(t,e);if(QT(t))return function(t,e){return new Ce(n=>{let r;return qr(n,e,()=>{r=t[KT](),qr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ve(null==r?void 0:r.return)&&r.return()})}(t,e);if(JT(t))return function(t,e){return ZT(YT(t),e)}(t,e)}throw WT(t)}(t,e):Hr(t)}function Il(t){return t<=0?()=>Gr:It((e,n)=>{let r=0;e.subscribe(new bt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ep(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(Il(1)).subscribe(()=>t())}function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function ce(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ce).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function np(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const qL=Ee({__forward_ref__:Ee});function rp(t){return t.__forward_ref__=rp,t.toString=function(){return ce(this())},t}function J(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(qL)&&t.__forward_ref__===rp}(t)?t():t}class Dn extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function z(t){return"string"==typeof t?t:null==t?"":String(t)}function Kt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():z(t)}function bl(t,e){const n=e?` in ${e}`:"";throw new Dn("201",`No provider for ${Kt(t)} found${n}`)}function An(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function le(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Er(t){return{providers:t.providers||[],imports:t.imports||[]}}function sp(t){return tD(t,Tl)||tD(t,rD)}function tD(t,e){return t.hasOwnProperty(e)?t[e]:null}function nD(t){return t&&(t.hasOwnProperty(op)||t.hasOwnProperty(JL))?t[op]:null}const Tl=Ee({\u0275prov:Ee}),op=Ee({\u0275inj:Ee}),rD=Ee({ngInjectableDef:Ee}),JL=Ee({ngInjectorDef:Ee});var K=(()=>((K=K||{})[K.Default=0]="Default",K[K.Host=1]="Host",K[K.Self=2]="Self",K[K.SkipSelf=4]="SkipSelf",K[K.Optional=8]="Optional",K))();let ap;function bi(t){const e=ap;return ap=t,e}function iD(t,e,n){const r=sp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&K.Optional?null:void 0!==e?e:void bl(ce(t),"Injector")}function Ti(t){return{toString:t}.toString()}var jn=(()=>((jn=jn||{})[jn.OnPush=0]="OnPush",jn[jn.Default=1]="Default",jn))(),Ir=(()=>{return(t=Ir||(Ir={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Ir;var t})();const ZL="undefined"!=typeof globalThis&&globalThis,eU="undefined"!=typeof window&&window,tU="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,we=ZL||"undefined"!=typeof global&&global||eU||tU,so={},Ie=[],Dl=Ee({\u0275cmp:Ee}),up=Ee({\u0275dir:Ee}),cp=Ee({\u0275pipe:Ee}),sD=Ee({\u0275mod:Ee}),Wr=Ee({\u0275fac:Ee}),su=Ee({__NG_ELEMENT_ID__:Ee});let nU=0;function Kr(t){return Ti(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===jn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ie,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ir.Emulated,id:"c",styles:t.styles||Ie,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=nU++,r.inputs=cD(t.inputs,n),r.outputs=cD(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(oD):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(aD):null,r})}function oD(t){return Lt(t)||function(t){return t[up]||null}(t)}function aD(t){return function(t){return t[cp]||null}(t)}const uD={};function Qr(t){return Ti(()=>{const e={type:t.type,bootstrap:t.bootstrap||Ie,declarations:t.declarations||Ie,imports:t.imports||Ie,exports:t.exports||Ie,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(uD[t.id]=t.type),e})}function cD(t,e){if(null==t)return so;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Ft=Kr;function Lt(t){return t[Dl]||null}function Bn(t,e){const n=t[sD]||null;if(!n&&!0===e)throw new Error(`Type ${ce(t)} does not have '\u0275mod' property.`);return n}const X=11;function br(t){return Array.isArray(t)&&"object"==typeof t[1]}function rr(t){return Array.isArray(t)&&!0===t[1]}function hp(t){return 0!=(8&t.flags)}function xl(t){return 2==(2&t.flags)}function kl(t){return 1==(1&t.flags)}function ir(t){return null!==t.template}function uU(t){return 0!=(512&t[2])}function us(t,e){return t.hasOwnProperty(Wr)?t[Wr]:null}class dU{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function cs(){return dD}function dD(t){return t.type.prototype.ngOnChanges&&(t.setInput=fU),hU}function hU(){const t=fD(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===so)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fU(t,e,n,r){const i=fD(t)||function(t,e){return t[hD]=e}(t,{previous:so,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new dU(u&&u.currentValue,e,o===so),t[r]=e}cs.ngInherit=!0;const hD="__ngSimpleChanges__";function fD(t){return t[hD]||null}let gp;function Oe(t){return!!t.listen}const mD={createRenderer:(t,e)=>void 0!==gp?gp:"undefined"!=typeof document?document:void 0};function ze(t){for(;Array.isArray(t);)t=t[0];return t}function qn(t,e){return ze(e[t.index])}function yp(t,e){return t.data[e]}function xn(t,e){const n=e[t];return br(n)?n:n[0]}function yD(t){return 4==(4&t[2])}function _p(t){return 128==(128&t[2])}function Ci(t,e){return null==e?null:t[e]}function _D(t){t[18]=0}function vp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const H={lFrame:CD(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function vD(){return H.bindingsEnabled}function I(){return H.lFrame.lView}function de(){return H.lFrame.tView}function ls(t){return H.lFrame.contextLView=t,t[8]}function nt(){let t=wD();for(;null!==t&&64===t.type;)t=t.parent;return t}function wD(){return H.lFrame.currentTNode}function Tr(t,e){const n=H.lFrame;n.currentTNode=t,n.isParent=e}function wp(){return H.lFrame.isParent}function Rl(){return H.isInCheckNoChangesMode}function Nl(t){H.isInCheckNoChangesMode=t}function ho(){return H.lFrame.bindingIndex++}function SU(t,e){const n=H.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ip(e)}function Ip(t){H.lFrame.currentDirectiveIndex=t}function bD(){return H.lFrame.currentQueryIndex}function Tp(t){H.lFrame.currentQueryIndex=t}function kU(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function TD(t,e,n){if(n&K.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&K.Host||(i=kU(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=H.lFrame=DD();return r.currentTNode=e,r.lView=t,!0}function Pl(t){const e=DD(),n=t[1];H.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function DD(){const t=H.lFrame,e=null===t?null:t.child;return null===e?CD(t):e}function CD(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function AD(){const t=H.lFrame;return H.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const SD=AD;function Ol(){const t=AD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yt(){return H.lFrame.selectedIndex}function Ai(t){H.lFrame.selectedIndex=t}function Fe(){const t=H.lFrame;return yp(t.tView,t.selectedIndex)}function Fl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Ll(t,e,n){xD(t,e,3,n)}function Ul(t,e,n,r){(3&t[2])===n&&xD(t,e,n,r)}function Dp(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function xD(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(VU(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function VU(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class lu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Vl(t,e,n){const r=Oe(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Ap(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function kD(t){return 3===t||4===t||6===t}function Ap(t){return 64===t.charCodeAt(0)}function jl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||MD(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function MD(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function RD(t){return-1!==t}function fo(t){return 32767&t}function po(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Sp=!0;function Bl(t){const e=Sp;return Sp=t,e}let GU=0;function hu(t,e){const n=kp(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,xp(r.data,t),xp(e,null),xp(r.blueprint,null));const i=$l(t,e),s=t.injectorIndex;if(RD(i)){const o=fo(i),a=po(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function xp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kp(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function $l(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Hl(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(su)&&(r=n[su]),null==r&&(r=n[su]=GU++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function OD(t,e,n){if(n&K.Optional)return t;bl(e,"NodeInjector")}function FD(t,e,n,r){if(n&K.Optional&&void 0===r&&(r=null),0==(n&(K.Self|K.Host))){const i=t[9],s=bi(void 0);try{return i?i.get(e,r,n&K.Optional):iD(e,r,n&K.Optional)}finally{bi(s)}}return OD(r,e,n)}function LD(t,e,n,r=K.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(su)?t[su]:void 0;return"number"==typeof e?e>=0?255&e:KU:e}(n);if("function"==typeof s){if(!TD(e,t,r))return r&K.Host?OD(i,n,r):FD(e,n,r,i);try{const o=s(r);if(null!=o||r&K.Optional)return o;bl(n)}finally{SD()}}else if("number"==typeof s){let o=null,a=kp(t,e),u=-1,c=r&K.Host?e[16][6]:null;for((-1===a||r&K.SkipSelf)&&(u=-1===a?$l(t,e):e[a+8],-1!==u&&jD(r,!1)?(o=e[1],a=fo(u),e=po(u,e)):a=-1);-1!==a;){const l=e[1];if(VD(s,a,l.data)){const d=QU(a,e,n,o,r,c);if(d!==UD)return d}u=e[a+8],-1!==u&&jD(r,e[1].data[a+8]===c)&&VD(s,a,e)?(o=l,a=fo(u),e=po(u,e)):a=-1}}}return FD(e,n,r,i)}const UD={};function KU(){return new go(nt(),I())}function QU(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=ql(a,o,n,null==r?xl(a)&&Sp:r!=o&&0!=(3&a.type),i&K.Host&&s===a);return null!==l?fu(e,o,l,a):UD}function ql(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&ir(f)&&f.type===n)return u}return null}function fu(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof lu}(i)){const o=i;o.resolving&&function(t,e){throw new Dn("200",`Circular dependency in DI detected for ${t}`)}(Kt(s[n]));const a=Bl(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?bi(o.injectImpl):null;TD(t,r,K.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=dD(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&bi(u),Bl(a),o.resolving=!1,SD()}}return i}function VD(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function jD(t,e){return!(t&K.Self||t&K.Host&&e)}class go{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return LD(this._tNode,this._lView,e,r,n)}}function pu(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(kD(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(nt(),t)}const yo="__parameters__";function vo(t,e,n){return Ti(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(yo)?u[yo]:Object.defineProperty(u,yo,{value:[]})[yo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ie{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=le({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ZU=new ie("AnalyzeForEntryComponents");function Gn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Gn(r,e)):e!==t&&e.push(r)}return e}function Dr(t,e){t.forEach(n=>Array.isArray(n)?Dr(n,e):e(n))}function BD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Gl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const vu={},Fp="__NG_DI_FLAG__",Wl="ngTempTokenPath",cV=/\n/gm,zD="__source",dV=Ee({provide:String,useValue:Ee});let wu;function WD(t){const e=wu;return wu=t,e}function hV(t,e=K.Default){if(void 0===wu)throw new Error("inject() must be called from an injection context");return null===wu?iD(t,void 0,e):wu.get(t,e&K.Optional?null:void 0,e)}function V(t,e=K.Default){return(ap||hV)(J(t),e)}function Lp(t){const e=[];for(let n=0;n<t.length;n++){const r=J(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=K.Default;for(let o=0;o<r.length;o++){const a=r[o],u=fV(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(V(i,s))}else e.push(V(r))}return e}function Eu(t,e){return t[Fp]=e,t.prototype[Fp]=e,t}function fV(t){return t[Fp]}const Iu=Eu(vo("Inject",t=>({token:t})),-1),We=Eu(vo("Optional"),8),Eo=Eu(vo("SkipSelf"),4);class n0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const OV=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,FV=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Ke=(()=>((Ke=Ke||{})[Ke.NONE=0]="NONE",Ke[Ke.HTML=1]="HTML",Ke[Ke.STYLE=2]="STYLE",Ke[Ke.SCRIPT=3]="SCRIPT",Ke[Ke.URL=4]="URL",Ke[Ke.RESOURCE_URL=5]="RESOURCE_URL",Ke))();function ds(t){const e=function(){const t=I();return t&&t[12]}();return e?e.sanitize(Ke.URL,t)||"":function(t,e){const n=function(t){return t instanceof n0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?function(t){return t instanceof n0?t.changingThisBreaksApplicationSecurity:t}(t):function(t){return(t=String(t)).match(OV)||t.match(FV)?t:"unsafe:"+t}(z(t))}const f0="__ngContext__";function Vt(t,e){t[f0]=e}function zp(t){const e=function(t){return t[f0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Kp(t){return t.ngOriginalError}function o2(t,...e){t.error(...e)}class To{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=(t=e)&&t.ngErrorLogger||o2;var t;r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Kp(e);for(;n&&Kp(n);)n=Kp(n);return n||null}}const _0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(we))();function Qp(t){return t.ownerDocument.defaultView}function Ar(t){return t instanceof Function?t():t}var Mn=(()=>((Mn=Mn||{})[Mn.Important=1]="Important",Mn[Mn.DashCase=2]="DashCase",Mn))();function Jp(t,e){return undefined(t,e)}function Su(t){const e=t[3];return rr(e)?e[3]:e}function Xp(t){return b0(t[13])}function Zp(t){return b0(t[4])}function b0(t){for(;null!==t&&!rr(t);)t=t[4];return t}function Co(t,e,n,r,i){if(null!=r){let s,o=!1;rr(r)?s=r:br(r)&&(o=!0,r=r[0]);const a=ze(r);0===t&&null!==n?null==i?x0(e,n,a):hs(e,n,a,i||null,!0):1===t&&null!==n?hs(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Zl(t,e);r&&function(t,e,n,r){Oe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==ze(n)&&Co(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];xu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function tg(t,e,n){return Oe(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function D0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,vp(i,-1)),n.splice(r,1)}function ng(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&D0(i,r),e>0&&(t[n-1][4]=r[4]);const s=Gl(t,10+e);!function(t,e){xu(t,e,e[X],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function C0(t,e){if(!(256&e[2])){const n=e[X];Oe(n)&&n.destroyNode&&xu(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return rg(t[1],t);for(;e;){let n=null;if(br(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)br(e)&&rg(e[1],e),e=e[3];null===e&&(e=t),br(e)&&rg(e[1],e),n=e&&e[4]}e=n}}(e)}}function rg(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof lu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):ze(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Oe(e[X])&&e[X].destroy();const n=e[17];if(null!==n&&rr(e[3])){n!==e[3]&&D0(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function A0(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Ir.None||i===Ir.Emulated)return null}return qn(r,n)}(t,e.parent,n)}function hs(t,e,n,r,i){Oe(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function x0(t,e,n){Oe(t)?t.appendChild(e,n):e.appendChild(n)}function k0(t,e,n,r,i){null!==r?hs(t,e,n,r,i):x0(t,e,n)}function Zl(t,e){return Oe(t)?t.parentNode(e):e.parentNode}let N0=function(t,e,n){return 40&t.type?qn(t,n):null};function ed(t,e,n,r){const i=A0(t,r,e),s=e[X],a=function(t,e,n){return N0(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)k0(s,i,n[u],a,!1);else k0(s,i,n,a,!1)}function td(t,e){if(null!==e){const n=e.type;if(3&n)return qn(e,t);if(4&n)return sg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return td(t,r);{const i=t[e.index];return rr(i)?sg(-1,i):ze(i)}}if(32&n)return Jp(e,t)()||ze(t[e.index]);{const r=O0(t,e);return null!==r?Array.isArray(r)?r[0]:td(Su(t[16]),r):td(t,e.next)}}return null}function O0(t,e){return null!==e?t[16][6].projection[e.projection]:null}function sg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return td(r,i)}return e[7]}function og(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Vt(ze(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)og(t,e,n.child,r,i,s,!1),Co(e,t,i,a,s);else if(32&u){const c=Jp(n,r);let l;for(;l=c();)Co(e,t,i,l,s);Co(e,t,i,a,s)}else 16&u?L0(t,e,r,n,i,s):Co(e,t,i,a,s);n=o?n.projectionNext:n.next}}function xu(t,e,n,r,i,s){og(n,r,t.firstChild,e,i,s,!1)}function L0(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Co(e,t,i,u[c],s);else og(t,e,u,o[3],i,s,!0)}function U0(t,e,n){Oe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ag(t,e,n){Oe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function V0(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const j0="ng-template";function N2(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==V0(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function B0(t){return 4===t.type&&t.value!==j0}function P2(t,e,n){return e===(4!==t.type||n?t.value:j0)}function O2(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(kD(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!P2(t,u,n)||""===u&&1===e.length){if(sr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!N2(t.attrs,c,n)){if(sr(r))return!1;o=!0}continue}const d=F2(8&r?"class":u,i,B0(t),n);if(-1===d){if(sr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==V0(f,c,0)||2&r&&c!==h){if(sr(r))return!1;o=!0}}}}else{if(!o&&!sr(r)&&!sr(u))return!1;if(o&&sr(u))continue;o=!1,r=u|1&r}}return sr(r)||o}function sr(t){return 0==(1&t)}function F2(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function $0(t,e,n=!1){for(let r=0;r<e.length;r++)if(O2(t,e[r],n))return!0;return!1}function H0(t,e){return t?":not("+e.trim()+")":e}function B2(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!sr(o)&&(e+=H0(s,i),i=""),r=o,s=s||!sr(r);n++}return""!==i&&(e+=H0(s,i)),e}const W={};function ke(t){q0(de(),I(),Yt()+t,Rl())}function q0(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Ll(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Ul(e,s,0,n)}Ai(n)}function tC(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Tp(i),o.contentQueries(2,e[s],s)}}}function ku(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,_D(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[X]=a||t&&t[X],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ao(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=wD(),o=wp(),u=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),H.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const t=H.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Tr(s,!0),s}function So(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Mu(t,e,n){Pl(e);try{const r=t.viewQuery;null!==r&&Sg(1,r,n);const i=t.template;null!==i&&nC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&tC(t,e),t.staticViewQueries&&Sg(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)bj(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Ol()}}function xo(t,e,n,r){const i=e[2];if(256==(256&i))return;Pl(e);const s=Rl();try{_D(e),function(t){H.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&nC(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&Ll(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Ul(e,c,0,null),Dp(e,0)}if(function(t){for(let e=Xp(t);null!==e;e=Zp(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&vp(s,1),i[2]|=1024}}}(e),function(t){for(let e=Xp(t);null!==e;e=Zp(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];_p(r)&&xo(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&tC(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&Ll(e,c)}else{const c=t.contentHooks;null!==c&&Ul(e,c,1),Dp(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ai(~i);else{const s=i,o=n[++r],a=n[++r];SU(o,s),a(2,e[s])}}}finally{Ai(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ij(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Sg(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&Ll(e,c)}else{const c=t.viewHooks;null!==c&&Ul(e,c,2),Dp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,vp(e[3],-1))}finally{Ol()}}function rj(t,e,n,r){const i=e[10],s=!Rl(),o=yD(e);try{s&&!o&&i.begin&&i.begin(),o&&Mu(t,e,r),xo(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function nC(t,e,n,r,i){const s=Yt(),o=2&r;try{Ai(-1),o&&e.length>20&&q0(t,e,20,Rl()),n(r,i)}finally{Ai(s)}}function wg(t,e,n){!vD()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||hu(n,e),Vt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=ir(u);c&&yj(e,n,u);const l=fu(e,t,a,n);Vt(l,e),null!==o&&_j(0,a-i,l,u,0,o),c&&(xn(n.index,e)[8]=l)}}(t,e,n,qn(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=H.lFrame.currentDirectiveIndex;try{Ai(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];Ip(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&dC(c,l)}}finally{Ai(-1),Ip(a)}}(t,e,n))}function Eg(t,e,n=qn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function iC(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=sd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function sd(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:W);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function aC(t,e,n,r){const i=yC(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&_C(t).push(r,i.length-1))}function uC(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Rn(t,e,n,r,i,s,o,a){const u=qn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(EC(t,n,l,r,i),xl(e)&&function(t,e){const n=xn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Oe(s)?s.setProperty(u,r,i):Ap(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ig(t,e,n,r){let i=!1;if(vD()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];$0(n,o.selectors,!1)&&(i||(i=[]),Hl(hu(n,e),t,o.type),ir(o)?(hC(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,fC(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=So(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=jl(n.mergedAttrs,d.hostAttrs),pC(t,n,e,c,d),mj(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||B0(e)?null:vj(d,s);o.push(h),a=uC(d,c,a),u=uC(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new Dn("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=jl(n.mergedAttrs,n.attrs),i}function lC(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function dC(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function hC(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function mj(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ir(e)&&(n[""]=t)}}function fC(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function pC(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=us(i.type)),o=new lu(s,ir(i),null);t.blueprint[r]=o,n[r]=o,lC(t,e,0,r,So(t,n,i.hostVars,W),i)}function yj(t,e,n){const r=qn(e,t),i=iC(n),s=t[10],o=od(t,ku(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Sr(t,e,n,r,i,s){const o=qn(t,e);!function(t,e,n,r,i,s,o){if(null==s)Oe(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?z(s):o(s,r||"",i);Oe(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[X],o,s,t.value,n,r,i)}function _j(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function vj(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function gC(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ij(t,e){const n=xn(e,t);if(_p(n)){const r=n[1];80&n[2]?xo(r,n,r.template,n[8]):n[5]>0&&Tg(n)}}function Tg(t){for(let r=Xp(t);null!==r;r=Zp(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];xo(o,s,o.template,s[8])}else s[5]>0&&Tg(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=xn(n[r],t);_p(i)&&i[5]>0&&Tg(i)}}function bj(t,e){const n=xn(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Mu(r,n,n[8])}function od(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Dg(t){for(;t;){t[2]|=64;const e=Su(t);if(uU(t)&&!e)return t;t=e}return null}function Ag(t,e,n){const r=e[10];r.begin&&r.begin();try{xo(t,e,t.template,n)}catch(i){throw wC(e,i),i}finally{r.end&&r.end()}}function mC(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=zp(n),i=r[1];rj(i,r,i.template,n)}}(t[8])}function Sg(t,e,n){Tp(0),e(t,n)}const Sj=(()=>Promise.resolve(null))();function yC(t){return t[7]||(t[7]=[])}function _C(t){return t.cleanup||(t.cleanup=[])}function wC(t,e){const n=t[9],r=n?n.get(To,null):null;r&&r.handleError(e)}function EC(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Zr(t,e,n){const r=function(t,e){return ze(e[t])}(e,t);!function(t,e,n){Oe(t)?t.setValue(e,n):e.textContent=n}(t[X],r,n)}function ad(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=np(i,a):2==s&&(r=np(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const xg=new ie("INJECTOR",-1);class IC{get(e,n=vu){if(n===vu){const r=new Error(`NullInjectorError: No provider for ${ce(e)}!`);throw r.name="NullInjectorError",r}return n}}const kg=new ie("Set Injector scope."),Ru={},Mj={};let Mg;function bC(){return void 0===Mg&&(Mg=new IC),Mg}function TC(t,e=null,n=null,r){const i=DC(t,e,n,r);return i._resolveInjectorDefTypes(),i}function DC(t,e=null,n=null,r){return new Rj(t,n,e||bC(),r)}class Rj{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Dr(n,a=>this.processProvider(a,e,n)),Dr([e],a=>this.processInjectorType(a,[],s)),this.records.set(xg,ko(void 0,this));const o=this.records.get(kg);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ce(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=vu,r=K.Default){this.assertNotDestroyed();const i=WD(this),s=bi(void 0);try{if(!(r&K.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=("function"==typeof(t=e)||"object"==typeof t&&t instanceof ie)&&sp(e);a=u&&this.injectableDefInScope(u)?ko(Rg(e),Ru):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&K.Self?bC():this.parent).get(e,n=r&K.Optional&&n===vu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Wl]=o[Wl]||[]).unshift(ce(e)),i)throw o;return function(t,e,n,r){const i=t[Wl];throw e[zD]&&i.unshift(e[zD]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=ce(e);if(Array.isArray(e))i=e.map(ce).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ce(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(cV,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Wl]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{bi(s),WD(i)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ce(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=J(e)))return!1;let i=nD(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=nD(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{Dr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];Dr(f,p=>this.processProvider(p,h,f||Ie))}}this.injectorDefTypes.add(o);const u=us(o)||(()=>new o);this.records.set(o,ko(u,Ru));const c=i.providers;if(null!=c&&!a){const l=e;Dr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Mo(e=J(e))?e:J(e&&e.provide);const s=function(t,e,n){return AC(t)?ko(void 0,t.useValue):ko(function(t,e,n){let r;if(Mo(t)){const i=J(t);return us(i)||Rg(i)}if(AC(t))r=()=>J(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Lp(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>V(J(t.useExisting));else{const i=J(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return us(i)||Rg(i);r=()=>new i(...Lp(t.deps))}return r}(t),Ru)}(e);if(Mo(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=ko(void 0,Ru,!0),o.factory=()=>Lp(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Ru&&(n.value=Mj,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(t=n.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var t}injectableDefInScope(e){if(!e.providedIn)return!1;const n=J(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Rg(t){const e=sp(t),n=null!==e?e.factory:us(t);if(null!==n)return n;if(t instanceof ie)throw new Error(`Token ${ce(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${ce(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[Tl]||t[rD]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ko(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function AC(t){return null!==t&&"object"==typeof t&&dV in t}function Mo(t){return"function"==typeof t}let Dt=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return TC({name:""},r,n,"");{const s=null!=(i=n.name)?i:"";return TC({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=vu,t.NULL=new IC,t.\u0275prov=le({token:t,providedIn:"any",factory:()=>V(xg)}),t.__NG_ELEMENT_ID__=-1,t})();function Kj(t,e){Fl(zp(t)[1],nt())}let ud=null;function Ro(){if(!ud){const t=we.Symbol;if(t&&t.iterator)ud=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ud=r)}}}return ud}function Nu(t){return!!Fg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ro()in t)}function Fg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Lg(t,e,n,r){const i=I();return jt(i,ho(),e)&&(de(),Sr(Fe(),i,t,e,n,r)),Lg}function Po(t,e,n,r){return jt(t,ho(),n)?e+z(n)+r:W}function ur(t,e,n,r,i,s,o,a){const u=I(),c=de(),l=t+20,d=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ao(e,t,4,o||null,Ci(c,a));Ig(e,n,l,Ci(c,u)),Fl(e,l);const d=l.tViews=sd(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Tr(d,!1);const h=u[X].createComment("");ed(c,u,h,d),Vt(h,u),od(u,u[l]=gC(h,u,h,d)),kl(d)&&wg(c,u,d),null!=o&&Eg(u,d,a)}function Ug(t){return function(t,e){return t[e]}(H.lFrame.contextLView,20+t)}function N(t,e=K.Default){const n=I();return null===n?V(t,e):LD(nt(),n,J(t),e)}function Hg(){throw new Error("invalid")}function Wn(t,e,n){const r=I();return jt(r,ho(),e)&&Rn(de(),Fe(),r,t,e,r[X],n,!1),Wn}function qg(t,e,n,r,i){const o=i?"class":"style";EC(t,n,e.inputs[o],o,r)}function T(t,e,n,r){const i=I(),s=de(),o=20+t,a=i[X],u=i[o]=tg(a,e,H.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Ao(e,t,2,i,Ci(a,s));return Ig(e,n,c,Ci(a,o)),null!==c.attrs&&ad(c,c.attrs,!1),null!==c.mergedAttrs&&ad(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Tr(c,!0);const l=c.mergedAttrs;null!==l&&Vl(a,u,l);const d=c.classes;null!==d&&ag(a,u,d);const h=c.styles;null!==h&&U0(a,u,h),64!=(64&c.flags)&&ed(s,i,u,c),0===H.lFrame.elementDepthCount&&Vt(u,i),H.lFrame.elementDepthCount++,kl(c)&&(wg(s,i,c),function(t,e,n){if(hp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&Eg(i,c)}function D(){let t=nt();wp()?H.lFrame.isParent=!1:(t=t.parent,Tr(t,!1));const e=t;H.lFrame.elementDepthCount--;const n=de();n.firstCreatePass&&(Fl(n,t),hp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&qg(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&qg(n,e,I(),e.stylesWithoutHost,!1)}function Xt(t,e,n,r){T(t,e,n,r),D()}function Gg(){return I()}function dd(t){return!!t&&"function"==typeof t.then}const cA=function(t){return!!t&&"function"==typeof t.subscribe};function Kn(t,e,n,r){const i=I(),s=de(),o=nt();return function(t,e,n,r,i,s,o,a){const u=kl(r),l=t.firstCreatePass&&_C(t),d=e[8],h=yC(e);let f=!0;if(3&r.type||a){const y=qn(r,e),w=a?a(y):y,_=h.length,x=a?F=>a(ze(F[r.index])):r.index;if(Oe(n)){let F=null;if(!a&&u&&(F=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==F)(F.__ngLastListenerFn__||F).__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,f=!1;else{s=zg(r,e,d,s,!1);const Q=n.listen(w,i,s);h.push(s,Q),l&&l.push(i,x,_,_+1)}}else s=zg(r,e,d,s,!0),w.addEventListener(i,s,o),h.push(s),l&&l.push(i,x,_,o)}else s=zg(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const y=g.length;if(y)for(let w=0;w<y;w+=2){const ct=e[g[w]][g[w+1]].subscribe(s),Vn=h.length;h.push(s,ct),l&&l.push(i,r.index,Vn,-(Vn+1))}}}(s,i,i[X],o,t,e,!!n,r),Kn}function hA(t,e,n,r){try{return!1!==n(r)}catch(i){return wC(t,i),!1}}function zg(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?xn(t.index,e):e;0==(32&e[2])&&Dg(a);let u=hA(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=hA(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Zt(t=1){return function(t){return(H.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,H.lFrame.contextLView))[8]}(t)}function Ho(t,e,n){return Wg(t,"",e,"",n),Ho}function Wg(t,e,n,r,i){const s=I(),o=Po(s,e,n,r);return o!==W&&Rn(de(),Fe(),s,t,o,s[X],i,!1),Wg}function q(t,e=""){const n=I(),r=de(),i=t+20,s=r.firstCreatePass?Ao(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Oe(t)?t.createText(e):t.createTextNode(e)}(n[X],e);ed(r,n,o,s),Tr(s,!1)}function Rr(t){return fd("",t,""),Rr}function fd(t,e,n){const r=I(),i=Po(r,t,e,n);return i!==W&&Zr(r,Yt(),i),fd}const ps=void 0;var m$=["en",[["a","p"],["AM","PM"],ps],[["AM","PM"],ps,ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ps,"{1} 'at' {0}",ps],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Go={};function nS(t){return t in Go||(Go[t]=we.ng&&we.ng.common&&we.ng.common.locales&&we.ng.common.locales[t]),Go[t]}var M=(()=>((M=M||{})[M.LocaleId=0]="LocaleId",M[M.DayPeriodsFormat=1]="DayPeriodsFormat",M[M.DayPeriodsStandalone=2]="DayPeriodsStandalone",M[M.DaysFormat=3]="DaysFormat",M[M.DaysStandalone=4]="DaysStandalone",M[M.MonthsFormat=5]="MonthsFormat",M[M.MonthsStandalone=6]="MonthsStandalone",M[M.Eras=7]="Eras",M[M.FirstDayOfWeek=8]="FirstDayOfWeek",M[M.WeekendRange=9]="WeekendRange",M[M.DateFormat=10]="DateFormat",M[M.TimeFormat=11]="TimeFormat",M[M.DateTimeFormat=12]="DateTimeFormat",M[M.NumberSymbols=13]="NumberSymbols",M[M.NumberFormats=14]="NumberFormats",M[M.CurrencyCode=15]="CurrencyCode",M[M.CurrencySymbol=16]="CurrencySymbol",M[M.CurrencyName=17]="CurrencyName",M[M.Currencies=18]="Currencies",M[M.Directionality=19]="Directionality",M[M.PluralCase=20]="PluralCase",M[M.ExtraData=21]="ExtraData",M))();const pd="en-US";let rS=pd;class SS{}class vH{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${ce(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Wo=(()=>{class t{}return t.NULL=new vH,t})();function wH(){return Ko(nt(),I())}function Ko(t,e){return new Ri(qn(t,e))}let Ri=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=wH,t})();function EH(t){return t instanceof Ri?t.nativeElement:t}class kS{}let vd=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function(){const t=I(),n=xn(nt().index,t);return function(t){return t[X]}(br(n)?n:t)}(),t})(),TH=(()=>{class t{}return t.\u0275prov=le({token:t,providedIn:"root",factory:()=>null}),t})();class ju{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const MS=new ju("13.0.3"),tm={};function wd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(ze(s)),rr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&wd(u[1],u,c,r)}const o=n.type;if(8&o)wd(t,e,n.child,r);else if(32&o){const a=Jp(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=O0(e,n);if(Array.isArray(a))r.push(...a);else{const u=Su(e[16]);wd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Bu{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return wd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(rr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(ng(e,r),Gl(n,r))}this._attachedToViewContainer=!1}C0(this._lView[1],this._lView)}onDestroy(e){aC(this._lView[1],this._lView,null,e)}markForCheck(){Dg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ag(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Nl(!0);try{Ag(t,e,n)}finally{Nl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,xu(this._lView[1],e=this._lView,e[X],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class DH extends Bu{constructor(e){super(e),this._view=e}detectChanges(){mC(this._view)}checkNoChanges(){!function(t){Nl(!0);try{mC(t)}finally{Nl(!1)}}(this._view)}get context(){return null}}class RS extends Wo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Lt(e);return new nm(n,this.ngModule)}}function NS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const AH=new ie("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_0});class nm extends SS{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=e.selectors.map(B2).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return NS(this.componentDef.inputs)}get outputs(){return NS(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,tm,i);return s!==tm||r===tm?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(kS,mD),a=s.get(TH,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function(t,e,n){if(Oe(t))return t.selectRootElement(e,n===Ir.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):tg(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||_0,clean:Sj,playerHandler:e||null,flags:0}}(),f=sd(0,null,null,1,0,null,null,null,null,null),p=ku(null,f,h,d,null,null,o,u,a,s);let g,y;Pl(p);try{const w=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Ao(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(ad(u,c,!0),null!==t&&(Vl(i,t,c),null!==u.classes&&ag(i,t,u.classes),null!==u.styles&&U0(i,t,u.styles)));const l=r.createRenderer(t,e),d=ku(n,iC(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(Hl(hu(u,n),o,e.type),hC(o,u),fC(u,n.length,1)),od(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)Vl(u,l,["ng-version",MS.full]);else{const{attrs:_,classes:x}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!sr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);_&&Vl(u,l,_),x&&x.length>0&&ag(u,l,x.join(" "))}if(y=yp(f,20),void 0!==n){const _=y.projection=[];for(let x=0;x<this.ngContentSelectors.length;x++){const F=n[x];_.push(null!=F?Array.from(F):null)}}g=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=nt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),pC(t,r,e,So(t,e,1,null),n));const i=fu(e,t,r.directiveStart,r);Vt(i,e);const s=qn(r,e);return s&&Vt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=nt();e.contentQueries(1,o,u.directiveStart)}const a=nt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ai(a.index),lC(n[1],a,0,a.directiveStart,a.directiveEnd,e),dC(e,o)),o}(w,this.componentDef,p,h,[Kj]),Mu(f,p,null)}finally{Ol()}return new kH(this.componentType,g,Ko(y,p),p,y)}}class kH extends class{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new DH(i),this.componentType=e}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class ei{}class PS{}const Qo=new Map;class LS extends ei{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new RS(this);const r=Bn(e);this._bootstrapComponents=Ar(r.bootstrap),this._r3Injector=DC(e,n,[{provide:ei,useValue:this},{provide:Wo,useValue:this.componentFactoryResolver}],ce(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Dt.THROW_IF_NOT_FOUND,r=K.Default){return e===Dt||e===ei||e===xg?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class rm extends PS{constructor(e){super(),this.moduleType=e,null!==Bn(e)&&function(t){const e=new Set;!function n(r){const i=Bn(r,!0),s=i.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${ce(e)} vs ${ce(e.name)}`)}(s,Qo.get(s),r),Qo.set(s,r));const o=Ar(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new LS(this.moduleType,e)}}function im(t,e,n){const r=function(){const t=H.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=I();return i[r]===W?function(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function sm(t){return e=>{setTimeout(t,void 0,e)}}const tn=class extends $r{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var u,c,l;let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const d=e;i=null==(u=d.next)?void 0:u.bind(d),s=null==(c=d.error)?void 0:c.bind(d),o=null==(l=d.complete)?void 0:l.bind(d)}this.__isAsync&&(s=sm(s),i&&(i=sm(i)),o&&(o=sm(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ge&&e.add(a),a}};function YH(){return this._results[Ro()]()}class om{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Ro(),r=om.prototype;r[n]||(r[n]=YH)}get changes(){return this._changes||(this._changes=new tn)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=Gn(e);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ti=(()=>{class t{}return t.__NG_ELEMENT_ID__=ZH,t})();const JH=ti,XH=class extends JH{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=ku(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),Mu(n,r,e),new Bu(r)}};function ZH(){return Ed(nt(),I())}function Ed(t,e){return 4&t.type?new XH(e,t,Ko(t,e)):null}let dr=(()=>{class t{}return t.__NG_ELEMENT_ID__=eq,t})();function eq(){return GS(nt(),I())}const tq=dr,HS=class extends tq{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ko(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){const e=$l(this._hostTNode,this._hostLView);if(RD(e)){const n=po(e,this._hostLView),r=fo(e);return new go(n[1].data[r+8],n)}return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=qS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new nm(Lt(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule&&c){const d=c.get(ei,null);d&&(s=d)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(rr(r[3])){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new HS(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],BD(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=sg(s,o),u=r[X],c=Zl(u,o[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,xu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),BD(am(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=qS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=ng(this._lContainer,n);r&&(Gl(am(this._lContainer),n),C0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=ng(this._lContainer,n);return r&&null!=Gl(am(this._lContainer),n)?new Bu(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function qS(t){return t[8]}function am(t){return t[8]||(t[8]=[])}function GS(t,e){let n;const r=e[t.index];if(rr(r))n=r;else{let i;if(8&t.type)i=ze(r);else{const s=e[X];i=s.createComment("");const o=qn(t,e);hs(s,Zl(s,o),i,function(t,e){return Oe(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=gC(r,e,i,t),od(e,n)}return new HS(n,t,e)}class um{constructor(e){this.queryList=e,this.matches=null}clone(){return new um(this.queryList)}setDirty(){this.queryList.setDirty()}}class cm{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new cm(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==YS(e,n).matches&&this.queries[n].setDirty()}}class zS{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class lm{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new lm(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class dm{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new dm(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,iq(n,s)),this.matchTNodeWithReadOption(e,n,ql(n,e,s,!1,!1))}else r===ti?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ql(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ri||i===dr||i===ti&&4&n.type)this.addMatch(n.index,-2);else{const s=ql(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function iq(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function oq(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ko(t,e):4&t.type?Ed(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ri?Ko(e,t):n===ti?Ed(e,t):n===dr?GS(e,t):void 0}(t,e,r):fu(t,t[1],n,e)}function WS(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:oq(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function hm(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=WS(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&hm(h[1],h,c,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];hm(f[1],f,c,r)}}}}}return r}function fm(t){const e=I(),n=de(),r=bD();Tp(r+1);const i=YS(n,r);if(t.dirty&&yD(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?hm(n,e,r,[]):WS(n,e,i,r);t.reset(s,EH),t.notifyOnChanges()}return!0}return!1}function pm(t,e,n,r){const i=de();if(i.firstCreatePass){const s=nt();(function(t,e,n){null===t.queries&&(t.queries=new lm),t.queries.track(new dm(e,n))})(i,new zS(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new om(4==(4&n));aC(t,e,r,r.destroy),null===e[19]&&(e[19]=new cm),e[19].queries.push(new um(r))}(i,I(),n)}function gm(){return t=I(),e=bD(),t[19].queries[e].queryList;var t,e}function YS(t,e){return t.queries.getByIndex(e)}function mm(t,e){return Ed(t,e)}function Td(...t){}const Dd=new ie("Application Initializer");let Jo=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Td,this.reject=Td,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(dd(s))n.push(s);else if(cA(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(V(Dd,8))},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();const Gu=new ie("AppId"),xq={provide:Gu,useFactory:function(){return`${Im()}${Im()}${Im()}`},deps:[]};function Im(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const px=new ie("Platform Initializer"),zu=new ie("Platform ID"),gx=new ie("appBootstrapListener");let mx=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();const Ni=new ie("LocaleId"),yx=new ie("DefaultCurrencyCode");class kq{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Cd=(()=>{class t{compileModuleSync(n){return new rm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Ar(Bn(n).declarations).reduce((o,a)=>{const u=Lt(a);return u&&o.push(new nm(u)),o},[]);return new kq(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();const Rq=(()=>Promise.resolve(0))();function bm(t){"undefined"==typeof Zone?Rq.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ue{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tn(!1),this.onMicrotaskEmpty=new tn(!1),this.onStable=new tn(!1),this.onError=new tn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=we.requestAnimationFrame,e=we.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(we,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Dm(t),t.isCheckStableRunning=!0,Tm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Dm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return _x(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),vx(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return _x(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),vx(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Dm(t),Tm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ue.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ue.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Pq,Td,Td);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Pq={};function Tm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Dm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _x(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vx(t){t._nesting--,Tm(t)}class Lq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tn,this.onMicrotaskEmpty=new tn,this.onStable=new tn,this.onError=new tn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let Cm=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ue.assertNotInAngularZone(),bm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())bm(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(V(Ue))},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})(),wx=(()=>{class t{constructor(){this._applications=new Map,Am.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Am.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();class Uq{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let hr,Am=new Uq;const Ex=new ie("AllowMultipleToken");class Ix{constructor(e,n){this.name=e,this.token=n}}function bx(t,e,n=[]){const r=`Platform: ${e}`,i=new ie(r);return(s=[])=>{let o=Tx();if(!o||o.injector.get(Ex,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:kg,useValue:"platform"});!function(t){if(hr&&!hr.destroyed&&!hr.injector.get(Ex,!1))throw new Dn("400","");hr=t.get(Dx);const e=t.get(px,null);e&&e.forEach(n=>n())}(Dt.create({providers:a,name:r}))}return function(t){const e=Tx();if(!e)throw new Dn("401","");return e}()}}function Tx(){return hr&&!hr.destroyed?hr:null}let Dx=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new Lq:("zone.js"===t?void 0:t)||new Ue({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Ue,useValue:a}];return a.run(()=>{const c=Dt.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(To,null);if(!d)throw new Dn("402","");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{Sm(this._modules,l),h.unsubscribe()})}),function(t,e,n){try{const r=n();return dd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(Jo);return h.runInitializers(),h.donePromise.then(()=>(function(t){An(t,"Expected localeId to be defined"),"string"==typeof t&&(rS=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Ni,pd)||pd),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=Cx({},r);return function(t,e,n){const r=new rm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Wu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Dn("403","");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Dn("404","");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(V(Dt))},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();function Cx(t,e){return Array.isArray(e)?e.reduce(Cx,t):$($({},t),e)}let Wu=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ce(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Ce(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),bm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function(...t){const e=iu(t),n=function(t,e){return"number"==typeof Zf(t)?t.pop():1/0}(t),r=t;return r.length?1===r.length?Hr(r[0]):ru(n)(Tt(r,e)):Gr}(a,u.pipe(function(t={}){const{connector:e=(()=>new $r),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return It((g,y)=>{c++,!d&&!l&&h();const w=u=null!=u?u:e();y.add(()=>{c--,0===c&&!d&&!l&&(a=ep(p,i))}),w.subscribe(y),o||(o=new oe({next:_=>w.next(_),error:_=>{d=!0,h(),a=ep(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=ep(f,r),w.complete()}}),Tt(g).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Dn("405","");let i;i=n instanceof SS?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(ei),a=i.create(Dt.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(Cm,null),l=c&&a.injector.get(wx);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),Sm(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Dn("101","");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Sm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(gx,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(V(Ue),V(Dt),V(To),V(Wo),V(Jo))},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();function Sm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Sx=!0,xm=(()=>{class t{}return t.__NG_ELEMENT_ID__=Qq,t})();function Qq(t){return function(t,e,n){if(xl(t)&&!n){const r=xn(t.index,e);return new Bu(r,r)}return 47&t.type?new Bu(e[16],e):null}(nt(),I(),16==(16&t))}class Ox{constructor(){}supports(e){return Nu(e)}create(e){return new nG(e)}}const tG=(t,e)=>e;class nG{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||tG}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Lx(r,i,s)?n:r,a=Lx(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Nu(e))throw new Error(`Error trying to diff '${ce(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ro()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new rG(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Fx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class rG{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iG{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Fx{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new iG,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lx(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ux{constructor(){}supports(e){return e instanceof Map||Fg(e)}create(){return new sG}}class sG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Fg(e)))throw new Error(`Error trying to diff '${ce(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new oG(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class oG{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vx(){return new Ku([new Ox])}let Ku=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Vx()),deps:[[t,new Eo,new We]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=le({token:t,providedIn:"root",factory:Vx}),t})();function jx(){return new Xo([new Ux])}let Xo=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||jx()),deps:[[t,new Eo,new We]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=le({token:t,providedIn:"root",factory:jx}),t})();const uG=[new Ux],lG=new Ku([new Ox]),dG=new Xo(uG),hG=bx(null,"core",[{provide:zu,useValue:"unknown"},{provide:Dx,deps:[Dt]},{provide:wx,deps:[]},{provide:mx,deps:[]}]),yG=[{provide:Wu,useClass:Wu,deps:[Ue,Dt,To,Wo,Jo]},{provide:AH,deps:[Ue],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:Jo,useClass:Jo,deps:[[new We,Dd]]},{provide:Cd,useClass:Cd,deps:[]},xq,{provide:Ku,useFactory:function(){return lG},deps:[]},{provide:Xo,useFactory:function(){return dG},deps:[]},{provide:Ni,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||pd},deps:[[new Iu(Ni),new We,new Eo]]},{provide:yx,useValue:"USD"}];let vG=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(V(Wu))},t.\u0275mod=Qr({type:t}),t.\u0275inj=Er({providers:yG}),t})(),Sd=null;function Pi(){return Sd}const Qn=new ie("DocumentToken");let ms=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=le({token:t,factory:function(){return V(Bx)},providedIn:"platform"}),t})();const TG=new ie("Location Initialized");let Bx=(()=>{class t extends ms{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pi().getBaseHref(this._doc)}onPopState(n){const r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){$x()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){$x()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(V(Qn))},t.\u0275prov=le({token:t,factory:function(){return new Bx(V(Qn))},providedIn:"platform"}),t})();function $x(){return!!window.history.pushState}function Pm(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Hx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ni(t){return t&&"?"!==t[0]?"?"+t:t}let Zo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=le({token:t,factory:function(){return function(t){const e=V(Qn).location;return new qx(V(ms),e&&e.origin||"")}()},providedIn:"root"}),t})();const Om=new ie("appBaseHref");let qx=(()=>{class t extends Zo{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Pm(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ni(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ni(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ni(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(V(ms),V(Om,8))},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})(),AG=(()=>{class t extends Zo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Pm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ni(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ni(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(V(ms),V(Om,8))},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})(),Fm=(()=>{class t{constructor(n,r){this._subject=new tn,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Hx(Gx(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ni(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Gx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ni(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ni(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformStrategy).historyGo)||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=ni,t.joinWithSlash=Pm,t.stripTrailingSlash=Hx,t.\u0275fac=function(n){return new(n||t)(V(Zo),V(ms))},t.\u0275prov=le({token:t,factory:function(){return new Fm(V(Zo),V(ms))},providedIn:"root"}),t})();function Gx(t){return t.replace(/\/index.html$/,"")}var Qe=(()=>((Qe=Qe||{})[Qe.Zero=0]="Zero",Qe[Qe.One=1]="One",Qe[Qe.Two=2]="Two",Qe[Qe.Few=3]="Few",Qe[Qe.Many=4]="Many",Qe[Qe.Other=5]="Other",Qe))();const FG=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=nS(e);if(n)return n;const r=e.split("-")[0];if(n=nS(r),n)return n;if("en"===r)return m$;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[M.PluralCase]};class Ud{}let d3=(()=>{class t extends Ud{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(FG(r||this.locale)(n)){case Qe.Zero:return"zero";case Qe.One:return"one";case Qe.Two:return"two";case Qe.Few:return"few";case Qe.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(V(Ni))},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})(),Ju=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new _3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){tk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){tk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(N(dr),N(ti))},t.\u0275dir=Ft({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class _3{constructor(){this.$implicit=null,this.ngIf=null}}function tk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ce(e)}'.`)}let G3=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=Er({providers:[{provide:Ud,useClass:d3}]}),t})();let Q3=(()=>{class t{}return t.\u0275prov=le({token:t,providedIn:"root",factory:()=>new Y3(V(Qn),window)}),t})();class Y3{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=sk(this.window.history)||sk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function sk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Qm extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Qm,Sd||(Sd=t)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Xu=Xu||document.querySelector("base"),Xu?Xu.getAttribute("href"):null);return null==n?null:function(t){Vd=Vd||document.createElement("a"),Vd.setAttribute("href",t);const e=Vd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Xu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Vd,Xu=null;const ok=new ie("TRANSITION_ID"),rz=[{provide:Dd,useFactory:function(t,e,n){return()=>{n.get(Jo).donePromise.then(()=>{const r=Pi(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[ok,Qn,Dt],multi:!0}];class Ym{static init(){var t;t=new Ym,Am=t}addToWindow(e){we.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},we.getAllAngularTestabilities=()=>e.getAllTestabilities(),we.getAllAngularRootElements=()=>e.getAllRootElements(),we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(r=>{const i=we.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Pi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let iz=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();const jd=new ie("EventManagerPlugins");let Bd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(V(jd),V(Ue))},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();class ak{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Pi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let uk=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})(),Zu=(()=>{class t extends uk{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(ck),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(ck))}}return t.\u0275fac=function(n){return new(n||t)(V(Qn))},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();function ck(t){Pi().remove(t)}const Jm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Xm=/%COMP%/g;function $d(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?$d(t,i,n):(i=i.replace(Xm,t),n.push(i))}return n}function hk(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Zm=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ey(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Ir.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new lz(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Ir.ShadowDom:return new dz(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=$d(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(V(Bd),V(Zu),V(Gu))},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();class ey{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Jm[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Jm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Jm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mn.DashCase|Mn.Important)?e.style.setProperty(n,r,i&Mn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,hk(r)):this.eventManager.addEventListener(e,n,hk(r))}}class lz extends ey{constructor(e,n,r,i){super(e),this.component=r;const s=$d(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(Xm,i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Xm,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class dz extends ey{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=$d(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let hz=(()=>{class t extends ak{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(V(Qn))},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();const pk=["alt","control","meta","shift"],pz={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gk={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gz={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let mz=(()=>{class t extends ak{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(pk.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&gk.hasOwnProperty(e)&&(e=gk[e]))}return pz[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),pk.forEach(s=>{s!=i&&gz[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(V(Qn))},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();const Ez=bx(hG,"browser",[{provide:zu,useValue:"browser"},{provide:px,useValue:function(){Qm.makeCurrent(),Ym.init()},multi:!0},{provide:Qn,useFactory:function(){return t=document,gp=t,document;var t},deps:[]}]),Iz=[{provide:kg,useValue:"root"},{provide:To,useFactory:function(){return new To},deps:[]},{provide:jd,useClass:hz,multi:!0,deps:[Qn,Ue,zu]},{provide:jd,useClass:mz,multi:!0,deps:[Qn]},{provide:Zm,useClass:Zm,deps:[Bd,Zu,Gu]},{provide:kS,useExisting:Zm},{provide:uk,useExisting:Zu},{provide:Zu,useClass:Zu,deps:[Qn]},{provide:Cm,useClass:Cm,deps:[Ue]},{provide:Bd,useClass:Bd,deps:[jd,Ue]},{provide:class{},useClass:iz,deps:[]}];let bz=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Gu,useValue:n.appId},{provide:ok,useExisting:Gu},rz]}}}return t.\u0275fac=function(n){return new(n||t)(V(t,12))},t.\u0275mod=Qr({type:t}),t.\u0275inj=Er({providers:Iz,imports:[G3,vG]}),t})();function ee(...t){return Tt(t,iu(t))}"undefined"!=typeof window&&window;class gr extends $r{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Pz}=Array,{getPrototypeOf:Oz,prototype:Fz,keys:Lz}=Object;const{isArray:jz}=Array;function qz(...t){const e=iu(t),n=function(t){return ve(Zf(t))?t.pop():void 0}(t),{args:r,keys:i}=function(t){if(1===t.length){const e=t[0];if(Pz(e))return{args:e,keys:null};if(function(t){return t&&"object"==typeof t&&Oz(t)===Fz}(e)){const n=Lz(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Tt([],e);const s=new Ce(function(t,e,n=ns){return r=>{_k(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)_k(e,()=>{const c=Tt(t[u],e);let l=!1;c.subscribe(new bt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):ns));return n?s.pipe(function(t){return be(e=>function(t,e){return jz(e)?t(...e):t(e)}(t,e))}(n)):s}function _k(t,e,n){t?qr(n,t,e):e()}const Hd=eo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ny(...t){return ru(1)(Tt(t,iu(t)))}function vk(t){return new Ce(e=>{Hr(t()).subscribe(e)})}function wk(){return It((t,e)=>{let n=null;t._refCount++;const r=new bt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Wz extends Ce{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,VT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;const n=this.getSubject();e.add(this.source.subscribe(new bt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return wk()(this)}}function ys(t,e){return It((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new bt(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;Hr(t(u,l)).subscribe(i=new bt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Qz(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(new bt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Ek(t,e){return It(Qz(t,e,arguments.length>=2,!0))}function ea(t,e){return It((n,r)=>{let i=0;n.subscribe(new bt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Fi(t){return It((e,n)=>{let s,r=null,i=!1;r=e.subscribe(new bt(n,void 0,void 0,o=>{s=Hr(t(o,Fi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function ec(t,e){return ve(e)?dt(t,e,1):dt(t,1)}function ry(t){return t<=0?()=>Gr:It((e,n)=>{let r=[];e.subscribe(new bt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ik(t=Yz){return It((e,n)=>{let r=!1;e.subscribe(new bt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Yz(){return new Hd}function bk(t){return It((e,n)=>{let r=!1;e.subscribe(new bt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ta(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ea((i,s)=>t(i,s,r)):ns,Il(1),n?bk(e):Ik(()=>new Hd))}function pn(t,e,n){const r=ve(t)||e||n?{next:t,error:e,complete:n}:t;return r?It((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new bt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ns}class ii{constructor(e,n){this.id=e,this.url=n}}class iy extends ii{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tc extends ii{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Tk extends ii{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zz extends ii{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eW extends ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tW extends ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nW extends ii{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rW extends ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iW extends ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dk{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ck{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sW{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oW{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aW{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uW{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ak{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const re="primary";class cW{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function na(t){return new cW(t)}const Sk="ngNavigationCancelingError";function sy(t){const e=Error("NavigationCancelingError: "+t);return e[Sk]=!0,e}function dW(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Nr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!xk(t[i],e[i]))return!1;return!0}function xk(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function kk(t){return Array.prototype.concat.apply([],t)}function Mk(t){return t.length>0?t[t.length-1]:null}function Ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Pr(t){return cA(t)?t:dd(t)?Tt(Promise.resolve(t)):ee(t)}const pW={exact:function Pk(t,e,n){if(!vs(t.segments,e.segments)||!qd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!Pk(t.children[r],e.children[r],n))return!1;return!0},subset:Ok},Rk={exact:function(t,e){return Nr(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xk(t[n],e[n]))},ignored:()=>!0};function Nk(t,e,n){return pW[n.paths](t.root,e.root,n.matrixParams)&&Rk[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Ok(t,e,n){return Fk(t,e,e.segments,n)}function Fk(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!vs(i,n)||e.hasChildren()||!qd(i,n,r))}if(t.segments.length===n.length){if(!vs(t.segments,n)||!qd(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!Ok(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(vs(t.segments,i)&&qd(t.segments,i,r)&&t.children[re])&&Fk(t.children[re],e,s,r)}}function qd(t,e,n){return e.every((r,i)=>Rk[n](t[i].parameters,r.parameters))}class _s{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=na(this.queryParams)),this._queryParamMap}toString(){return vW.serialize(this)}}class ae{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Ct(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gd(this)}}class nc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=na(this.parameters)),this._parameterMap}toString(){return Bk(this)}}function vs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class Lk{}class Uk{parse(e){const n=new SW(e);return new _s(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${rc(e.root,!0)}`,r=function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${zd(n)}=${zd(i)}`).join("&"):`${zd(n)}=${zd(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);var t;return`${n}${r}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const vW=new Uk;function Gd(t){return t.segments.map(e=>Bk(e)).join("/")}function rc(t,e){if(!t.hasChildren())return Gd(t);if(e){const n=t.children[re]?rc(t.children[re],!1):"",r=[];return Ct(t.children,(i,s)=>{s!==re&&r.push(`${s}:${rc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return Ct(t.children,(r,i)=>{i===re&&(n=n.concat(e(r,i)))}),Ct(t.children,(r,i)=>{i!==re&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===re?[rc(t.children[re],!1)]:[`${i}:${rc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${Gd(t)}/${n[0]}`:`${Gd(t)}/(${n.join("//")})`}}function Vk(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zd(t){return Vk(t).replace(/%3B/gi,";")}function oy(t){return Vk(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wd(t){return decodeURIComponent(t)}function jk(t){return Wd(t.replace(/\+/g,"%20"))}function Bk(t){return`${oy(t.path)}${function(t){return Object.keys(t).map(e=>`;${oy(e)}=${oy(t[e])}`).join("")}(t.parameters)}`}const bW=/^[^\/()?;=#]+/;function Kd(t){const e=t.match(bW);return e?e[0]:""}const TW=/^[^=?&#]+/,CW=/^[^&#]+/;class SW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new ae(e,n)),r}parseSegment(){const e=Kd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new nc(Wd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Kd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Kd(this.remaining);i&&(r=i,this.capture(r))}e[Wd(n)]=Wd(r)}parseQueryParam(e){const n=function(t){const e=t.match(TW);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function(t){const e=t.match(CW);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=jk(n),s=jk(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Kd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[re]:new ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class $k{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=ay(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=ay(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=uy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return uy(e,this._root).map(n=>n.value)}}function ay(t,e){if(t===e.value)return e;for(const n of e.children){const r=ay(t,n);if(r)return r}return null}function uy(t,e){if(t===e.value)return[e];for(const n of e.children){const r=uy(t,n);if(r.length)return r.unshift(e),r}return[]}class si{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ra(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class Hk extends $k{constructor(e,n){super(e),this.snapshot=n,cy(this,e)}toString(){return this.snapshot.toString()}}function qk(t,e){const n=function(t,e){const o=new Qd([],{},{},"",{},re,e,null,t.root,-1,{});return new zk("",new si(o,[]))}(t,e),r=new gr([new nc("",{})]),i=new gr({}),s=new gr({}),o=new gr({}),a=new gr(""),u=new oi(r,i,o,a,s,re,e,n.root);return u.snapshot=n.root,new Hk(new si(u,[]),n)}class oi{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(be(e=>na(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(be(e=>na(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gk(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:$($({},e.params),n.params),data:$($({},e.data),n.data),resolve:$($({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Qd{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=na(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=na(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zk extends $k{constructor(e,n){super(n),this.url=e,cy(this,n)}toString(){return Wk(this._root)}}function cy(t,e){e.value._routerState=t,e.children.forEach(n=>cy(t,n))}function Wk(t){const e=t.children.length>0?` { ${t.children.map(Wk).join(", ")} } `:"";return`${t.value}${e}`}function ly(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Nr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Nr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Nr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Nr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function dy(t,e){const n=Nr(t.params,e.params)&&function(t,e){return vs(t,e)&&t.every((n,r)=>Nr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||dy(t.parent,e.parent))}function ic(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ic(t,r,i);return ic(t,r)})}(t,e,n);return new si(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ic(t,a)),o}}const r=function(t){return new oi(new gr(t.url),new gr(t.params),new gr(t.queryParams),new gr(t.fragment),new gr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>ic(t,s));return new si(r,i)}}function Yd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function sc(t){return"object"==typeof t&&null!=t&&t.outlets}function hy(t,e,n,r,i){let s={};return r&&Ct(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new _s(n.root===t?e:Kk(n.root,t,e),s,i)}function Kk(t,e,n){const r={};return Ct(t.children,(i,s)=>{r[s]=i===e?n:Kk(i,e,n)}),new ae(t.segments,r)}class Qk{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Yd(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(sc);if(i&&i!==Mk(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fy{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Yk(t,e,n){if(t||(t=new ae([],{})),0===t.segments.length&&t.hasChildren())return Jd(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(sc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Xk(u,c,o))return s;r+=2}else{if(!Xk(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ae(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new ae(t.segments.slice(r.pathIndex),t.children),Jd(s,0,i)}return r.match&&0===i.length?new ae(t.segments,{}):r.match&&!t.hasChildren()?py(t,e,n):r.match?Jd(t,0,i):py(t,e,n)}function Jd(t,e,n){if(0===n.length)return new ae(t.segments,{});{const r=function(t){return sc(t[0])?t[0].outlets:{[re]:t}}(n),i={};return Ct(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Yk(t.children[o],e,s))}),Ct(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ae(t.segments,i)}}function py(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(sc(s)){const u=jW(s.outlets);return new ae(r,u)}if(0===i&&Yd(n[0])){r.push(new nc(t.segments[e].path,Jk(n[0]))),i++;continue}const o=sc(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Yd(a)?(r.push(new nc(o,Jk(a))),i+=2):(r.push(new nc(o,{})),i++)}return new ae(r,{})}function jW(t){const e={};return Ct(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=py(new ae([],{}),0,n))}),e}function Jk(t){const e={};return Ct(t,(n,r)=>e[r]=`${n}`),e}function Xk(t,e,n){return t==n.path&&Nr(e,n.parameters)}class $W{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ly(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ra(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ct(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ra(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ra(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=ra(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new uW(s.value.snapshot))}),e.children.length&&this.forwardEvent(new oW(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(ly(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ly(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class gy{constructor(e,n){this.routes=e,this.module=n}}function Li(t){return"function"==typeof t}function ws(t){return t instanceof _s}const oc=Symbol("INITIAL_VALUE");function ac(){return ys(t=>qz(t.map(e=>e.pipe(Il(1),function(...t){const e=iu(t);return It((n,r)=>{(e?ny(t,n,e):ny(t,n)).subscribe(r)})}(oc)))).pipe(Ek((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==oc?i:(s===oc&&(r=!0),r||!1!==s&&o!==n.length-1&&!ws(s)?i:s),e)},oc),ea(e=>e!==oc),be(e=>ws(e)?e:!0===e),Il(1)))}class QW{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new uc,this.attachRef=null}}class uc{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new QW,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let my=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new tn,this.deactivateEvents=new tn,this.attachEvents=new tn,this.detachEvents=new tn,this.name=s||re,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new YW(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(N(uc),N(dr),N(Wo),pu("name"),N(xm))},t.\u0275dir=Ft({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class YW{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===oi?this.route:e===uc?this.childContexts:this.parent.get(e,n)}}let Zk=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Kr({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Xt(0,"router-outlet")},directives:[my],encapsulation:2}),t})();function e1(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];JW(r,XW(e,r))}}function JW(t,e){t.children&&e1(t.children,e)}function XW(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function yy(t){const e=t.children&&t.children.map(yy),n=e?bn($({},t),{children:e}):$({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=Zk),n}function Xn(t){return t.outlet||re}function t1(t,e){const n=t.filter(r=>Xn(r)===e);return n.push(...t.filter(r=>Xn(r)!==e)),n}const n1={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Xd(t,e,n){var a;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?$({},n1):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||dW)(n,t,e);if(!i)return $({},n1);const s={};Ct(i.posParams,(u,c)=>{s[c]=u.path});const o=i.consumed.length>0?$($({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!=(a=i.posParams)?a:{}}}function Zd(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>eh(t,e,r)&&Xn(r)!==re)}(t,n,r)){const o=new ae(e,function(t,e,n,r){const i={};i[re]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Xn(s)!==re){const o=new ae([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Xn(s)]=o}return i}(t,e,r,new ae(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>eh(t,e,r))}(t,n,r)){const o=new ae(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(eh(t,n,a)&&!i[Xn(a)]){const u=new ae([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Xn(a)]=u}return $($({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new ae(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function eh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function r1(t,e,n,r){return!!(Xn(t)===r||r!==re&&eh(e,n,t))&&("**"===t.path||Xd(e,t,n).matched)}function i1(t,e,n){return 0===e.length&&!t.children[n]}class cc{constructor(e){this.segmentGroup=e||null}}class s1{constructor(e){this.urlTree=e}}function th(t){return new Ce(e=>e.error(new cc(t)))}function o1(t){return new Ce(e=>e.error(new s1(t)))}function r4(t){return new Ce(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class o4{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(ei)}apply(){const e=Zd(this.urlTree.root,[],[],this.config).segmentGroup,n=new ae(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,re).pipe(be(s=>this.createUrlTree(_y(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fi(s=>{if(s instanceof s1)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof cc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,re).pipe(be(i=>this.createUrlTree(_y(i),e.queryParams,e.fragment))).pipe(Fi(i=>{throw i instanceof cc?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new ae([],{[re]:e}):e;return new _s(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(be(s=>new ae([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Tt(i).pipe(ec(s=>{const o=r.children[s],a=t1(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(be(u=>({segment:u,outlet:s})))}),Ek((s,o)=>(s[o.outlet]=o.segment,s),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ea((i,s)=>t(i,s,r)):ns,ry(1),n?bk(e):Ik(()=>new Hd))}())}expandSegment(e,n,r,i,s,o){return Tt(r).pipe(ec(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Fi(c=>{if(c instanceof cc)return ee(null);throw c}))),ta(a=>!!a),Fi((a,u)=>{if(a instanceof Hd||"EmptyError"===a.name){if(i1(n,i,s))return ee(new ae([],{}));throw new cc(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return r1(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):th(n):th(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?o1(s):this.lineralizeSegments(r,s).pipe(dt(o=>{const a=new ae(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=Xd(n,i,s);if(!a)return th(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?o1(d):this.lineralizeSegments(i,d).pipe(dt(h=>this.expandSegment(e,n,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ee(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(be(h=>(r._loadedConfig=h,new ae(i,{})))):ee(new ae(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=Xd(n,r,i);if(!o)return th(n);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(dt(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:g}=Zd(n,a,c,f),y=new ae(p.segments,p.children);if(0===g.length&&y.hasChildren())return this.expandChildren(h,f,y).pipe(be(F=>new ae(a,F)));if(0===f.length&&0===g.length)return ee(new ae(a,{}));const w=Xn(r)===s;return this.expandSegment(h,y,f,g,w?re:s,!0).pipe(be(x=>new ae(a.concat(x.segments),x.children)))}))}getChildConfig(e,n,r){return n.children?ee(new gy(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?ee(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(dt(i=>{return i?this.configLoader.load(e.injector,n).pipe(be(s=>(n._loadedConfig=s,s))):(t=n,new Ce(e=>e.error(sy(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):ee(new gy([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?ee(i.map(o=>{const a=e.get(o);let u;if((t=a)&&Li(t.canLoad))u=a.canLoad(n,r);else{if(!Li(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}var t;return Pr(u)})).pipe(ac(),pn(o=>{if(!ws(o))return;const a=sy(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),be(o=>!0===o)):ee(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[re])return r4(e.redirectTo);i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new _s(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Ct(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Ct(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function _y(t){const e={};for(const r of Object.keys(t.children)){const s=_y(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new ae(t.segments.concat(e.segments),e.children)}return t}(new ae(t.segments,e))}class a1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class nh{constructor(e,n){this.component=e,this.route=n}}function c4(t,e,n){const r=t._root;return lc(r,e?e._root:null,n,[r.value])}function rh(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function lc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ra(e);return t.children.forEach(o=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!vs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!vs(t.url,e.url)||!Nr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dy(t,e)||!Nr(t.queryParams,e.queryParams);default:return!dy(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new a1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),lc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new nh(a.outlet.component,o))}else o&&dc(e,a,i),i.canActivateChecks.push(new a1(r)),lc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Ct(s,(o,a)=>dc(o,n.getContext(a),i)),i}function dc(t,e,n){const r=ra(t),i=t.value;Ct(r,(s,o)=>{dc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new nh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class I4{}function u1(t){return new Ce(e=>e.error(t))}class T4{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Zd(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,re);if(null===n)return null;const r=new Qd([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new si(r,n),s=new zk(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=Gk(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=t1(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=c1(r);return i.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet)),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return i1(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!r1(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?Mk(r).parameters:{};s=new Qd(r,f,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,h1(e),Xn(e),e.component,e,l1(n),d1(n)+r.length,f1(e))}else{const f=Xd(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new Qd(o,f.parameters,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,h1(e),Xn(e),e.component,e,l1(n),d1(n)+o.length,f1(e))}const u=(t=e).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:c,slicedSegments:l}=Zd(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);var t;if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new si(s,f)]}if(0===u.length&&0===l.length)return[new si(s,[])];const d=Xn(e)===i,h=this.processSegment(u,c,l,d?re:i);return null===h?null:[new si(s,h)]}}function A4(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function c1(t){const e=[],n=new Set;for(const r of t){if(!A4(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=c1(r.children);e.push(new si(r.value,i))}return e.filter(r=>!n.has(r))}function l1(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function d1(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function h1(t){return t.data||{}}function f1(t){return t.resolve||{}}function vy(t){return ys(e=>{const n=t(e);return n?Tt(n).pipe(be(()=>e)):ee(e)})}class O4 extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const wy=new ie("ROUTES");class p1{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(be(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new gy(kk(o.injector.get(wy,void 0,K.Self|K.Optional)).map(yy),o)}),Fi(s=>{throw n._loader$=void 0,s}));return n._loader$=new Wz(i,()=>new $r).pipe(wk()),n._loader$}loadModuleFactory(e){return Pr(e()).pipe(dt(n=>n instanceof PS?ee(n):Tt(this.compiler.compileModuleAsync(n))))}}class L4{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function U4(t){throw t}function V4(t,e,n){return e.parse("/")}function g1(t,e){return ee(null)}const j4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},B4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gn=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $r,this.errorHandler=U4,this.malformedUriErrorHandler=V4,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:g1,afterPreactivation:g1},this.urlHandlingStrategy=new L4,this.routeReuseStrategy=new O4,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(ei),this.console=o.get(mx);const d=o.get(Ue);this.isNgZoneEnabled=d instanceof Ue&&Ue.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new _s(new ae([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new p1(o,a,h=>this.triggerEvent(new Dk(h)),h=>this.triggerEvent(new Ck(h))),this.routerState=qk(this.currentUrlTree,this.rootComponentType),this.transitions=new gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null==(n=this.location.getState())?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(ea(i=>0!==i.id),be(i=>bn($({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ys(i=>{let s=!1,o=!1;return ee(i).pipe(pn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?bn($({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ys(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return ih(a.source)&&(this.browserUrlTree=a.extractedUrl),ee(a).pipe(ys(d=>{const h=this.transitions.getValue();return r.next(new iy(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Gr:Promise.resolve(d)}),function(t,e,n,r){return ys(i=>function(t,e,n,r,i){return new o4(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(be(s=>bn($({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),pn(d=>{this.currentNavigation=bn($({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(t,e,n,r,i){return dt(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new T4(t,e,n,r,i,s).recognize();return null===o?u1(new I4):ee(o)}catch(o){return u1(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(be(o=>bn($({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),pn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new eW(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:y}=a,w=new iy(h,this.serializeUrl(f),p,g);r.next(w);const _=qk(f,this.rootComponentType).snapshot;return ee(bn($({},a),{targetSnapshot:_,urlAfterRedirects:f,extras:bn($({},y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Gr}),vy(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),pn(a=>{const u=new tW(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),be(a=>bn($({},a),{guards:c4(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(t,e){return dt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ee(bn($({},n),{guardsResult:!0})):function(t,e,n,r){return Tt(t).pipe(dt(i=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const u=rh(a,e,i);let c;if(function(t){return t&&Li(t.canDeactivate)}(u))c=Pr(u.canDeactivate(t,e,n,r));else{if(!Li(u))throw new Error("Invalid CanDeactivate guard");c=Pr(u(t,e,n,r))}return c.pipe(ta())})).pipe(ac()):ee(!0)}(i.component,i.route,n,e,r)),ta(i=>!0!==i,!0))}(o,r,i,t).pipe(dt(a=>a&&function(t){return"boolean"==typeof t}(a)?function(t,e,n,r){return Tt(e).pipe(ec(i=>ny(function(t,e){return null!==t&&e&&e(new sW(t)),ee(!0)}(i.route.parent,r),function(t,e){return null!==t&&e&&e(new aW(t)),ee(!0)}(i.route,r),function(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>vk(()=>ee(o.guards.map(u=>{const c=rh(u,o.node,n);let l;if(function(t){return t&&Li(t.canActivateChild)}(c))l=Pr(c.canActivateChild(r,t));else{if(!Li(c))throw new Error("Invalid CanActivateChild guard");l=Pr(c(r,t))}return l.pipe(ta())})).pipe(ac())));return ee(s).pipe(ac())}(t,i.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>vk(()=>{const o=rh(s,e,n);let a;if(function(t){return t&&Li(t.canActivate)}(o))a=Pr(o.canActivate(e,t));else{if(!Li(o))throw new Error("Invalid CanActivate guard");a=Pr(o(e,t))}return a.pipe(ta())}));return ee(i).pipe(ac())}(t,i.route,n))),ta(i=>!0!==i,!0))}(r,s,t,e):ee(a)),be(a=>bn($({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),pn(a=>{if(ws(a.guardsResult)){const c=sy(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new nW(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),ea(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),vy(a=>{if(a.guards.canActivateChecks.length)return ee(a).pipe(pn(u=>{const c=new rW(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),ys(u=>{let c=!1;return ee(u).pipe(function(t,e){return dt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=0;return Tt(i).pipe(ec(o=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return ee({});const s={};return Tt(i).pipe(dt(o=>function(t,e,n,r){const i=rh(t,e,r);return Pr(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(pn(a=>{s[o]=a}))),ry(1),dt(()=>Object.keys(s).length===i.length?ee(s):Gr))}(t._resolve,t,e,r).pipe(be(s=>(t._resolvedData=s,t.data=$($({},t.data),Gk(t,n).resolve),null)))}(o.route,r,t,e)),pn(()=>s++),ry(1),dt(o=>s===i.length?ee(n):Gr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),pn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),pn(u=>{const c=new iW(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),vy(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),be(a=>{const u=function(t,e,n){const r=ic(t,e._root,n?n._root:void 0);return new Hk(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return bn($({},a),{targetRouterState:u})}),pn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>be(r=>(new $W(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),pn({next(){s=!0},complete(){s=!0}}),function(t){return It((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null==(a=this.currentNavigation)?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Fi(a=>{if(o=!0,function(t){return t&&t[Sk]}(a)){const u=ws(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new Tk(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ih(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new Zz(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Gr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next($($({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const i={replaceUrl:!0},s=(null==(a=n.state)?void 0:a.navigationId)?n.state:null;if(s){const u=$({},s);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){e1(n),this.config=n.map(yy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=$($({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,i){if(0===n.length)return hy(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Qk(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ct(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Qk(n,e,r)}(n);if(s.toRoot())return hy(e.root,new ae([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new fy(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new fy(s,s===e.root,0)}const r=Yd(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new fy(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Jd(o.segmentGroup,o.index,s.commands):Yk(o.segmentGroup,o.index,s.commands);return hy(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ws(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?$({},j4):!1===r?$({},B4):r,ws(n))return Nk(this.currentUrlTree,n,i);const s=this.parseUrl(n);return Nk(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new tc(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var w,_,x;if(this.disposed)return Promise.resolve(!1);const a=this.transitions.value,u=ih(r)&&a&&!ih(a.source),c=a.rawUrl.toString()===n.toString(),l=a.id===(null==(w=this.currentNavigation)?void 0:w.id);if(u&&c&&l)return Promise.resolve(!0);let h,f,p;o?(h=o.resolve,f=o.reject,p=o.promise):p=new Promise((F,Q)=>{h=F,f=Q});const g=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),y=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!=(_=this.browserPageId)?_:0:(null!=(x=this.browserPageId)?x:0)+1):y=0,this.setTransition({id:g,targetPageId:y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:h,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(F=>Promise.reject(F))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=$($({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(i=this.currentNavigation)?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null==(s=this.currentNavigation)?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new Tk(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Hg()},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();function ih(t){return"imperative"!==t}let Ey=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new $r,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==n?r.setAttribute(i,"tabindex",n):r.removeAttribute(i,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const n={skipLocationChange:ia(this.skipLocationChange),replaceUrl:ia(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ia(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(N(gn),N(oi),pu("tabindex"),N(vd),N(Ri))},t.\u0275dir=Ft({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&Kn("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[cs]}),t})(),Ui=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new $r,this.subscription=n.events.subscribe(s=>{s instanceof tc&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:ia(this.skipLocationChange),replaceUrl:ia(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ia(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(N(gn),N(oi),N(Zo))},t.\u0275dir=Ft({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&Kn("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Lg("target",r.target)("href",r.href,ds)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[cs]}),t})();function ia(t){return""===t||!!t}let hc=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new tn,this.routerEventsSubscription=n.events.subscribe(u=>{u instanceof tc&&this.update()})}ngAfterContentInit(){ee(this.links.changes,this.linksWithHrefs.changes,ee(null)).pipe(ru()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var r;null==(r=this.linkInputChangesSubscription)||r.unsubscribe();const n=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Tt(n).pipe(ru()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){var n;this.routerEventsSubscription.unsubscribe(),null==(n=this.linkInputChangesSubscription)||n.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const n=this.hasActiveLinks();this.isActive!==n&&(this.isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.linkWithHref&&n(this.linkWithHref)||this.links.some(n)||this.linksWithHrefs.some(n)}}return t.\u0275fac=function(n){return new(n||t)(N(gn),N(Ri),N(vd),N(xm),N(Ey,8),N(Ui,8))},t.\u0275dir=Ft({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,i){if(1&n&&(pm(i,Ey,5),pm(i,Ui,5)),2&n){let s;fm(s=gm())&&(r.links=s),fm(s=gm())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[cs]}),t})();class m1{}class y1{preload(e,n){return ee(null)}}let _1=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new p1(i,r,u=>n.triggerEvent(new Dk(u)),u=>n.triggerEvent(new Ck(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(ea(n=>n instanceof tc),ec(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(ei);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return Tt(i).pipe(ru(),be(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ee(r._loadedConfig):this.loader.load(n.injector,r)).pipe(dt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(V(gn),V(Cd),V(Dt),V(m1))},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})(),Iy=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof iy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof tc&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Ak&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new Ak(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Hg()},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();const Es=new ie("ROUTER_CONFIGURATION"),v1=new ie("ROUTER_FORROOT_GUARD"),G4=[Fm,{provide:Lk,useClass:Uk},{provide:gn,useFactory:function(t,e,n,r,i,s,o={},a,u){const c=new gn(null,t,e,n,r,i,kk(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null==(d=console.group)||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null==(h=console.groupEnd)||h.call(console)}),c},deps:[Lk,uc,Fm,Dt,Cd,wy,Es,[class{},new We],[class{},new We]]},uc,{provide:oi,useFactory:function(t){return t.routerState.root},deps:[gn]},_1,y1,class{preload(e,n){return n().pipe(Fi(()=>ee(null)))}},{provide:Es,useValue:{enableTracing:!1}}];function z4(){return new Ix("Router",gn)}let by=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[G4,w1(n),{provide:v1,useFactory:Q4,deps:[[gn,new We,new Eo]]},{provide:Es,useValue:r||{}},{provide:Zo,useFactory:K4,deps:[ms,[new Iu(Om),new We],Es]},{provide:Iy,useFactory:W4,deps:[gn,Q3,Es]},{provide:m1,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:y1},{provide:Ix,multi:!0,useFactory:z4},[Ty,{provide:Dd,multi:!0,useFactory:Z4,deps:[Ty]},{provide:E1,useFactory:e8,deps:[Ty]},{provide:gx,multi:!0,useExisting:E1}]]}}static forChild(n){return{ngModule:t,providers:[w1(n)]}}}return t.\u0275fac=function(n){return new(n||t)(V(v1,8),V(gn,8))},t.\u0275mod=Qr({type:t}),t.\u0275inj=Er({}),t})();function W4(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Iy(t,e,n)}function K4(t,e,n={}){return n.useHash?new AG(t,e):new qx(t,e)}function Q4(t){return"guarded"}function w1(t){return[{provide:ZU,multi:!0,useValue:t},{provide:wy,multi:!0,useValue:t}]}let Ty=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new $r}appInitializer(){return this.injector.get(TG,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(gn),o=this.injector.get(Es);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ee(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Es),i=this.injector.get(_1),s=this.injector.get(Iy),o=this.injector.get(gn),a=this.injector.get(Wu);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(V(Dt))},t.\u0275prov=le({token:t,factory:t.\u0275fac}),t})();function Z4(t){return t.appInitializer.bind(t)}function e8(t){return t.bootstrapListener.bind(t)}const E1=new ie("Router Initializer"),n8=[];let r8=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=Er({imports:[[by.forRoot(n8)],by]}),t})();const I1=function(){return{exact:!0}};function i8(t,e){if(1&t){const n=Gg();T(0,"span"),T(1,"img",12),Kn("click",function(){return ls(n),Zt(2).toggleNavMenu()}),D(),T(2,"div",4),T(3,"div",13),T(4,"a",14),Kn("click",function(){return ls(n),Zt(2).toggleNavMenu()}),T(5,"strong",15),q(6,"00"),D(),q(7,"\xa0\xa0HOME "),D(),T(8,"a",16),Kn("click",function(){return ls(n),Zt(2).toggleNavMenu()}),T(9,"strong",15),q(10,"01"),D(),q(11,"\xa0\xa0DESTINATION "),D(),T(12,"a",17),Kn("click",function(){return ls(n),Zt(2).toggleNavMenu()}),T(13,"strong",15),q(14,"02"),D(),q(15,"\xa0\xa0CREW "),D(),T(16,"a",18),Kn("click",function(){return ls(n),Zt(2).toggleNavMenu()}),T(17,"strong",15),q(18,"03"),D(),q(19,"\xa0\xa0TECHNOLOGY "),D(),D(),D(),D()}2&t&&(ke(4),Wn("routerLinkActiveOptions",im(1,I1)))}function s8(t,e){if(1&t){const n=Gg();T(0,"img",19),Kn("click",function(){return ls(n),Zt(2).toggleNavMenu()}),D()}}function o8(t,e){if(1&t&&(T(0,"span",9),ur(1,i8,20,2,"span",10),ur(2,s8,1,0,"ng-template",null,11,mm),D()),2&t){const n=Ug(3),r=Zt();ke(1),Wn("ngIf",r.isOpened)("ngIfElse",n)}}let a8=(()=>{class t{constructor(){}ngOnInit(){this.isMobile=window.innerWidth<376,this.isOpened=!1}toggleNavMenu(){const n=document.getElementById("nav-menu");null==n||n.classList.toggle("opened"),this.isOpened=!!(null==n?void 0:n.classList.contains("opened")),console.log(this.isOpened)}onResize(){this.innerWidth=window.innerWidth,this.isMobile=window.innerWidth<376}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Kr({type:t,selectors:[["app-navbar"]],hostBindings:function(n,r){1&n&&Kn("resize",function(s){return r.onResize(s)},!1,Qp)},decls:22,vars:3,consts:[[1,"top-navbar"],["src","../../assets/shared/logo.svg","alt","",1,"navbar-img"],[1,"divider"],["class","hamburger-menu","id","nav-menu",4,"ngIf"],[1,"nav-links"],["routerLinkActive","active current","routerLink","/",1,"nav-link",3,"routerLinkActiveOptions"],["routerLinkActive","active current","routerLink","/destination/1",1,"nav-link"],["routerLinkActive","active current","routerLink","/crew/1",1,"nav-link"],["routerLinkActive","active current","routerLink","/technology/1",1,"nav-link"],["id","nav-menu",1,"hamburger-menu"],[4,"ngIf","ngIfElse"],["navClosed",""],["src","../../assets/shared/icon-close.svg","alt","",1,"hamburger-menu-icon",3,"click"],[1,"link-container"],["routerLinkActive","active current","routerLink","/",1,"nav-link",3,"routerLinkActiveOptions","click"],[1,"nav-link-text-bold"],["routerLinkActive","active current","routerLink","/destination/1",1,"nav-link",3,"click"],["routerLinkActive","active current","routerLink","/crew/1",1,"nav-link",3,"click"],["routerLinkActive","active current","routerLink","/technology/1",1,"nav-link",3,"click"],["src","../../assets/shared/icon-hamburger.svg","alt","",1,"hamburger-menu-icon",3,"click"]],template:function(n,r){1&n&&(T(0,"header",0),Xt(1,"img",1),T(2,"span",2),Xt(3,"hr"),D(),ur(4,o8,4,2,"span",3),T(5,"span",4),T(6,"a",5),T(7,"strong"),q(8,"00"),D(),q(9,"\xa0\xa0HOME "),D(),T(10,"a",6),T(11,"strong"),q(12,"01"),D(),q(13,"\xa0\xa0DESTINATION "),D(),T(14,"a",7),T(15,"strong"),q(16,"02"),D(),q(17,"\xa0\xa0CREW "),D(),T(18,"a",8),T(19,"strong"),q(20,"03"),D(),q(21,"\xa0\xa0TECHNOLOGY "),D(),D(),D()),2&n&&(ke(4),Wn("ngIf",r.isMobile),ke(2),Wn("routerLinkActiveOptions",im(2,I1)))},directives:[Ju,Ui,hc],styles:[".divider[_ngcontent-%COMP%]{flex-grow:1}hr[_ngcontent-%COMP%]{left:6%;position:relative;z-index:2}.nav-links[_ngcontent-%COMP%]{padding:2.5em 15em 2.5em 5em;color:var(--clr-light);background-color:#ffffff08;-webkit-backdrop-filter:blur(35px);backdrop-filter:blur(35px)}.nav-link[_ngcontent-%COMP%]{color:var(--clr-light);text-decoration:none;padding-bottom:2.4em;border-bottom:2px solid transparent;margin:0 0 0 6em}.nav-link-container[_ngcontent-%COMP%]{margin-right:2em}.nav-link.active[_ngcontent-%COMP%]{border-bottom:3px solid var(--clr-light)}.nav-link[_ngcontent-%COMP%]:hover{border-bottom:3px solid var(--clr-gray)}.top-navbar[_ngcontent-%COMP%]{position:absolute;width:100%;margin:4em 0 0;padding:0 0 0 3em;display:flex;justify-content:space-between;align-items:center}@media (max-width:768px) and (min-width:376px){.divider[_ngcontent-%COMP%]{display:none}.top-navbar[_ngcontent-%COMP%]{margin:0}.nav-links[_ngcontent-%COMP%]{display:flex;padding:2.5em 0 0;justify-content:space-around}.nav-link[_ngcontent-%COMP%]{margin:0 0 0 2.5em}.nav-link[_ngcontent-%COMP%]:last-of-type{margin-right:2.5em}.navbar-img[_ngcontent-%COMP%]{margin:0}strong[_ngcontent-%COMP%]{display:none}}@media (max-width:375px){.divider[_ngcontent-%COMP%]{display:none}.nav-links[_ngcontent-%COMP%]{display:none;right:0;top:0;padding:0;height:100vh;width:66vw;position:absolute;z-index:2}.top-navbar[_ngcontent-%COMP%]{padding:1.5em;margin:0}.navbar-img[_ngcontent-%COMP%]{width:2.5rem;margin:0}.hamburger-menu-icon[_ngcontent-%COMP%]{position:relative;z-index:100}.hamburger-menu.opened[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{display:grid}.link-container[_ngcontent-%COMP%]{padding:7em 0 0 1em;display:flex;flex-direction:column}.nav-link[_ngcontent-%COMP%]{margin-left:1em}.nav-link.active[_ngcontent-%COMP%]{border-bottom:none}}"]}),t})(),u8=(()=>{class t{constructor(n){this.router=n,this.title="space-tourism-challenge"}ngOnInit(){this.router.navigate([""])}}return t.\u0275fac=function(n){return new(n||t)(N(gn))},t.\u0275cmp=Kr({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){1&n&&(Xt(0,"app-navbar"),Xt(1,"router-outlet"))},directives:[a8,my],styles:[""]}),t})(),b1=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Kr({type:t,selectors:[["home"]],decls:12,vars:0,consts:[[1,"content-container"],[1,"content-text"],["routerLink","/destination/1",1,"content-button"]],template:function(n,r){1&n&&(T(0,"body"),T(1,"section",0),T(2,"section",1),T(3,"h5"),q(4,"SO, YOU WANT TO TRAVEL TO"),D(),T(5,"h1"),q(6,"SPACE"),D(),T(7,"p"),q(8," Let's face it; if you want to go to space, you might as well genuinely go to outer space and not hover kind of on the edge of it. Well, sit back and relax, because we'll give you a truly out of this world experience! "),D(),D(),T(9,"a",2),T(10,"h4"),q(11,"EXPLORE"),D(),D(),D(),D())},directives:[Ui],styles:["body[_ngcontent-%COMP%]{background-image:url(background-home-desktop.b9634a6f7dc6fbff.jpg);background-size:cover;padding:0 9em 10em}.content-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:25em;column-gap:25em;height:100%;overflow:visible}.content-text[_ngcontent-%COMP%]{justify-self:start;align-self:end}.content-button[_ngcontent-%COMP%]{justify-self:center;align-self:end;padding:3.5em;text-decoration:none;background:var(--clr-light);color:var(--clr-dark);border-radius:50%;border:0px solid rgba(80,80,80,.9);margin-bottom:0;-webkit-background-clip:padding-box;background-clip:padding-box}.content-button[_ngcontent-%COMP%]:hover{border-width:4em;margin-bottom:-4em;-webkit-background-clip:padding-box;background-clip:padding-box}@media (max-width:768px){body[_ngcontent-%COMP%]{background-image:url(background-home-tablet.3c45e823f7489003.jpg);padding:0 9em}.content-container[_ngcontent-%COMP%]{padding:12rem 1.5rem 3rem;grid-template-columns:none;grid-template-rows:repeat(2,1fr);text-align:center}.content-button[_ngcontent-%COMP%]{margin-bottom:4em}.content-button[_ngcontent-%COMP%]:hover{margin-bottom:0}}@media (max-width:375px){body[_ngcontent-%COMP%]{background-image:url(background-home-mobile.424c0f1bd7a5b44d.jpg);padding:0}.content-button[_ngcontent-%COMP%]{padding:2em}}"]}),t})();function T1(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){T1(s,r,i,o,a,"next",u)}function a(u){T1(s,r,i,o,a,"throw",u)}o(void 0)})}}const Cy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Sy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Nn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function S1(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function sh(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function x1(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function sa(){return"object"==typeof indexedDB}function oh(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function xy(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Or.prototype.create)}}class Or{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(t,e){return t.replace(w8,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Vi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const w8=/\{\$([^}]+)}/g;function ky(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(M1(s)&&M1(o)){if(!ky(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function M1(t){return null!==t&&"object"==typeof t}function R1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class I8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=My),void 0===i.error&&(i.error=My),void 0===i.complete&&(i.complete=My);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function My(){}function Ny(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function ji(t){return t&&t._delegate?t._delegate:t}class rn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Is="[DEFAULT]";class x8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Is})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Is?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class R8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Py=[];var he=(()=>{return(t=he||(he={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",he;var t})();const N1={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},N8=he.INFO,P8={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},O8=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=P8[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class oa{constructor(e){this.name=e,this._logLevel=N8,this._logHandler=O8,this._userLogHandler=null,Py.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?N1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}class F8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Oy="@firebase/app",Fy=new oa("@firebase/app"),Ly="[DEFAULT]",c6={[Oy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bs=new Map,uh=new Map;function l6(t,e){try{t.container.addComponent(e)}catch(n){Fy.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mn(t){const e=t.name;if(uh.has(e))return Fy.debug(`There were multiple attempts to register component ${e}.`),!1;uh.set(e,t);for(const n of bs.values())l6(n,t);return!0}function ch(t,e){return t.container.getProvider(e)}const fc=new Or("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class h6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fc.create("app-deleted",{appName:this._name})}}function f6(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:Ly,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw fc.create("bad-app-name",{appName:String(r)});const i=bs.get(r);if(i){if(ky(t,i.options)&&ky(n,i.config))return i;throw fc.create("duplicate-app",{appName:r})}const s=new R8(r);for(const a of uh.values())s.addComponent(a);const o=new h6(t,n,s);return bs.set(r,o),o}function O1(t=Ly){const e=bs.get(t);if(!e)throw fc.create("no-app",{appName:t});return e}function F1(){return Array.from(bs.values())}function He(t,e,n){var r;let i=null!==(r=c6[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Fy.warn(a.join(" "))}mn(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}mn(new rn("platform-logger",e=>new F8(e),"PRIVATE")),He(Oy,"0.7.11",""),He(Oy,"0.7.11","esm2017"),He("fire-js",""),He("firebase","9.6.1","app");var aa=lt(958);const L1="@firebase/installations",V1="w:0.5.4",j1="FIS_v2",ai=new Or("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function B1(t){return t instanceof Vi&&t.code.includes("request-failed")}function jy({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function $1(t){return{token:t.token,requestStatus:2,expiresIn:I6(t.expiresIn),creationTime:Date.now()}}function By(t,e){return $y.apply(this,arguments)}function $y(){return $y=m(function*(t,e){const r=(yield e.json()).error;return ai.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),$y.apply(this,arguments)}function H1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function q1(t,{refreshToken:e}){const n=H1(t);return n.append("Authorization",function(t){return`${j1} ${t}`}(e)),n}function Hy(t){return qy.apply(this,arguments)}function qy(){return qy=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),qy.apply(this,arguments)}function I6(t){return Number(t.replace("s","000"))}function T6(t,e){return Gy.apply(this,arguments)}function Gy(){return Gy=m(function*(t,{fid:e}){const n=jy(t),s={method:"POST",headers:H1(t),body:JSON.stringify({fid:e,authVersion:j1,appId:t.appId,sdkVersion:V1})},o=yield Hy(()=>fetch(n,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:$1(a.authToken)}}throw yield By("Create Installation",o)}),Gy.apply(this,arguments)}function G1(t){return new Promise(e=>{setTimeout(e,t)})}const C6=/^[cdef][\w-]{21}$/;function A6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function(t){return function(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return C6.test(n)?n:""}catch(t){return""}}function ua(t){return`${t.appName}!${t.appId}`}const ca=new Map;function z1(t,e){const n=ua(t);W1(n,e),function(t,e){const n=(!Ts&&"BroadcastChannel"in self&&(Ts=new BroadcastChannel("[Firebase] FID Change"),Ts.onmessage=t=>{W1(t.data.key,t.data.fid)}),Ts);n&&n.postMessage({key:t,fid:e}),0===ca.size&&Ts&&(Ts.close(),Ts=null)}(n,e)}function W1(t,e){const n=ca.get(t);if(n)for(const r of n)r(e)}let Ts=null;const Ds="firebase-installations-store";let Wy=null;function Ky(){return Wy||(Wy=(0,aa.openDb)("firebase-installations-database",1,t=>{0===t.oldVersion&&t.createObjectStore(Ds)})),Wy}function dh(t,e){return Qy.apply(this,arguments)}function Qy(){return Qy=m(function*(t,e){const n=ua(t),i=(yield Ky()).transaction(Ds,"readwrite"),s=i.objectStore(Ds),o=yield s.get(n);return yield s.put(e,n),yield i.complete,(!o||o.fid!==e.fid)&&z1(t,e.fid),e}),Qy.apply(this,arguments)}function Yy(t){return Jy.apply(this,arguments)}function Jy(){return Jy=m(function*(t){const e=ua(t),r=(yield Ky()).transaction(Ds,"readwrite");yield r.objectStore(Ds).delete(e),yield r.complete}),Jy.apply(this,arguments)}function pc(t,e){return Xy.apply(this,arguments)}function Xy(){return Xy=m(function*(t,e){const n=ua(t),i=(yield Ky()).transaction(Ds,"readwrite"),s=i.objectStore(Ds),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.complete,a&&(!o||o.fid!==a.fid)&&z1(t,a.fid),a}),Xy.apply(this,arguments)}function Zy(t){return e_.apply(this,arguments)}function e_(){return e_=m(function*(t){let e;const n=yield pc(t,r=>{const i=P6(r),s=O6(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),e_.apply(this,arguments)}function P6(t){return J1(t||{fid:A6(),registrationStatus:0})}function O6(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ai.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function(t,e){return t_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:L6(t)}:{installationEntry:e}}function t_(){return t_=m(function*(t,e){try{return dh(t,yield T6(t,e))}catch(n){throw B1(n)&&409===n.customData.serverCode?yield Yy(t):yield dh(t,{fid:e.fid,registrationStatus:0}),n}}),t_.apply(this,arguments)}function L6(t){return n_.apply(this,arguments)}function n_(){return n_=m(function*(t){let e=yield Y1(t);for(;1===e.registrationStatus;)yield G1(100),e=yield Y1(t);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Zy(t);return r||n}return e}),n_.apply(this,arguments)}function Y1(t){return pc(t,e=>{if(!e)throw ai.create("installation-not-found");return J1(e)})}function J1(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function V6(t,e){return r_.apply(this,arguments)}function r_(){return r_=m(function*({appConfig:t,platformLoggerProvider:e},n){const r=j6(t,n),i=q1(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:V1}})},u=yield Hy(()=>fetch(r,a));if(u.ok)return $1(yield u.json());throw yield By("Generate Auth Token",u)}),r_.apply(this,arguments)}function j6(t,{fid:e}){return`${jy(t)}/${e}/authTokens:generate`}function i_(t){return s_.apply(this,arguments)}function s_(){return s_=m(function*(t,e=!1){let n;const r=yield pc(t.appConfig,s=>{if(!Z1(s))throw ai.create("not-registered");const o=s.authToken;if(!e&&H6(o))return s;if(1===o.requestStatus)return n=B6(t,e),s;{if(!navigator.onLine)throw ai.create("app-offline");const a=G6(s);return n=$6(t,a),a}});return n?yield n:r.authToken}),s_.apply(this,arguments)}function B6(t,e){return o_.apply(this,arguments)}function o_(){return o_=m(function*(t,e){let n=yield X1(t.appConfig);for(;1===n.authToken.requestStatus;)yield G1(100),n=yield X1(t.appConfig);const r=n.authToken;return 0===r.requestStatus?i_(t,e):r}),o_.apply(this,arguments)}function X1(t){return pc(t,e=>{if(!Z1(e))throw ai.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function $6(t,e){return a_.apply(this,arguments)}function a_(){return a_=m(function*(t,e){try{const n=yield V6(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield dh(t.appConfig,r),n}catch(n){if(!B1(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield dh(t.appConfig,r)}else yield Yy(t.appConfig);throw n}}),a_.apply(this,arguments)}function Z1(t){return void 0!==t&&2===t.registrationStatus}function H6(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function G6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function u_(){return u_=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Zy(e.appConfig);return r?r.catch(console.error):i_(e).catch(console.error),n.fid}),u_.apply(this,arguments)}function c_(){return c_=m(function*(t,e=!1){const n=t;return yield Q6(n.appConfig),(yield i_(n,e)).token}),c_.apply(this,arguments)}function Q6(t){return l_.apply(this,arguments)}function l_(){return l_=m(function*(t){const{registrationPromise:e}=yield Zy(t);e&&(yield e)}),l_.apply(this,arguments)}function f_(t){return ai.create("missing-app-config-values",{valueName:t})}const eM="installations";mn(new rn(eM,t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw f_("App Configuration");if(!t.name)throw f_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw f_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,platformLoggerProvider:ch(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),mn(new rn("installations-internal",t=>{const n=ch(t.getProvider("app").getImmediate(),eM).getImmediate();return{getId:()=>function(t){return u_.apply(this,arguments)}(n),getToken:i=>function(t){return c_.apply(this,arguments)}(n,i)}},"PRIVATE")),He(L1,"0.5.4"),He(L1,"0.5.4","esm2017");const p_="@firebase/remote-config",yn=new Or("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class f5{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function p5(t=navigator){return t.languages&&t.languages[0]||t.language}class g5{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:p5()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const x=new Error("The operation was aborted.");x.name="AbortError",_(x)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w.name&&(_="fetch-timeout"),yn.create(_,{originalErrorMessage:w.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw yn.create("fetch-client-parse",{originalErrorMessage:_.message})}g=w.entries,y=w.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw yn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class _5{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function(t){if(!(t instanceof Vi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Ny(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class E5{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fh(t,e){const n=t.target.error||void 0;return yn.create(e,{originalErrorMessage:n&&n.message})}const Cs="app_namespace_store";class D5{constructor(e,n,r,i=function(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(fh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Cs,{keyPath:"compositeKey"})}}catch(n){e(yn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Cs],"readonly").objectStore(Cs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(fh(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(yn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Cs],"readwrite").objectStore(Cs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(fh(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(yn.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Cs],"readwrite").objectStore(Cs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(fh(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(yn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class C5{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function S5(){return v_.apply(this,arguments)}function v_(){return(v_=m(function*(){if(!sa())return!1;try{return yield oh()}catch(t){return!1}})).apply(this,arguments)}mn(new rn("remote-config",function(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw yn.create("registration-window");if(!sa())throw yn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw yn.create("registration-project-id");if(!o)throw yn.create("registration-api-key");if(!a)throw yn.create("registration-app-id");const u=new D5(a,r.name,n=n||"firebase"),c=new C5(u),l=new oa(p_);l.logLevel=he.ERROR;const d=new g5(i,"9.6.1",n,s,o,a),h=new _5(d,u),f=new f5(h,u,c,l),p=new E5(r,f,c,u,l);return function(t){const e=ji(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),He(p_,"0.3.3"),He(p_,"0.3.3","esm2017");const x5="/firebase-messaging-sw.js",k5="/firebase-cloud-messaging-push-scope",iM="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sM="google.c.a.c_id",R5="google.c.a.c_l",N5="google.c.a.ts",P5="google.c.a.e";var la=(()=>(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(la||(la={})),la))();function ui(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function O5(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const w_="fcm_token_details_db",oM="fcm_token_object_Store";function L5(t){return E_.apply(this,arguments)}function E_(){return E_=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(w_))return null;let e=null;return(yield(0,aa.openDb)(w_,5,function(){var r=m(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(oM))return;const o=i.transaction.objectStore(oM),a=yield o.index("fcmSenderId").get(t);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:ui(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ui(u.auth),p256dh:ui(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ui(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ui(u.auth),p256dh:ui(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ui(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,aa.deleteDb)(w_),yield(0,aa.deleteDb)("fcm_vapid_details_db"),yield(0,aa.deleteDb)("undefined"),U5(e)?e:null}),E_.apply(this,arguments)}function U5(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const As="firebase-messaging-store";let I_=null;function b_(){return I_||(I_=(0,aa.openDb)("firebase-messaging-database",1,t=>{0===t.oldVersion&&t.createObjectStore(As)})),I_}function aM(t){return T_.apply(this,arguments)}function T_(){return T_=m(function*(t){const e=S_(t),r=yield(yield b_()).transaction(As).objectStore(As).get(e);if(r)return r;{const i=yield L5(t.appConfig.senderId);if(i)return yield D_(t,i),i}}),T_.apply(this,arguments)}function D_(t,e){return C_.apply(this,arguments)}function C_(){return C_=m(function*(t,e){const n=S_(t),i=(yield b_()).transaction(As,"readwrite");return yield i.objectStore(As).put(e,n),yield i.complete,e}),C_.apply(this,arguments)}function B5(t){return A_.apply(this,arguments)}function A_(){return A_=m(function*(t){const e=S_(t),r=(yield b_()).transaction(As,"readwrite");yield r.objectStore(As).delete(e),yield r.complete}),A_.apply(this,arguments)}function S_({appConfig:t}){return t.appId}const At=new Or("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function H5(t,e){return x_.apply(this,arguments)}function x_(){return x_=m(function*(t,e){const n=yield N_(t),r=cM(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(R_(t.appConfig),i)).json()}catch(o){throw At.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw At.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-subscribe-no-token");return s.token}),x_.apply(this,arguments)}function q5(t,e){return k_.apply(this,arguments)}function k_(){return k_=m(function*(t,e){const n=yield N_(t),r=cM(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${R_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw At.create("token-update-failed",{errorInfo:o})}if(s.error)throw At.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-update-no-token");return s.token}),k_.apply(this,arguments)}function uM(t,e){return M_.apply(this,arguments)}function M_(){return M_=m(function*(t,e){const r={method:"DELETE",headers:yield N_(t)};try{const s=yield(yield fetch(`${R_(t.appConfig)}/${e}`,r)).json();if(s.error)throw At.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw At.create("token-unsubscribe-failed",{errorInfo:i})}}),M_.apply(this,arguments)}function R_({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function N_(t){return P_.apply(this,arguments)}function P_(){return P_=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}),P_.apply(this,arguments)}function cM({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==iM&&(i.web.applicationPubKey=r),i}const G5=6048e5;function z5(t){return O_.apply(this,arguments)}function O_(){return O_=m(function*(t){const e=yield K5(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ui(e.getKey("auth")),p256dh:ui(e.getKey("p256dh"))},r=yield aM(t.firebaseDependencies);if(r){if(Q5(r.subscriptionOptions,n))return Date.now()>=r.createTime+G5?W5(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield uM(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return dM(t.firebaseDependencies,n)}return dM(t.firebaseDependencies,n)}),O_.apply(this,arguments)}function lM(t){return F_.apply(this,arguments)}function F_(){return F_=m(function*(t){const e=yield aM(t.firebaseDependencies);e&&(yield uM(t.firebaseDependencies,e.token),yield B5(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),F_.apply(this,arguments)}function W5(t,e){return L_.apply(this,arguments)}function L_(){return L_=m(function*(t,e){try{const n=yield q5(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield D_(t.firebaseDependencies,r),n}catch(n){throw yield lM(t),n}}),L_.apply(this,arguments)}function dM(t,e){return U_.apply(this,arguments)}function U_(){return U_=m(function*(t,e){const r={token:yield H5(t,e),createTime:Date.now(),subscriptionOptions:e};return yield D_(t,r),r.token}),U_.apply(this,arguments)}function K5(t,e){return V_.apply(this,arguments)}function V_(){return V_=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:O5(e)})}),V_.apply(this,arguments)}function Q5(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function hM(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function Z5(t){return"object"==typeof t&&!!t&&sM in t}function fM(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function j_(t){return At.create("missing-app-config-values",{valueName:t})}fM("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fM("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class t7{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function(t){if(!t||!t.options)throw j_("App Configuration Object");if(!t.name)throw j_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw j_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function pM(t){return B_.apply(this,arguments)}function B_(){return B_=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(x5,{scope:k5}),t.swRegistration.update().catch(()=>{})}catch(e){throw At.create("failed-service-worker-registration",{browserErrorMessage:e.message})}}),B_.apply(this,arguments)}function n7(t,e){return $_.apply(this,arguments)}function $_(){return $_=m(function*(t,e){if(!e&&!t.swRegistration&&(yield pM(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");t.swRegistration=e}}),$_.apply(this,arguments)}function r7(t,e){return H_.apply(this,arguments)}function H_(){return H_=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=iM)}),H_.apply(this,arguments)}function q_(){return q_=m(function*(t,e){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield r7(t,null==e?void 0:e.vapidKey),yield n7(t,null==e?void 0:e.serviceWorkerRegistration),z5(t)}),q_.apply(this,arguments)}function i7(t,e,n){return G_.apply(this,arguments)}function G_(){return G_=m(function*(t,e,n){const r=s7(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[sM],message_name:n[R5],message_time:n[N5],message_device_time:Math.floor(Date.now()/1e3)})}),G_.apply(this,arguments)}function s7(t){switch(t){case la.NOTIFICATION_CLICKED:return"notification_open";case la.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function z_(){return z_=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===la.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(hM(n)):t.onMessageHandler.next(hM(n)));const r=n.data;Z5(r)&&"1"===r[P5]&&(yield i7(t,n.messageType,r))}),z_.apply(this,arguments)}const mM="@firebase/messaging";function _M(){return W_.apply(this,arguments)}function W_(){return(W_=m(function*(){return"undefined"!=typeof window&&sa()&&(yield oh())&&xy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}mn(new rn("messaging",t=>{const e=new t7(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function(t,e){return z_.apply(this,arguments)}(e,n)),e},"PUBLIC")),mn(new rn("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function(t,e){return q_.apply(this,arguments)}(e,r)}},"PRIVATE")),He(mM,"0.9.4"),He(mM,"0.9.4","esm2017");const ph="analytics",h7="firebase_id",g7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vM="https://www.googletagmanager.com/gtag/js",St=new oa("@firebase/analytics");function wM(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function m7(t,e){const n=document.createElement("script");n.src=`${vM}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function _7(t,e,n,r,i,s){return Y_.apply(this,arguments)}function Y_(){return Y_=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield wM(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){St.error(a)}t("config",i,s)}),Y_.apply(this,arguments)}function v7(t,e,n,r,i){return J_.apply(this,arguments)}function J_(){return J_=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield wM(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){St.error(s)}}),J_.apply(this,arguments)}function I7(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(vM))return e;return null}const Pn=new Or("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),EM=new class{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function A7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function S7(t){return X_.apply(this,arguments)}function X_(){return X_=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:A7(r)},s=g7.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw Pn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),X_.apply(this,arguments)}function x7(t){return Z_.apply(this,arguments)}function Z_(){return Z_=m(function*(t,e=EM,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Pn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Pn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new R7;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),IM({appId:r,apiKey:i,measurementId:s},o,a,e)}),Z_.apply(this,arguments)}function IM(t,e,n){return ev.apply(this,arguments)}function ev(){return ev=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=EM){const{appId:s,measurementId:o}=t;try{yield k7(r,e)}catch(a){if(o)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield S7(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!M7(a)){if(i.deleteThrottleMetadata(s),o)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?Ny(n,i.intervalMillis,30):Ny(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),St.debug(`Calling attemptFetch again in ${u} millis`),IM(t,c,r,i)}}),ev.apply(this,arguments)}function k7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function M7(t){if(!(t instanceof Vi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class R7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function N7(){return tv.apply(this,arguments)}function tv(){return tv=m(function*(){if(!sa())return St.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield oh()}catch(t){return St.warn(Pn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0}),tv.apply(this,arguments)}function nv(){return nv=m(function*(t,e,n,r,i,s,o){var a;const u=x7(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>St.error(f)),e.push(u);const c=N7().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);I7()||m7(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[h7]=d),i("config",l.measurementId,h),l.measurementId}),nv.apply(this,arguments)}class O7{constructor(e){this.app=e}_delete(){return delete ci[this.app.options.appId],Promise.resolve()}}let ci={},bM=[];const TM={};let CM,gc,gh="dataLayer",rv=!1;function L7(t,e,n){!function(){const t=[];if(sh()&&t.push("This is a browser extension environment."),xy()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Pn.create("invalid-analytics-context",{errorInfo:e});St.warn(n.message)}}();const r=t.options.appId;if(!r)throw Pn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Pn.create("no-api-key");St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ci[r])throw Pn.create("already-exists",{id:r});if(!rv){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(gh);const{wrappedGtag:s,gtagCore:o}=function(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(t,e,n,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield v7(t,e,n,a,u):"config"===o?yield _7(t,e,n,r,a,u):t("set",a)}catch(c){St.error(c)}})).apply(this,arguments)}return function(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ci,bM,TM,gh,"gtag");gc=s,CM=o,rv=!0}return ci[r]=function(t,e,n,r,i,s,o){return nv.apply(this,arguments)}(t,bM,TM,e,CM,gh,n),new O7(t)}function iv(){return iv=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),iv.apply(this,arguments)}function q7(){return cv.apply(this,arguments)}function cv(){return(cv=m(function*(){if(sh()||!xy()||!sa())return!1;try{return yield oh()}catch(t){return!1}})).apply(this,arguments)}const AM="@firebase/analytics";mn(new rn(ph,(e,{options:n})=>L7(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),mn(new rn("analytics-internal",function(e){try{const n=e.getProvider(ph).getImmediate();return{logEvent:(r,i,s)=>function(t,e,n,r){t=ji(t),function(t,e,n,r,i){return iv.apply(this,arguments)}(gc,ci[t.app.options.appId],e,n,r).catch(i=>St.error(i))}(n,r,i,s)}}catch(n){throw Pn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),He(AM,"0.7.4"),He(AM,"0.7.4","esm2017");class W7 extends Ge{constructor(e,n){super()}schedule(e,n=0){return this}}const mh={setInterval(...t){const{delegate:e}=mh;return((null==e?void 0:e.setInterval)||setInterval)(...t)},clearInterval(t){const{delegate:e}=mh;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class xM extends W7{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return mh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;mh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,to(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const kM={now:()=>(kM.delegate||Date).now(),delegate:void 0};class mc{constructor(e,n=mc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}mc.now=kM.now;class MM extends mc{constructor(e,n=mc.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Y7=new class extends MM{}(class extends xM{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),J7=new MM(xM),lv=new ju("7.2.0"),dv="__angularfire_symbol__analyticsIsSupported",hv="__angularfire_symbol__remoteConfigIsSupported",fv="__angularfire_symbol__messagingIsSupported";globalThis[dv]||(globalThis[dv]=q7().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[fv]||(globalThis[fv]=_M().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[hv]||(globalThis[hv]=S5().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const mv=(t,e)=>{const n=e?[e]:F1(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function da(){}class OM{constructor(e,n=Y7){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class X7{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",da,{},da,da)),n.pipe(pn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let FM=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new OM(Zone.current)),this.insideAngular=n.run(()=>new OM(Zone.current,J7)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(V(Ue))},t.\u0275prov=le({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ss(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Z7(t){return Ss().ngZone.runOutsideAngular(()=>t())}function xs(t){return Ss().ngZone.run(()=>t())}function eK(t){return Ss(),function(t){return function(n){return(n=n.lift(new X7(t.ngZone))).pipe(El(t.outsideAngular),wl(t.insideAngular))}}(Ss())(t)}const nK=(t,e)=>{const n=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),xs(()=>t.apply(n,arguments))}},yh=(t,e)=>function(){let n;for(let i=0;i<arguments.length;i++)"function"==typeof arguments[i]&&(e&&(n||(n=xs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",da,{},da,da)))),arguments[i]=nK(arguments[i],n));const r=Z7(()=>t.apply(this,arguments));if(!e){if(r instanceof Ce){const i=Ss();return r.pipe(El(i.outsideAngular),wl(i.insideAngular))}return xs(()=>r)}return r instanceof Ce?r.pipe(eK):r instanceof Promise?xs(()=>new Promise((i,s)=>r.then(o=>xs(()=>i(o)),o=>xs(()=>s(o))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:xs(()=>r)};class ha{constructor(e){return e}}class LM{constructor(){return F1()}}const yv=new ie("angularfire2._apps"),iK={provide:ha,useFactory:function(t){return t&&1===t.length?t[0]:new ha(O1())},deps:[[new We,yv]]},sK={provide:LM,deps:[[new We,yv]]};function oK(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ha(r)}}let aK=(()=>{class t{constructor(n){He("angularfire",lv.full,"core"),He("angularfire",lv.full,"app"),He("angular",MS.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(V(zu))},t.\u0275mod=Qr({type:t}),t.\u0275inj=Er({providers:[iK,sK]}),t})();function uK(t,...e){return{ngModule:aK,providers:[{provide:yv,useFactory:oK(t),multi:!0,deps:[Ue,Dt,FM,...e]}]}}const cK=yh(f6,!0);function VM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}const hK=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},HM=new Or("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qM=new oa("@firebase/auth");function vh(t,...e){qM.logLevel<=he.ERROR&&qM.error(`Auth (9.6.1): ${t}`,...e)}function _n(t,...e){throw vv(t,...e)}function Fr(t,...e){return vv(t,...e)}function GM(t,e,n){const r=Object.assign(Object.assign({},hK()),{[e]:n});return new Or("auth","Firebase",r).create(e,{appName:t.name})}function vv(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HM.create(t,...e)}function A(t,e,...n){if(!t)throw vv(e,...n)}function Lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vh(e),new Error(e)}function Bi(t,e){t||Lr(e)}const zM=new Map;function li(t){Bi(t instanceof Function,"Expected a class definition");let e=zM.get(t);return e?(Bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zM.set(t,e),e)}function WM(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class _c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bi(n>e,"Short delay should be less than long delay!"),this.isMobile=S1()||x1()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===WM()||"https:"===WM()||sh()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}class KM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},_K=new _c(3e4,6e4);function ft(t,e,n,r){return Iv.apply(this,arguments)}function Iv(){return Iv=m(function*(t,e,n,r,i={}){return QM(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=R1(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),KM.fetch()(YM(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}),Iv.apply(this,arguments)}function QM(t,e,n){return bv.apply(this,arguments)}function bv(){return bv=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yK),e);try{const i=new vK(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw wh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw wh(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw wh(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw GM(t,l,c);_n(t,l)}}catch(i){if(i instanceof Vi)throw i;_n(t,"network-request-failed")}}),bv.apply(this,arguments)}function YM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function(t,e){Bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class vK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"timeout")),_K.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fr(t,e,r);return i.customData._tokenResponse=n,i}function Dv(){return Dv=m(function*(t,e){return ft(t,"POST","/v1/accounts:delete",e)}),Dv.apply(this,arguments)}function IK(t,e){return Av.apply(this,arguments)}function Av(){return Av=m(function*(t,e){return ft(t,"POST","/v1/accounts:lookup",e)}),Av.apply(this,arguments)}function vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Sv(){return Sv=m(function*(t,e=!1){const n=ji(t),r=yield n.getIdToken(e),i=Eh(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vc(xv(i.auth_time)),issuedAtTime:vc(xv(i.iat)),expirationTime:vc(xv(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),Sv.apply(this,arguments)}function xv(t){return 1e3*Number(t)}function Eh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return Cy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(vh("Failed to decode base64 JWT payload"),null)}catch(i){return vh("Caught error parsing JWT payload as JSON",i),null}}function hi(t,e){return kv.apply(this,arguments)}function kv(){return kv=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Vi&&DK(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}}),kv.apply(this,arguments)}function DK({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class CK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class JM{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wc(t){return Mv.apply(this,arguments)}function Mv(){return Mv=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield hi(t,IK(n,{idToken:r}));A(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?xK(s.providerUserInfo):[],a=SK(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new JM(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),Mv.apply(this,arguments)}function Rv(){return Rv=m(function*(t){const e=ji(t);yield wc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),Rv.apply(this,arguments)}function SK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xK(t){return t.map(e=>{var{providerId:n}=e,r=VM(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Nv(){return Nv=m(function*(t,e){const n=yield QM(t,{},m(function*(){const r=R1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=YM(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",KM.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),Nv.apply(this,arguments)}class Ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(t){const e=Eh(t);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(t,e){return Nv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ec;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ec,this.toJSON())}_performRefresh(){return Lr("not implemented")}}function $i(t,e){A("string"==typeof t||void 0===t,"internal-error",{appName:e})}class ks{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=VM(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new CK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new JM(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield hi(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function(t){return Sv.apply(this,arguments)}(this,e)}reload(){return function(t){return Rv.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield wc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield hi(e,function(t,e){return Dv.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:x,emailVerified:F,isAnonymous:Q,providerData:ct,stsTokenManager:Vn}=n;A(x&&Vn,e,"internal-error");const _l=Ec.fromJSON(this.name,Vn);A("string"==typeof x,e,"internal-error"),$i(d,e.name),$i(h,e.name),A("boolean"==typeof F,e,"internal-error"),A("boolean"==typeof Q,e,"internal-error"),$i(f,e.name),$i(p,e.name),$i(g,e.name),$i(y,e.name),$i(w,e.name),$i(_,e.name);const Zs=new ks({uid:x,auth:e,email:h,emailVerified:F,displayName:d,isAnonymous:Q,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:_l,createdAt:w,lastLoginAt:_});return ct&&Array.isArray(ct)&&(Zs.providerData=ct.map(vl=>Object.assign({},vl))),y&&(Zs._redirectEventId=y),Zs}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Ec;i.updateFromServerResponse(n);const s=new ks({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wc(s),s})()}}const XM=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Ih(t,e,n){return`firebase:${t}:${e}:${n}`}class pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ih(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ih("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ks._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new pa(li(XM),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||li(XM);const o=Ih(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=ks._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new pa(s,e,r)):new pa(s,e,r)})()}}function ZM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function(t=Nn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function(t=Nn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function(t=Nn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function(t=Nn()){return/webos/i.test(t)}(e))return"Webos";if(function(t=Nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function(t=Nn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function(t=Nn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function oR(t,e=[]){let n;switch(t){case"Browser":n=ZM(Nn());break;case"Worker":n=`${ZM(Nn())}-${t}`;break;default:n=t}return`${n}/JsCore/9.6.1/${e.length?e.join(","):"FirebaseCore-web"}`}class NK{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aR(this),this.idTokenSubscription=new aR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HM,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield pa.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield wc(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?ji(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return m(function*(){if(!n._deleted)return e&&A(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(m(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(li(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Or("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&li(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield pa.create(n,[li(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){const n={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId),n})()}}class aR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(t,e){const n=new I8(t,void 0);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}new WeakMap,Math.floor(1e6*Math.random()),new _c(3e4,6e4),new _c(2e3,1e4),new Map,new _c(3e4,6e4),new _c(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);var UR="@firebase/auth";class EQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function(t){mn(new rn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{A(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),A(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oR(t)},u=new NK(o,a);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mn(new rn("auth-internal",e=>{const n=function(t){return ji(t)}(e.getProvider("auth").getImmediate());return new EQ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(UR,"0.19.4",void 0),He(UR,"0.19.4","esm2017")}("Browser");class BR{constructor(){return mv("auth")}}const $R=new Map,AQ={activated:!1,tokenObservers:[]},SQ={initialized:!1,enabled:!1};function pt(t){return $R.get(t)||AQ}function mr(t,e){$R.set(t,e)}function Oh(){return SQ}class NQ{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Sy,yield function(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Sy,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const sn=new Or("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qR(t){if(!pt(t).activated)throw sn.create("use-before-activation",{appName:t.name})}function _E(t,e){return vE.apply(this,arguments)}function vE(){return vE=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw sn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw sn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw sn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw sn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),vE.apply(this,arguments)}function VQ(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Dc="firebase-app-check-store";let Uh=null;function zR(){return Uh||(Uh=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(sn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Dc,{keyPath:"compositeKey"})}}catch(n){e(sn.create("storage-open",{originalErrorMessage:n.message}))}}),Uh)}function wE(){return wE=m(function*(t,e){const r=(yield zR()).transaction(Dc,"readwrite"),s=r.objectStore(Dc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(sn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),wE.apply(this,arguments)}const Cc=new oa("@firebase/app-check");function YR(t,e){return sa()?function(t,e){return function(t,e){return wE.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Cc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function JR(){return Oh().enabled}function XR(){return TE.apply(this,arguments)}function TE(){return TE=m(function*(){const t=Oh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),TE.apply(this,arguments)}const QQ={error:"UNKNOWN_ERROR"};function YQ(t){return Cy.encodeString(JSON.stringify(t),!1)}function Vh(t){return DE.apply(this,arguments)}function DE(){return DE=m(function*(t,e=!1){const n=t.app;qR(n);const r=pt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&jh(u)&&(i=u)}if(!e&&i&&jh(i))return{token:i.token};let a,o=!1;if(JR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_E(VQ(n,yield XR()),t.platformLoggerProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield YR(n,u),mr(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Cc.warn(u.message):Cc.error(u),s=u}return i?(a={token:i.token},mr(n,Object.assign(Object.assign({},r),{token:i})),yield YR(n,i)):a=XQ(s),o&&eN(n,a),a}),DE.apply(this,arguments)}function AE(t,e){const n=pt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),mr(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function ZR(t){const{app:e}=t,n=pt(e);let r=n.tokenRefresher;r||(r=function(t){const{app:e}=t;return new NQ(m(function*(){let r;if(r=pt(e).token?yield Vh(t,!0):yield Vh(t),r.error)throw r.error}),()=>!0,()=>{const n=pt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),mr(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function eN(t,e){const n=pt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function jh(t){return t.expireTimeMillis-Date.now()>0}function XQ(t){return{token:YQ(QQ),error:t}}class ZQ{constructor(e,n){this.app=e,this.platformLoggerProvider=n}_delete(){const{tokenObservers:e}=pt(this.app);for(const n of e)AE(this.app,n.next);return Promise.resolve()}}const uN="app-check-internal";mn(new rn("app-check",t=>function(t,e){return new ZQ(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(uN).initialize()})),mn(new rn(uN,t=>function(t){return{getToken:e=>Vh(t,e),addTokenListener:e=>function(t,e,n,r){const{app:i}=t,s=pt(i),o={next:n,error:r,type:e};if(mr(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&jh(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),ZR(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>ZR(t))}(t,"INTERNAL",e),removeTokenListener:e=>AE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),He("@firebase/app-check","0.5.2");class lN{constructor(){return mv("app-check")}}"undefined"!=typeof window&&window;var R,_Y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pi={},RE=RE||{},G=_Y||self;function $h(){}function NE(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ac(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var PE="closure_uid_"+(1e9*Math.random()>>>0),wY=0;function EY(t,e,n){return t.call.apply(t.bind,arguments)}function IY(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function xt(t,e,n){return(xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?EY:IY).apply(null,arguments)}function Hh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Hi(){this.s=this.s,this.o=this.o}var TY={};Hi.prototype.s=!1,Hi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,PE)&&t[PE]||(t[PE]=++wY)}(this);delete TY[t]}},Hi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},hN=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function fN(t){return Array.prototype.concat.apply([],arguments)}function OE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function qh(t){return/^[\s\xa0]*$/.test(t)}var an,pN=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function on(t,e){return-1!=t.indexOf(e)}function FE(t,e){return t<e?-1:t>e?1:0}e:{var gN=G.navigator;if(gN){var mN=gN.userAgent;if(mN){an=mN;break e}}an=""}function LE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function yN(t){const e={};for(const n in t)e[n]=t[n];return e}var _N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vN(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<_N.length;s++)n=_N[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function UE(t){return UE[" "](t),t}UE[" "]=$h;var Gh,AY=on(an,"Opera"),ga=on(an,"Trident")||on(an,"MSIE"),wN=on(an,"Edge"),VE=wN||ga,EN=on(an,"Gecko")&&!(on(an.toLowerCase(),"webkit")&&!on(an,"Edge"))&&!(on(an,"Trident")||on(an,"MSIE"))&&!on(an,"Edge"),SY=on(an.toLowerCase(),"webkit")&&!on(an,"Edge");function IN(){var t=G.document;return t?t.documentMode:void 0}e:{var jE="",BE=function(){var t=an;return EN?/rv:([^\);]+)(\)|;)/.exec(t):wN?/Edge\/([\d\.]+)/.exec(t):ga?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):SY?/WebKit\/(\S+)/.exec(t):AY?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(BE&&(jE=BE?BE[1]:""),ga){var $E=IN();if(null!=$E&&$E>parseFloat(jE)){Gh=String($E);break e}}Gh=jE}var xY={};function kY(){return e=xY,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=pN(String(Gh)).split("."),n=pN("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=FE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||FE(0==i[2].length,0==s[2].length)||FE(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var e}var MY=G.document&&ga&&(IN()||parseInt(Gh,10))||void 0,RY=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{G.addEventListener("test",$h,e),G.removeEventListener("test",$h,e)}catch(n){}return t}();function Bt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Sc(t,e){if(Bt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(EN){e:{try{UE(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:NY[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sc.Z.h.call(this)}}Bt.prototype.h=function(){this.defaultPrevented=!0},kt(Sc,Bt);var NY={2:"touch",3:"pen",4:"mouse"};Sc.prototype.h=function(){Sc.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xc="closure_listenable_"+(1e6*Math.random()|0),PY=0;function OY(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++PY,this.ca=this.fa=!1}function zh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Wh(t){this.src=t,this.g={},this.h=0}function qE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=dN(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(zh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function GE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Wh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=GE(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new OY(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var zE="closure_lm_"+(1e6*Math.random()|0),WE={};function TN(t,e,n,r,i){if(r&&r.once)return CN(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)TN(t,e[s],n,r,i);return null}return n=JE(n),t&&t[xc]?t.N(e,n,Ac(r)?!!r.capture:!!r,i):DN(t,e,n,!1,r,i)}function DN(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ac(i)?!!i.capture:!!i,a=QE(t);if(a||(t[zE]=a=new Wh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var e=LY;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)RY||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(SN(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function CN(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)CN(t,e[s],n,r,i);return null}return n=JE(n),t&&t[xc]?t.O(e,n,Ac(r)?!!r.capture:!!r,i):DN(t,e,n,!0,r,i)}function AN(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)AN(t,e[s],n,r,i);else r=Ac(r)?!!r.capture:!!r,n=JE(n),t&&t[xc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=GE(s=t.g[e],n,r,i))&&(zh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=QE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=GE(e,n,r,i)),(n=-1<t?e[t]:null)&&KE(n))}function KE(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[xc])qE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(SN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=QE(e))?(qE(n,t),0==n.h&&(n.src=null,e[zE]=null)):zh(t)}}}function SN(t){return t in WE?WE[t]:WE[t]="on"+t}function LY(t,e){if(t.ca)t=!0;else{e=new Sc(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&KE(t),t=n.call(r,e)}return t}function QE(t){return(t=t[zE])instanceof Wh?t:null}var YE="__closure_events_fn_"+(1e9*Math.random()>>>0);function JE(t){return"function"==typeof t?t:(t[YE]||(t[YE]=function(e){return t.handleEvent(e)}),t[YE])}function gt(){Hi.call(this),this.i=new Wh(this),this.P=this,this.I=null}function Mt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Bt(e,t);else if(e instanceof Bt)e.target=e.target||t;else{var i=e;vN(e=new Bt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Kh(o,r,!0,e)&&i}if(i=Kh(o=e.g=t,r,!0,e)&&i,i=Kh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Kh(o=e.g=n[s],r,!1,e)&&i}function Kh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&qE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}kt(gt,Hi),gt.prototype[xc]=!0,gt.prototype.removeEventListener=function(t,e,n,r){AN(this,t,e,n,r)},gt.prototype.M=function(){if(gt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zh(n[r]);delete t.g[e],t.h--}}this.I=null},gt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},gt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var XE=G.JSON.stringify;function UY(){var t=kN;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var eI,xN=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new jY,t=>t.reset());class jY{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function BY(t){G.setTimeout(()=>{throw t},0)}function ZE(t,e){eI||function(){var t=G.Promise.resolve(void 0);eI=function(){t.then(HY)}}(),tI||(eI(),tI=!0),kN.add(t,e)}var tI=!1,kN=new class{constructor(){this.h=this.g=null}add(e,n){const r=xN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function HY(){for(var t;t=UY();){try{t.h.call(t.g)}catch(n){BY(n)}var e=xN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}tI=!1}function Qh(t,e){gt.call(this),this.h=t||1,this.g=e||G,this.j=xt(this.kb,this),this.l=Date.now()}function nI(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function rI(t,e,n){if("function"==typeof t)n&&(t=xt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xt(t.handleEvent,t)}return 2147483647<Number(e)?-1:G.setTimeout(t,e||0)}function MN(t){t.g=rI(()=>{t.g=null,t.i&&(t.i=!1,MN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}kt(Qh,gt),(R=Qh.prototype).da=!1,R.S=null,R.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Mt(this,"tick"),this.da&&(nI(this),this.start()))}},R.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.M=function(){Qh.Z.M.call(this),nI(this),delete this.g};class qY extends Hi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:MN(this)}M(){super.M(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kc(t){Hi.call(this),this.h=t,this.g={}}kt(kc,Hi);var RN=[];function NN(t,e,n,r){Array.isArray(n)||(n&&(RN[0]=n.toString()),n=RN);for(var i=0;i<n.length;i++){var s=TN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function PN(t){LE(t.g,function(e,n){this.g.hasOwnProperty(n)&&KE(e)},t),t.g={}}function Yh(){this.g=!0}function ma(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return XE(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}kc.prototype.M=function(){kc.Z.M.call(this),PN(this)},kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yh.prototype.Aa=function(){this.g=!1},Yh.prototype.info=function(){};var Ps={},ON=null;function Jh(){return ON=ON||new gt}function FN(t){Bt.call(this,Ps.Ma,t)}function Mc(t){const e=Jh();Mt(e,new FN(e,t))}function LN(t,e){Bt.call(this,Ps.STAT_EVENT,t),this.stat=e}function un(t){const e=Jh();Mt(e,new LN(e,t))}function UN(t,e){Bt.call(this,Ps.Na,t),this.size=e}function Rc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){t()},e)}Ps.Ma="serverreachability",kt(FN,Bt),Ps.STAT_EVENT="statevent",kt(LN,Bt),Ps.Na="timingevent",kt(UN,Bt);var Xh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},VN={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function iI(){}function BN(){}iI.prototype.h=null;var aI,Nc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sI(){Bt.call(this,"d")}function oI(){Bt.call(this,"c")}function Zh(){}function Pc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new kc(this),this.P=QY,this.W=new Qh(t=VE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $N}function $N(){this.i=null,this.g="",this.h=!1}kt(sI,Bt),kt(oI,Bt),kt(Zh,iI),Zh.prototype.g=function(){return new XMLHttpRequest},Zh.prototype.i=function(){return{}},aI=new Zh;var QY=45e3,uI={},ef={};function cI(t,e,n){t.K=1,t.v=of(gi(e)),t.s=n,t.U=!0,HN(t,null)}function HN(t,e){t.F=Date.now(),Oc(t),t.A=gi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),XN(n.h,"t",r),t.C=0,n=t.l.H,t.h=new $N,t.g=EP(t.l,n?e:null,!t.s),0<t.O&&(t.L=new qY(xt(t.Ia,t,t.g),t.O)),NN(t.V,t.g,"readystatechange",t.gb),e=t.H?yN(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Mc(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function qN(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function GN(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=YY(t,n),i==ef){4==e&&(t.o=4,un(14),r=!1),ma(t.j,t.m,null,"[Incomplete Response]");break}if(i==uI){t.o=4,un(15),ma(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ma(t.j,t.m,i,null),lI(t,i)}qN(t)&&i!=ef&&i!=uI&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,un(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),EI(e),e.L=!0,un(11))):(ma(t.j,t.m,n,"[Invalid Chunked Response]"),Os(t),Fc(t))}function YY(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ef:(n=Number(e.substring(n,r)),isNaN(n)?uI:(r+=1)+n>e.length?ef:(e=e.substr(r,n),t.C=r+n,e))}function Oc(t){t.Y=Date.now()+t.P,zN(t,t.P)}function zN(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Rc(xt(t.eb,t),e)}function tf(t){t.B&&(G.clearTimeout(t.B),t.B=null)}function Fc(t){0==t.l.G||t.I||yP(t.l,t)}function Os(t){tf(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,nI(t.W),PN(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function lI(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||fI(n.i,t)))if(n.I=t.N,!t.J&&fI(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Rc(xt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;hf(n),lf(n)}wI(n),un(18)}if(1>=tP(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Us(n,11)}else if((t.J||n.g==t)&&hf(n),!qh(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(on(p,"spdy")||on(p,"quic")||on(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(pI(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Me(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=wP(r,r.H?r.la:null,r.W),o.J){nP(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(tf(a),Oc(a)),r.g=o}else gP(r);0<n.l.length&&df(n)}else"stop"!=c[0]&&"close"!=c[0]||Us(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Us(n,7):_I(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Mc(4)}catch(c){}}function dI(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(NE(t)||"string"==typeof t)hN(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(NE(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(NE(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ya(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ya)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function hI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Fs(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Fs(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Fs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(R=Pc.prototype).setTimeout=function(t){this.P=t},R.gb=function(t){t=t.target;const e=this.L;e&&3==mi(t)?e.l():this.Ia(t)},R.Ia=function(t){try{if(t==this.g)e:{const l=mi(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||VE||this.g&&(this.h.h||this.g.ga()||lP(this.g)))){this.I||4!=l||7==e||Mc(8==e||0>=d?3:2),tf(this);var n=this.g.ba();this.N=n;t:if(qN(this)){var r=lP(this.g);t="";var i=r.length,s=4==mi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Os(this),Fc(this);var o="";break t}this.h.i=new G.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qh(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,un(12),Os(this),Fc(this);break e}ma(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lI(this,n)}this.U?(GN(this,l,o),VE&&this.i&&3==l&&(NN(this.V,this.W,"tick",this.fb),this.W.start())):(ma(this.j,this.m,o,null),lI(this,o)),4==l&&Os(this),this.i&&!this.I&&(4==l?yP(this.l,this):(this.i=!1,Oc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,un(12)):(this.o=0,un(13)),Os(this),Fc(this)}}}catch(l){}},R.fb=function(){if(this.g){var t=mi(this.g),e=this.g.ga();this.C<e.length&&(tf(this),GN(this,t,e),this.i&&4!=t&&Oc(this))}},R.cancel=function(){this.I=!0,Os(this)},R.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Mc(3),un(17)),Os(this),this.o=2,Fc(this)):zN(this,this.Y-t)},(R=ya.prototype).R=function(){hI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},R.T=function(){return hI(this),this.g.concat()},R.get=function(t,e){return Fs(this.h,t)?this.h[t]:e},R.set=function(t,e){Fs(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},R.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var WN=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ls(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ls){this.g=void 0!==e?e:t.g,nf(this,t.j),this.s=t.s,rf(this,t.i),sf(this,t.m),this.l=t.l,e=t.h;var n=new Vc;n.i=e.i,e.g&&(n.g=new ya(e.g),n.h=e.h),KN(this,n),this.o=t.o}else t&&(n=String(t).match(WN))?(this.g=!!e,nf(this,n[1]||"",!0),this.s=Lc(n[2]||""),rf(this,n[3]||"",!0),sf(this,n[4]),this.l=Lc(n[5]||"",!0),KN(this,n[6]||"",!0),this.o=Lc(n[7]||"")):(this.g=!!e,this.h=new Vc(null,this.g))}function gi(t){return new Ls(t)}function nf(t,e,n){t.j=n?Lc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function rf(t,e,n){t.i=n?Lc(e,!0):e}function sf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function KN(t,e,n){e instanceof Vc?(t.h=e,function(t,e){e&&!t.j&&(qi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(YN(this,r),XN(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Uc(e,iJ)),t.h=new Vc(e,t.g))}function Me(t,e,n){t.h.set(e,n)}function of(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Lc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Uc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,tJ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tJ(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ls.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Uc(e,QN,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Uc(e,QN,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Uc(n,"/"==n.charAt(0)?rJ:nJ,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Uc(n,sJ)),t.join("")};var QN=/[#\/\?@]/g,nJ=/[#\?:]/g,rJ=/[#\?]/g,iJ=/[#\?@]/g,sJ=/#/g;function Vc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qi(t){t.g||(t.g=new ya,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function YN(t,e){qi(t),e=_a(t,e),Fs(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Fs((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&hI(t)))}function JN(t,e){return qi(t),e=_a(t,e),Fs(t.g.h,e)}function XN(t,e,n){YN(t,e),0<n.length&&(t.i=null,t.g.set(_a(t,e),OE(n)),t.h+=n.length)}function _a(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ZN(t){this.l=t||uJ,t=G.PerformanceNavigationTiming?0<(t=G.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(G.g&&G.g.Ea&&G.g.Ea()&&G.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=Vc.prototype).add=function(t,e){qi(this),this.i=null,t=_a(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},R.forEach=function(t,e){qi(this),this.g.forEach(function(n,r){hN(n,function(i){t.call(e,i,r,this)},this)},this)},R.T=function(){qi(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},R.R=function(t){qi(this);var e=[];if("string"==typeof t)JN(this,t)&&(e=fN(e,this.g.get(_a(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=fN(e,t[n])}return e},R.set=function(t,e){return qi(this),this.i=null,JN(this,t=_a(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},R.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var uJ=10;function eP(t){return!!t.h||!!t.g&&t.g.size>=t.j}function tP(t){return t.h?1:t.g?t.g.size:0}function fI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function pI(t,e){t.g?t.g.add(e):t.h=e}function nP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function rP(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return OE(t.i)}function gI(){}function cJ(){this.g=new gI}function lJ(t,e,n){const r=n||"";try{dI(t,function(i,s){let o=i;Ac(i)&&(o=XE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function af(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function jc(t){this.l=t.$b||null,this.j=t.ib||!1}function uf(t,e){gt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=mI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ZN.prototype.cancel=function(){if(this.i=rP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},gI.prototype.stringify=function(t){return G.JSON.stringify(t,void 0)},gI.prototype.parse=function(t){return G.JSON.parse(t,void 0)},kt(jc,iI),jc.prototype.g=function(){return new uf(this.l,this.j)},jc.prototype.i=function(t){return function(){return t}}({}),kt(uf,gt);var mI=0;function iP(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Bc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,$c(t)}function $c(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(R=uf.prototype).open=function(t,e){if(this.readyState!=mI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,$c(this)},R.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||G).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bc(this)),this.readyState=mI},R.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,$c(this)),this.g&&(this.readyState=3,$c(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==G.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iP(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},R.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Bc(this):$c(this),3==this.readyState&&iP(this)}},R.Ua=function(t){this.g&&(this.response=this.responseText=t,Bc(this))},R.Ta=function(t){this.g&&(this.response=t,Bc(this))},R.ha=function(){this.g&&Bc(this)},R.setRequestHeader=function(t,e){this.v.append(t,e)},R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(uf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var hJ=G.JSON.parse;function Je(t){gt.call(this),this.headers=new ya,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sP,this.K=this.L=!1}kt(Je,gt);var sP="",fJ=/^https?$/i,pJ=["POST","PUT"];function mJ(t){return"content-type"==t.toLowerCase()}function oP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,aP(t),cf(t)}function aP(t){t.D||(t.D=!0,Mt(t,"complete"),Mt(t,"error"))}function uP(t){if(t.h&&void 0!==RE&&(!t.C[1]||4!=mi(t)||2!=t.ba()))if(t.v&&4==mi(t))rI(t.Fa,0,t);else if(Mt(t,"readystatechange"),4==mi(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(WN)[1]||null;if(!i&&G.self&&G.self.location){var s=G.self.location.protocol;i=s.substr(0,s.length-1)}r=!fJ.test(i?i.toLowerCase():"")}n=r}if(n)Mt(t,"complete"),Mt(t,"success");else{t.m=6;try{var o=2<mi(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",aP(t)}}finally{cf(t)}}}function cf(t,e){if(t.g){cP(t);const n=t.g,r=t.C[0]?$h:null;t.g=null,t.C=null,e||Mt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function cP(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(G.clearTimeout(t.A),t.A=null)}function mi(t){return t.g?t.g.readyState:0}function lP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case sP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function yI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(t){let e="";return LE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Me(t,e,n))}function Hc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function dP(t){this.za=0,this.l=[],this.h=new Yh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hc("baseRetryDelayMs",5e3,t),this.$a=Hc("retryDelaySeedMs",1e4,t),this.Ya=Hc("forwardChannelMaxRetries",2,t),this.ra=Hc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new ZN(t&&t.concurrentRequestLimit),this.Ca=new cJ,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function _I(t){if(hP(t),3==t.G){var e=t.V++,n=gi(t.F);Me(n,"SID",t.J),Me(n,"RID",e),Me(n,"TYPE","terminate"),qc(t,n),(e=new Pc(t,t.h,e,void 0)).K=2,e.v=of(gi(n)),n=!1,G.navigator&&G.navigator.sendBeacon&&(n=G.navigator.sendBeacon(e.v.toString(),"")),!n&&G.Image&&((new Image).src=e.v,n=!0),n||(e.g=EP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Oc(e)}vP(t)}function lf(t){t.g&&(EI(t),t.g.cancel(),t.g=null)}function hP(t){lf(t),t.u&&(G.clearTimeout(t.u),t.u=null),hf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&G.clearTimeout(t.m),t.m=null)}function vI(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&df(t)}function df(t){eP(t.i)||t.m||(t.m=!0,ZE(t.Ha,t),t.C=0)}function fP(t,e){var n;n=e?e.m:t.V++;const r=gi(t.F);Me(r,"SID",t.J),Me(r,"RID",n),Me(r,"AID",t.U),qc(t,r),t.o&&t.s&&yI(r,t.o,t.s),n=new Pc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=pP(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),pI(t.i,n),cI(n,r,e)}function qc(t,e){t.j&&dI({},function(n,r){Me(e,r,n)})}function pP(t,e,n){n=Math.min(t.l.length,n);var r=t.j?xt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{lJ(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function gP(t){t.g||t.u||(t.Y=1,ZE(t.Ga,t),t.A=0)}function wI(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Rc(xt(t.Ga,t),_P(t,t.A)),t.A++,0))}function EI(t){null!=t.B&&(G.clearTimeout(t.B),t.B=null)}function mP(t){t.g=new Pc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=gi(t.oa);Me(e,"RID","rpc"),Me(e,"SID",t.J),Me(e,"CI",t.N?"0":"1"),Me(e,"AID",t.U),qc(t,e),Me(e,"TYPE","xmlhttp"),t.o&&t.s&&yI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=of(gi(e)),n.s=null,n.U=!0,HN(n,t)}function hf(t){null!=t.v&&(G.clearTimeout(t.v),t.v=null)}function yP(t,e){var n=null;if(t.g==e){hf(t),EI(t),t.g=null;var r=2}else{if(!fI(t.i,e))return;n=e.D,nP(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Mt(r=Jh(),new UN(r,n,e,i)),df(t)}else gP(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(tP(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Rc(xt(t.Ha,t,e),_P(t,t.C)),t.C++,0)))}(t,e)||2==r&&wI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Us(t,5);break;case 4:Us(t,10);break;case 3:Us(t,6);break;default:Us(t,2)}}function _P(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Us(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=xt(t.jb,t);n||(n=new Ls("//www.google.com/images/cleardot.gif"),G.location&&"http"==G.location.protocol||nf(n,"https"),of(n)),function(t,e){const n=new Yh;if(G.Image){const r=new Image;r.onload=Hh(af,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hh(af,n,r,"TestLoadImage: error",!1,e),r.onabort=Hh(af,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hh(af,n,r,"TestLoadImage: timeout",!1,e),G.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else un(2);t.G=0,t.j&&t.j.va(e),vP(t),hP(t)}function vP(t){t.G=0,t.I=-1,t.j&&((0!=rP(t.i).length||0!=t.l.length)&&(t.i.i.length=0,OE(t.l),t.l.length=0),t.j.ua())}function wP(t,e,n){let r=function(t){return t instanceof Ls?gi(t):new Ls(t,void 0)}(n);if(""!=r.i)e&&rf(r,e+"."+r.i),sf(r,r.m);else{const i=G.location;r=function(t,e,n,r){var i=new Ls(null,void 0);return t&&nf(i,t),e&&rf(i,e),n&&sf(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&LE(t.aa,function(i,s){Me(r,s,i)}),n=t.sa,(e=t.D)&&n&&Me(r,e,n),Me(r,"VER",t.ma),qc(t,r),r}function EP(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(n&&t.Ba&&!t.qa?new jc({ib:!0}):t.qa)).L=t.H,e}function IP(){}function ff(){if(ga&&!(10<=Number(MY)))throw Error("Environmental error: no available transport.")}function On(t,e){gt.call(this),this.g=new dP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!qh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qh(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new va(this)}function bP(t){sI.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function TP(){oI.call(this),this.status=1}function va(t){this.g=t}(R=Je.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():aI.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:aI),this.g.onreadystatechange=xt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void oP(this,s)}t=n||"";const i=new ya(this.headers);r&&dI(r,function(s,o){i.set(o,s)}),r=function(t){e:{var e=mJ;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=G.FormData&&t instanceof G.FormData,!(0<=dN(pJ,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cP(this),0<this.B&&((this.K=function(t){return ga&&kY()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xt(this.pa,this)):this.A=rI(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){oP(this,s)}},R.pa=function(){void 0!==RE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mt(this,"timeout"),this.abort(8))},R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Mt(this,"complete"),Mt(this,"abort"),cf(this))},R.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cf(this,!0)),Je.Z.M.call(this)},R.Fa=function(){this.s||(this.F||this.v||this.l?uP(this):this.cb())},R.cb=function(){uP(this)},R.ba=function(){try{return 2<mi(this)?this.g.status:-1}catch(t){return-1}},R.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},R.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hJ(e)}},R.Da=function(){return this.m},R.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=dP.prototype).ma=8,R.G=1,R.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},R.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Pc(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=yN(s),vN(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=pP(this,i,e),Me(n=gi(this.F),"RID",t),Me(n,"CVER",22),this.D&&Me(n,"X-HTTP-Session-Id",this.D),qc(this,n),this.o&&s&&yI(n,this.o,s),pI(this.i,i),this.Ra&&Me(n,"TYPE","init"),this.ja?(Me(n,"$req",e),Me(n,"SID","null"),i.$=!0,cI(i,n,null)):cI(i,n,e),this.G=2}}else 3==this.G&&(t?fP(this,t):0==this.l.length||eP(this.i)||fP(this))},R.Ga=function(){if(this.u=null,mP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Rc(xt(this.bb,this),t)}},R.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,un(10),lf(this),mP(this))},R.ab=function(){null!=this.v&&(this.v=null,lf(this),wI(this),un(19))},R.jb=function(t){t?(this.h.info("Successfully pinged google.com"),un(2)):(this.h.info("Failed to ping google.com"),un(1))},(R=IP.prototype).xa=function(){},R.wa=function(){},R.va=function(){},R.ua=function(){},R.Oa=function(){},ff.prototype.g=function(t,e){return new On(t,e)},kt(On,gt),On.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),ZE(xt(t.hb,t,e))),un(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=wP(t,null,t.W),df(t)},On.prototype.close=function(){_I(this.g)},On.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,vI(this.g,e)}else this.v?((e={}).__data__=XE(t),vI(this.g,e)):vI(this.g,t)},On.prototype.M=function(){this.g.j=null,delete this.j,_I(this.g),delete this.g,On.Z.M.call(this)},kt(bP,sI),kt(TP,oI),kt(va,IP),va.prototype.xa=function(){Mt(this.g,"a")},va.prototype.wa=function(t){Mt(this.g,new bP(t))},va.prototype.va=function(t){Mt(this.g,new TP(t))},va.prototype.ua=function(){Mt(this.g,"b")},ff.prototype.createWebChannel=ff.prototype.g,On.prototype.send=On.prototype.u,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,Xh.NO_ERROR=0,Xh.TIMEOUT=8,Xh.HTTP_ERROR=6,VN.COMPLETE="complete",BN.EventType=Nc,Nc.OPEN="a",Nc.CLOSE="b",Nc.ERROR="c",Nc.MESSAGE="d",gt.prototype.listen=gt.prototype.N,Je.prototype.listenOnce=Je.prototype.O,Je.prototype.getLastError=Je.prototype.La,Je.prototype.getLastErrorCode=Je.prototype.Da,Je.prototype.getStatus=Je.prototype.ba,Je.prototype.getResponseJson=Je.prototype.Qa,Je.prototype.getResponseText=Je.prototype.ga,Je.prototype.send=Je.prototype.ea;var vJ=pi.createWebChannelTransport=function(){return new ff},wJ=pi.getStatEventTarget=function(){return Jh()},II=pi.ErrorCode=Xh,EJ=pi.EventType=VN,IJ=pi.Event=Ps,DP=pi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bJ=pi.FetchXmlHttpFactory=jc,pf=pi.WebChannel=BN,TJ=pi.XhrIo=Je;const CP="@firebase/firestore";class Rt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");let wa="9.6.1";const Gi=new oa("@firebase/firestore");function bI(){return Gi.logLevel}function C(t,...e){if(Gi.logLevel<=he.DEBUG){const n=e.map(TI);Gi.debug(`Firestore (${wa}): ${t}`,...n)}}function Xe(t,...e){if(Gi.logLevel<=he.ERROR){const n=e.map(TI);Gi.error(`Firestore (${wa}): ${t}`,...n)}}function gf(t,...e){if(Gi.logLevel<=he.WARN){const n=e.map(TI);Gi.warn(`Firestore (${wa}): ${t}`,...n)}}function TI(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function L(t="Unexpected state"){const e=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: `+t;throw Xe(e),new Error(e)}function B(t,e){t||L()}function S(t,e){return t}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends Error{constructor(e,n){super(n),this.code=e,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class AP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class AJ{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new mt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B("string"==typeof r.accessToken),new AP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new Rt(e)}}class SJ{constructor(e,n,r){this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class xJ{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new SJ(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kJ{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,n){this.o=i=>{e.enqueueRetryable(()=>{return null!=(s=i).error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),n(s.token);var s})};const r=i=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B("string"==typeof n.token),new SP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Fn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.p(r),this.T=r=>n.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function MJ(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}Fn.I=-1;class xP{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=MJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Ea(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Nt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function MP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class Gc{constructor(e,n,r){void 0===n?n=0:n>e.length&&L(),void 0===r?r=e.length-n:r>e.length-n&&L(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Gc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class me extends Gc{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new me(n)}static emptyPath(){return new me([])}}const RJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Gc{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return RJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $t(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new yt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new yt(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const NJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(B(!!t),"string"==typeof t){let e=0;const n=NJ.exec(t);if(B(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ba(t){return"string"==typeof t?yt.fromBase64String(t):yt.fromUint8Array(t)}function DI(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function NP(t){const e=t.mapValue.fields.__previous_value__;return DI(e)?NP(e):e}function zc(t){const e=zi(t.mapValue.fields.__local_write_time__.timestampValue);return new Nt(e.seconds,e.nanos)}function js(t){return null==t}function mf(t){return 0===t&&1/t==-1/0}class O{constructor(e){this.path=e}static fromPath(e){return new O(me.fromString(e))}static fromName(e){return new O(me.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===me.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new me(e.slice()))}}function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?DI(t)?4:10:L()}function Ur(t,e){const n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zc(t).isEqual(zc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=zi(r.timestampValue),o=zi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ba(t.bytesValue).isEqual(ba(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ze(r.doubleValue),o=Ze(i.doubleValue);return s===o?mf(s)===mf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(MP(s)!==MP(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ur(s[a],o[a])))return!1;return!0}(t,e);default:return L()}var i}function Wc(t,e){return void 0!==(t.values||[]).find(n=>Ur(n,e))}function Ta(t,e){const n=Bs(t),r=Bs(e);if(n!==r)return ue(n,r);switch(n){case 0:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ze(i.integerValue||i.doubleValue),a=Ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return OP(t.timestampValue,e.timestampValue);case 4:return OP(zc(t),zc(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ba(i),a=ba(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ue(o[u],a[u]);if(0!==c)return c}return ue(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ue(Ze(i.latitude),Ze(s.latitude));return 0!==o?o:ue(Ze(i.longitude),Ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ta(o[u],a[u]);if(c)return c}return ue(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ue(a[l],c[l]);if(0!==d)return d;const h=Ta(o[a[l]],u[c[l]]);if(0!==h)return h}return ue(a.length,c.length)}(t.mapValue,e.mapValue);default:throw L()}}function OP(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ue(t,e);const n=zi(t),r=zi(e),i=ue(n.seconds,r.seconds);return 0!==i?i:ue(n.nanos,r.nanos)}function CI(t){return AI(t)}function AI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=zi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ba(t.bytesValue).toBase64():"referenceValue"in t?O.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=AI(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${AI(r.fields[a])}`;return s+"}"}(t.mapValue):L();var e}function SI(t){return!!t&&"integerValue"in t}function xI(t){return!!t&&"arrayValue"in t}function FP(t){return!!t&&"nullValue"in t}function LP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _f(t){return!!t&&"mapValue"in t}function Kc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kc(t.arrayValue.values[n]);return e}return Object.assign({},t)}class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kc(n)}setAll(e){let n=$t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Kc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());_f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ht(Kc(this.value))}}class Re{constructor(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Re(e,0,Y.min(),Ht.empty(),0)}static newFoundDocument(e,n,r){return new Re(e,1,n,r,0)}static newNoDocument(e,n){return new Re(e,2,n,Ht.empty(),0)}static newUnknownDocument(e,n){return new Re(e,3,n,Ht.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Re&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Re(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class PJ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.R=null}}function VP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new PJ(t,e,n,r,i,s,o)}function Qc(t){const e=S(t);if(null===e.R){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>function(t){return t.field.canonicalString()+t.op.toString()+CI(t.value)}(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),js(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ef(e.startAt)),e.endAt&&(n+="|ub:",n+=Ef(e.endAt)),e.R=n}return e.R}function vf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!qJ(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Ur(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$P(t.startAt,e.startAt)&&$P(t.endAt,e.endAt)}function wf(t){return O.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class cn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.P(e,n,r):new LJ(e,n,r):"array-contains"===n?new jJ(e,r):"in"===n?new BJ(e,r):"not-in"===n?new $J(e,r):"array-contains-any"===n?new HJ(e,r):new cn(e,n,r)}static P(e,n,r){return"in"===n?new UJ(e,r):new VJ(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(Ta(n,this.value)):null!==n&&Bs(this.value)===Bs(n)&&this.v(Ta(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return L()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class LJ extends cn{constructor(e,n,r){super(e,n,r),this.key=O.fromName(r.referenceValue)}matches(e){const n=O.comparator(e.key,this.key);return this.v(n)}}class UJ extends cn{constructor(e,n){super(e,"in",n),this.keys=jP(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VJ extends cn{constructor(e,n){super(e,"not-in",n),this.keys=jP(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jP(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>O.fromName(r.referenceValue))}class jJ extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xI(n)&&Wc(n.arrayValue,this.value)}}class BJ extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Wc(this.value.arrayValue,n)}}class $J extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Wc(this.value.arrayValue,n)}}class HJ extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wc(this.value.arrayValue,r))}}class Yc{constructor(e,n){this.position=e,this.before=n}}function Ef(t){return`${t.before?"b":"a"}:${t.position.map(e=>CI(e)).join(",")}`}class Da{constructor(e,n="asc"){this.field=e,this.dir=n}}function qJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function BP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?O.comparator(O.fromName(o.referenceValue),n.key):Ta(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function $P(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}class yi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.S=null,this.D=null}}function Ca(t){return new yi(t)}function If(t){return!js(t.limit)&&"F"===t.limitType}function bf(t){return!js(t.limit)&&"L"===t.limitType}function Aa(t){const e=S(t);if(null===e.S){e.S=[];const n=function(t){for(const e of t.filters)if(e.V())return e.field;return null}(e),r=function(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.S.push(new Da(n)),e.S.push(new Da($t.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.S.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Da($t.keyField(),s))}}}return e.S}function er(t){const e=S(t);if(!e.D)if("F"===e.limitType)e.D=VP(e.path,e.collectionGroup,Aa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Aa(e))n.push(new Da(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Yc(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Yc(e.startAt.position,!e.startAt.before):null;e.D=VP(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.D}function Jc(t,e){return vf(er(t),er(e))&&t.limitType===e.limitType}function GP(t){return`${Qc(er(t))}|lt:${t.limitType}`}function NI(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${CI(r.value)}`;var r}).join(", ")}]`),js(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: "+Ef(t.startAt)),t.endAt&&(e+=", endAt: "+Ef(t.endAt)),`Target(${e})`}(er(t))}; limitType=${t.limitType})`}function Xc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):O.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!BP(n.startAt,Aa(n),r)||n.endAt&&BP(n.endAt,Aa(n),r)));var n,r}function zP(t){return(e,n)=>{let r=!1;for(const i of Aa(t)){const s=GJ(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function GJ(t,e,n){const r=t.field.isKeyField()?O.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ta(a,u):L()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}class Tf{constructor(){this._=void 0}}function zJ(t,e,n){return t instanceof Sa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof $s?JP(t,e):t instanceof Hs?XP(t,e):function(r,i){const s=function(t,e){return t instanceof xa?SI(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=ZP(s)+ZP(r.N);return SI(s)&&SI(r.N)?function(t){return{integerValue:""+t}}(o):function(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(e)?"-0":e}}(r.k,o)}(t,e)}function WJ(t,e,n){return t instanceof $s?JP(t,e):t instanceof Hs?XP(t,e):n}class Sa extends Tf{}class $s extends Tf{constructor(e){super(),this.elements=e}}function JP(t,e){const n=eO(e);for(const r of t.elements)n.some(i=>Ur(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hs extends Tf{constructor(e){super(),this.elements=e}}function XP(t,e){let n=eO(e);for(const r of t.elements)n=n.filter(i=>!Ur(i,r));return{arrayValue:{values:n}}}class xa extends Tf{constructor(e,n){super(),this.k=e,this.N=n}}function ZP(t){return Ze(t.integerValue||t.doubleValue)}function eO(t){return xI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Df(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class tO{}function YJ(t,e,n){t instanceof el?function(r,i,s){const o=r.value.clone(),a=sO(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Wi?function(r,i,s){if(!Df(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=sO(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(iO(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function PI(t,e,n){var i;t instanceof el?function(r,i,s){if(!Df(r.precondition,i))return;const o=r.value.clone(),a=oO(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(rO(i),o).setHasLocalMutations()}(t,e,n):t instanceof Wi?function(r,i,s){if(!Df(r.precondition,i))return;const o=oO(r.fieldTransforms,s,i),a=i.data;a.setAll(iO(r)),a.setAll(o),i.convertToFoundDocument(rO(i),a).setHasLocalMutations()}(t,e,n):Df(t.precondition,i=e)&&i.convertToNoDocument(Y.min())}function nO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ea(n,r,(i,s)=>function(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof $s&&r instanceof $s||n instanceof Hs&&r instanceof Hs?Ea(n.elements,r.elements,Ur):n instanceof xa&&r instanceof xa?Ur(n.N,r.N):n instanceof Sa&&r instanceof Sa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function rO(t){return t.isFoundDocument()?t.version:Y.min()}class el extends tO{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Wi extends tO{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function iO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sO(t,e,n){const r=new Map;B(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,WJ(o,a,n[i]))}return r}function oO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,zJ(s,o,e))}return r}class XJ{constructor(e){this.count=e}}var tt,fe;function uO(t){if(void 0===t)return Xe("GRPC error has no .code"),v.UNKNOWN;switch(t){case tt.OK:return v.OK;case tt.CANCELLED:return v.CANCELLED;case tt.UNKNOWN:return v.UNKNOWN;case tt.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case tt.INTERNAL:return v.INTERNAL;case tt.UNAVAILABLE:return v.UNAVAILABLE;case tt.UNAUTHENTICATED:return v.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case tt.NOT_FOUND:return v.NOT_FOUND;case tt.ALREADY_EXISTS:return v.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return v.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case tt.ABORTED:return v.ABORTED;case tt.OUT_OF_RANGE:return v.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return v.UNIMPLEMENTED;case tt.DATA_LOSS:return v.DATA_LOSS;default:return L()}}(fe=tt||(tt={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";class ut{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cf(this.root,e,this.comparator,!0)}}class Cf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Pt.RED,this.left=null!=i?i:Pt.EMPTY,this.right=null!=s?s:Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1,Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Pt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cO(this.data.getIterator())}getIteratorFrom(e){return new cO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ve(this.comparator);return n.data=e,n}}class cO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ZJ=new ut(O.comparator);function tr(){return ZJ}const eX=new ut(O.comparator);function FI(){return eX}new ut(O.comparator);const nX=new Ve(O.comparator);function _e(...t){let e=nX;for(const n of t)e=e.add(n);return e}const rX=new Ve(ue);function Af(){return rX}class nl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,n)),new nl(Y.min(),r,Af(),tr(),_e())}}class rl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new rl(yt.EMPTY_BYTE_STRING,n,_e(),_e(),_e())}}class Sf{constructor(e,n,r,i){this.$=e,this.removedTargetIds=n,this.key=r,this.F=i}}class dO{constructor(e,n){this.targetId=e,this.O=n}}class hO{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fO{constructor(){this.M=0,this.L=gO(),this.B=yt.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=_e(),n=_e(),r=_e();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:L()}}),new rl(this.B,this.U,e,n,r)}H(){this.q=!1,this.L=gO()}J(e,n){this.q=!0,this.L=this.L.insert(e,n)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class iX{constructor(e){this.et=e,this.nt=new Map,this.st=tr(),this.it=pO(),this.rt=new Ve(ue)}ot(e){for(const n of e.$)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ut(e){this.forEachTarget(e,n=>{const r=this.ht(n);switch(e.state){case 0:this.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(n);break;case 3:this.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(n)&&(this.ft(n),r.W(e.resumeToken));break;default:L()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.nt.forEach((r,i)=>{this.lt(i)&&n(i)})}dt(e){const n=e.targetId,r=e.O.count,i=this.wt(n);if(i){const s=i.target;if(wf(s))if(0===r){const o=new O(s.path);this.ct(n,o,Re.newNoDocument(o,Y.min()))}else B(1===r);else this._t(n)!==r&&(this.ft(n),this.rt=this.rt.add(n))}}gt(e){const n=new Map;this.nt.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&wf(a.target)){const u=new O(a.target.path);null!==this.st.get(u)||this.yt(o,u)||this.ct(o,u,Re.newNoDocument(u,e))}s.j&&(n.set(o,s.G()),s.H())}});let r=_e();this.it.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new nl(e,n,this.rt,this.st,r);return this.st=tr(),this.it=pO(),this.rt=new Ve(ue),i}at(e,n){if(!this.lt(e))return;const r=this.yt(e,n.key)?2:0;this.ht(e).J(n.key,r),this.st=this.st.insert(n.key,n),this.it=this.it.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,n)?i.J(n,1):i.Y(n),this.it=this.it.insert(n,this.Tt(n).delete(e)),r&&(this.st=this.st.insert(n,r))}removeTarget(e){this.nt.delete(e)}_t(e){const n=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let n=this.nt.get(e);return n||(n=new fO,this.nt.set(e,n)),n}Tt(e){let n=this.it.get(e);return n||(n=new Ve(ue),this.it=this.it.insert(e,n)),n}lt(e){const n=null!==this.wt(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.nt.get(e);return n&&n.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new fO),this.et.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}yt(e,n){return this.et.getRemoteKeysForTarget(e).has(n)}}function pO(){return new ut(O.comparator)}function gO(){return new ut(O.comparator)}const sX={asc:"ASCENDING",desc:"DESCENDING"},oX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class aX{constructor(e,n){this.databaseId=e,this.C=n}}function _t(t){return B(!!t),Y.fromTimestamp(function(e){const n=zi(e);return new Nt(n.seconds,n.nanos)}(t))}function yO(t){const e=me.fromString(t);return B(xO(e)),e}function Vr(t,e){const n=yO(e);if(n.get(1)!==t.databaseId.projectId)throw new b(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new O(vO(n))}function UI(t,e){return function(t,e){return(n=t,new me(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function ol(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vO(t){return B(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function bO(t,e){return{documents:[UI(t,e.path)]}}function TO(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=UI(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=UI(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(c=>function(l){if("=="===l.op){if(LP(l.value))return{unaryFilter:{field:ka(l.field),op:"IS_NAN"}};if(FP(l.value))return{unaryFilter:{field:ka(l.field),op:"IS_NULL"}}}else if("!="===l.op){if(LP(l.value))return{unaryFilter:{field:ka(l.field),op:"IS_NOT_NAN"}};if(FP(l.value))return{unaryFilter:{field:ka(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(l.field),op:pX(l.op),value:l.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:ka((c=u).field),direction:fX(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(u=e.limit,t.C||js(u)?u:{value:u});var u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=AO(e.startAt)),e.endAt&&(n.structuredQuery.endAt=AO(e.endAt)),n}function DO(t){let e=function(t){const e=yO(t);return 4===e.length?me.emptyPath():vO(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){B(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=CO(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Da(Ma((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,js(d)?null:d}(n.limit));let u=null;n.startAt&&(u=SO(n.startAt));let c=null;return n.endAt&&(c=SO(n.endAt)),function(t,e,n,r,i,s,o,a){return new yi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function CO(t){return t?void 0!==t.unaryFilter?[mX(t)]:void 0!==t.fieldFilter?[gX(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>CO(e)).reduce((e,n)=>e.concat(n)):L():[]}function AO(t){return{before:t.before,values:t.position}}function SO(t){return new Yc(t.values||[],!!t.before)}function fX(t){return sX[t]}function pX(t){return oX[t]}function ka(t){return{fieldPath:t.canonicalString()}}function Ma(t){return $t.fromServerFormat(t.fieldPath)}function gX(t){return cn.create(Ma(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(t.fieldFilter.op),t.fieldFilter.value)}function mX(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ma(t.unaryFilter.field);return cn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ma(t.unaryFilter.field);return cn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ma(t.unaryFilter.field);return cn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ma(t.unaryFilter.field);return cn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return L()}}function xO(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function yr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kO(e)),e=_X(t.get(n),e);return kO(e)}function _X(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function kO(t){return t+"\x01\x01"}class Ln{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}Ln.store="owner",Ln.key="owner";class Ki{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}Ki.store="mutationQueues",Ki.keyPath="userId";class Se{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}Se.store="mutations",Se.keyPath="batchId",Se.userMutationsIndex="userMutationsIndex",Se.userMutationsKeyPath=["userId","batchId"];class qt{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,yr(n)]}static key(e,n,r){return[e,yr(n),r]}}qt.store="documentMutations",qt.PLACEHOLDER=new qt;class je{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}je.store="remoteDocuments",je.readTimeIndex="readTimeIndex",je.readTimeIndexPath="readTime",je.collectionReadTimeIndex="collectionReadTimeIndex",je.collectionReadTimeIndexPath=["parentPath","readTime"];class jr{constructor(e){this.byteSize=e}}jr.store="remoteDocumentGlobal",jr.key="remoteDocumentGlobalKey";class wn{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}wn.store="targets",wn.keyPath="targetId",wn.queryTargetsIndexName="queryTargetsIndex",wn.queryTargetsKeyPath=["canonicalId","targetId"];class Ot{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}Ot.store="targetDocuments",Ot.keyPath=["targetId","path"],Ot.documentTargetsIndex="documentTargetsIndex",Ot.documentTargetsKeyPath=["path","targetId"];class Un{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}Un.key="targetGlobalKey",Un.store="targetGlobal";class qs{constructor(e,n){this.collectionId=e,this.parent=n}}qs.store="collectionParents",qs.keyPath=["collectionId","parent"];class vi{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}vi.store="clientMetadata",vi.keyPath="clientId";class Ra{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}Ra.store="bundles",Ra.keyPath="bundleId";class Na{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}Na.store="namedQueries",Na.keyPath="name";const MO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new E((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof E?n:E.resolve(n)}catch(n){return E.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):E.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):E.reject(n)}static resolve(e){return new E((n,r)=>{n(e)})}static reject(e){return new E((n,r)=>{r(e)})}static waitFor(e){return new E((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=E.resolve(!1);for(const r of e)n=n.next(i=>i?E.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Gs(t){return"IndexedDbTransactionError"===t.name}class jI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&YJ(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&PI(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&PI(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Y.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(n,r)=>nO(n,r))&&Ea(this.baseMutations,e.baseMutations,(n,r)=>nO(n,r))}}class Qi{constructor(e,n,r,i,s=Y.min(),o=Y.min(),a=yt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class PO{constructor(e){this.Gt=e}}function qI(t){const e=DO({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function(t,e,n){return new yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class AX{constructor(){this.zt=new GI}addToCollectionParentIndex(e,n){return this.zt.add(n),E.resolve()}getCollectionParents(e,n){return E.resolve(this.zt.getEntries(n))}}class GI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(me.comparator)).toArray()}}class In{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(41943040,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class Ws{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Ws(0)}static re(){return new Ws(-1)}}function Ks(t){return WI.apply(this,arguments)}function WI(){return WI=m(function*(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==MO)throw t;C("LocalStore","Unexpectedly lost primary lease")}),WI.apply(this,arguments)}class Va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){Vs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}}class QO{constructor(e,n,r){this.Je=e,this.An=n,this.Jt=r}Rn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Pn(e,n,r))}Pn(e,n,r){return this.Je.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}bn(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}vn(e,n){return this.Je.getEntries(e,n).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.bn(n,r))}getDocumentsMatchingQuery(e,n,r){return O.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,n.path):function(t){return null!==t.collectionGroup}(n)?this.Dn(e,n,r):this.Cn(e,n,r);var i}Sn(e,n){return this.Rn(e,new O(n)).next(r=>{let i=FI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,n,r){const i=n.collectionGroup;let s=FI();return this.Jt.getCollectionParents(e,i).next(o=>E.forEach(o,a=>{const u=(c=n,l=a.child(i),new yi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.Cn(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}Cn(e,n,r){let i,s;return this.Je.getDocumentsMatchingQuery(e,n,r).next(o=>(i=o,this.An.getAllMutationBatchesAffectingQuery(e,n))).next(o=>(s=o,this.Nn(e,s,i).next(a=>{i=a;for(const u of s)for(const c of u.mutations){const l=c.key;let d=i.get(l);null==d&&(d=Re.newInvalidDocument(l),i=i.insert(l,d)),PI(c,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(l))}}))).next(()=>(i.forEach((o,a)=>{Xc(n,a)||(i=i.remove(o))}),i))}Nn(e,n,r){let i=_e();for(const o of n)for(const a of o.mutations)a instanceof Wi&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.Je.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class JI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.kn=r,this.xn=i}static $n(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new JI(e,n.fromCache,r,i)}}class YO{Fn(e){this.On=e}getDocumentsMatchingQuery(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(Y.min())?this.Mn(e,n):this.On.vn(e,i).next(s=>{const o=this.Ln(n,s);return(If(n)||bf(n))&&this.Bn(n.limitType,o,i,r)?this.Mn(e,n):(bI()<=he.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),NI(n)),this.On.getDocumentsMatchingQuery(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Ln(e,n){let r=new Ve(zP(e));return n.forEach((i,s)=>{Xc(e,s)&&(r=r.add(s))}),r}Bn(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mn(e,n){return bI()<=he.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",NI(n)),this.On.getDocumentsMatchingQuery(e,n,Y.min())}}class VX{constructor(e,n,r,i){this.persistence=e,this.Un=n,this.k=i,this.qn=new ut(ue),this.Kn=new Va(s=>Qc(s),vf),this.jn=Y.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new QO(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qn))}}function XO(t,e){return XI.apply(this,arguments)}function XI(){return XI=m(function*(t,e){const n=S(t);let r=n.An,i=n.Wn;const s=yield n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.An.getAllMutationBatches(o).next(u=>(a=u,r=n.persistence.getMutationQueue(e),i=new QO(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const c=[],l=[];let d=_e();for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.vn(o,d).next(h=>({Gn:h,removedBatchIds:c,addedBatchIds:l}))})});return n.An=r,n.Wn=i,n.Un.Fn(n.Wn),s}),XI.apply(this,arguments)}function ZO(t){const e=S(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.He.getLastRemoteSnapshotVersion(n))}function BX(t,e){const n=S(t),r=e.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.He.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.He.addMatchingKeys(s,c.addedDocuments,l)));const h=c.resumeToken;if(h.approximateByteSize()>0){const f=d.withResumeToken(h,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(l,f),p=d,y=c,B((g=f).resumeToken.approximateByteSize()>0),(0===p.resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.He.updateTargetData(s,f))}var p,g,y});let u=tr();if(e.documentUpdates.forEach((c,l)=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function(t,e,n,r,i){let s=_e();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let a=tr();return n.forEach((u,c)=>{const l=o.get(u),d=(null==i?void 0:i.get(u))||r;c.isNoDocument()&&c.version.isEqual(Y.min())?(e.removeEntry(u,d),a=a.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c,d),a=a.insert(u,c)):C("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(c=>{u=c})),!r.isEqual(Y.min())){const c=n.He.getLastRemoteSnapshotVersion(s).next(l=>n.He.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>n.Wn.Vn(s,u)).next(()=>u)}).then(s=>(n.qn=i,s))}function ja(t,e){const n=S(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.He.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):n.He.allocateTargetId(r).next(o=>(i=new Qi(e,o,0,r.currentSequenceNumber),n.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qn=n.qn.insert(r.targetId,r),n.Kn.set(e,r.targetId)),r})}function Ba(t,e,n){return ZI.apply(this,arguments)}function ZI(){return ZI=m(function*(t,e,n){const r=S(t),i=r.qn.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Gs(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),ZI.apply(this,arguments)}function Of(t,e,n){const r=S(t);let i=Y.min(),s=_e();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=S(a),d=l.Kn.get(c);return void 0!==d?E.resolve(l.qn.get(d)):l.He.getTargetData(u,c)}(r,o,er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Un.getDocumentsMatchingQuery(o,e,n?i:Y.min(),n?s:_e())).next(a=>({documents:a,zn:s})))}class zX{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,n){return E.resolve(this.Xn.get(n))}saveBundleMetadata(e,n){var r;return this.Xn.set(n.id,{id:(r=n).id,version:r.version,createTime:_t(r.createTime)}),E.resolve()}getNamedQuery(e,n){return E.resolve(this.Zn.get(n))}saveNamedQuery(e,n){return this.Zn.set(n.name,{name:(r=n).name,query:qI(r.bundledQuery),readTime:_t(r.readTime)}),E.resolve();var r}}class rb{constructor(){this.ts=new Ve(vt.es),this.ns=new Ve(vt.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,n){const r=new vt(e,n);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.os(new vt(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new O(new me([])),r=new vt(n,e),i=new vt(n,e+1),s=[];return this.ns.forEachInRange([r,i],o=>{this.os(o),s.push(o.key)}),s}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const n=new O(new me([])),r=new vt(n,e),i=new vt(n,e+1);let s=_e();return this.ns.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new vt(e,0),r=this.ts.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class vt{constructor(e,n){this.key=e,this.fs=n}static es(e,n){return O.comparator(e.key,n.key)||ue(e.fs,n.fs)}static ss(e,n){return ue(e.fs,n.fs)||O.comparator(e.key,n.key)}}class WX{constructor(e,n){this.Jt=e,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Ve(vt.es)}checkEmpty(e){return E.resolve(0===this.An.length)}addMutationBatch(e,n,r,i){const s=this.ds;this.ds++;const o=new jI(s,n,r,i);this.An.push(o);for(const a of i)this.ws=this.ws.add(new vt(a.key,s)),this.Jt.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,n){return E.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.gs(n+1),s=i<0?0:i;return E.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return E.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vt(n,0),i=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([r,i],o=>{const a=this._s(o.fs);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(ue);return n.forEach(i=>{const s=new vt(i,0),o=new vt(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,o],a=>{r=r.add(a.fs)})}),E.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;O.isDocumentKey(s)||(s=s.child(""));const o=new vt(new O(s),0);let a=new Ve(ue);return this.ws.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.fs)),!0)},o),E.resolve(this.ys(a))}ys(e){const n=[];return e.forEach(r=>{const i=this._s(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){B(0===this.ps(n.batchId,"removed")),this.An.shift();let r=this.ws;return E.forEach(n.mutations,i=>{const s=new vt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,n){const r=new vt(n,0),i=this.ws.firstAfterOrEqual(r);return E.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return E.resolve()}ps(e,n){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const n=this.gs(e);return n<0||n>=this.An.length?null:this.An[n]}}class KX{constructor(e,n){this.Jt=e,this.Ts=n,this.docs=new ut(O.comparator),this.size=0}addEntry(e,n,r){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ts(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return E.resolve(r?r.document.clone():Re.newInvalidDocument(n))}getEntries(e,n){let r=tr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.clone():Re.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,n,r){let i=tr();const s=new O(n.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:c}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;c.compareTo(r)<=0||Xc(n,u)&&(i=i.insert(u.key,u.clone()))}return E.resolve(i)}Es(e,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QX(this)}getSize(e){return E.resolve(this.size)}}class QX extends class{constructor(){this.changes=new Va(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}getReadTime(e){const n=this.changes.get(e);return n?n.readTime:Y.min()}addEntry(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})}removeEntry(e,n=null){this.assertNotApplied(),this.changes.set(e,{document:Re.newInvalidDocument(e),readTime:n})}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?E.resolve(r.document):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.De=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?n.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),E.waitFor(n)}getFromCache(e,n){return this.De.getEntry(e,n)}getAllFromCache(e,n){return this.De.getEntries(e,n)}}class YX{constructor(e){this.persistence=e,this.Is=new Va(n=>Qc(n),vf),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.As=0,this.Rs=new rb,this.targetCount=0,this.Ps=Ws.ie()}forEachTarget(e,n){return this.Is.forEach((r,i)=>n(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.As&&(this.As=n),E.resolve()}ce(e){this.Is.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ps=new Ws(n),this.highestTargetId=n),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,n){return this.ce(n),this.targetCount+=1,E.resolve()}updateTargetData(e,n){return this.ce(n),E.resolve()}removeTargetData(e,n){return this.Is.delete(n.target),this.Rs.us(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Is.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,n){const r=this.Is.get(n)||null;return E.resolve(r)}addMatchingKeys(e,n,r){return this.Rs.rs(n,r),E.resolve()}removeMatchingKeys(e,n,r){this.Rs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Rs.us(n),E.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Rs.ls(n);return E.resolve(r)}containsKey(e,n){return E.resolve(this.Rs.containsKey(n))}}class JX{constructor(e,n){this.bs={},this.Be=new Fn(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new YX(this),this.Jt=new AX,this.Je=new KX(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new PO(n),this.Ye=new zX(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let n=this.bs[e.toKey()];return n||(n=new WX(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new XX(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(s=>this.referenceDelegate.Ss(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ds(e,n){return E.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class XX extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class ib{constructor(e){this.persistence=e,this.Cs=new rb,this.Ns=null}static ks(e){return new ib(e)}get xs(){if(this.Ns)return this.Ns;throw L()}addReference(e,n,r){return this.Cs.addReference(r,n),this.xs.delete(r.toString()),E.resolve()}removeReference(e,n,r){return this.Cs.removeReference(r,n),this.xs.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,n){return this.xs.add(n.toString()),E.resolve()}removeTarget(e,n){this.Cs.us(n.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Vs(){this.Ns=new Set}Ss(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.xs,r=>{const i=O.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i)})}).next(()=>(this.Ns=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.xs.delete(n.toString()):this.xs.add(n.toString())})}vs(e){return 0}$s(e,n){return E.or([()=>E.resolve(this.Cs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ds(e,n)])}}class ab{constructor(){this.activeTargetIds=Af()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sF{constructor(){this.pi=new ab,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,n,r){this.Ti[e]=n}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new ab,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class ZX{Ei(e){}shutdown(){}}class oF{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const eZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class tZ{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class nZ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,n,r,i,s){const o=this.Ui(e,n);C("RestConnection","Sending: ",o,r);const a={};return this.qi(a,i,s),this.Ki(e,o,a,r).then(u=>(C("RestConnection","Received: ",u),u),u=>{throw gf("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ji(e,n,r,i,s){return this.Bi(e,n,r,i,s)}qi(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+wa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Ui(e,n){return`${this.Mi}/v1/${n}:${eZ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,n,r,i){return new Promise((s,o)=>{const a=new TJ;a.listenOnce(EJ.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case II.NO_ERROR:const c=a.getResponseJson();C("Connection","XHR received:",JSON.stringify(c)),s(c);break;case II.TIMEOUT:C("Connection",'RPC "'+e+'" timed out'),o(new b(v.DEADLINE_EXCEEDED,"Request time out"));break;case II.HTTP_ERROR:const l=a.getStatus();if(C("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(p)>=0?p:v.UNKNOWN}(d.status);o(new b(h,d.message))}else o(new b(v.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new b(v.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{C("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}Qi(e,n,r){const i=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=vJ(),o=wJ(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new bJ({})),this.qi(a.initMessageHeaders,n,r),S1()||x1()||Nn().indexOf("Electron/")>=0||function(){const t=Nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Nn().indexOf("MSAppHost/")>=0||sh()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");C("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new tZ({Vi:p=>{d?C("Connection","Not sending because WebChannel is closed:",p):(l||(C("Connection","Opening WebChannel transport."),c.open(),l=!0),C("Connection","WebChannel sending:",p),c.send(p))},Si:()=>c.close()}),f=(p,g,y)=>{p.listen(g,w=>{try{y(w)}catch(_){setTimeout(()=>{throw _},0)}})};return f(c,pf.EventType.OPEN,()=>{d||C("Connection","WebChannel transport opened.")}),f(c,pf.EventType.CLOSE,()=>{d||(d=!0,C("Connection","WebChannel transport closed"),h.Fi())}),f(c,pf.EventType.ERROR,p=>{d||(d=!0,gf("Connection","WebChannel transport errored:",p),h.Fi(new b(v.UNAVAILABLE,"The operation could not be completed")))}),f(c,pf.EventType.MESSAGE,p=>{var g;if(!d){const y=p.data[0];B(!!y);const w=y,_=w.error||(null===(g=w[0])||void 0===g?void 0:g.error);if(_){C("Connection","WebChannel received error:",_);const x=_.status;let F=function(ct){const Vn=tt[ct];if(void 0!==Vn)return uO(Vn)}(x),Q=_.message;void 0===F&&(F=v.INTERNAL,Q="Unknown error status: "+x+" with message "+_.message),d=!0,h.Fi(new b(F,Q)),c.close()}else C("Connection","WebChannel received:",y),h.Oi(y)}}),f(o,IJ.STAT_EVENT,p=>{p.stat===DP.PROXY?C("Connection","Detected buffering proxy"):p.stat===DP.NOPROXY&&C("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function Uf(){return"undefined"!=typeof document?document:null}function dl(t){return new aX(t,!0)}class cb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Oe=e,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class iZ extends class{constructor(e,n,r,i,s,o,a,u){this.Oe=e,this.nr=r,this.sr=i,this.ir=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new cb(e,n)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return m(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return m(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,n){var r=this;return m(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Xe(n.toString()),Xe("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):n&&n.code===v.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(n)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===n&&this.Ir(r,i)},r=>{e(()=>{const i=new b(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,n){const r=this.Er(this.rr);this.stream=this.Rr(e,n),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi(m(function*(){e.state=0,e.start()}))}Ar(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return n=>{this.Oe.enqueueAndForget(()=>this.rr===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.k=s}Rr(e,n){return this.ir.Qi("Listen",e,n)}onMessage(e){this.ur.reset();const n=function(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:L(),i=e.targetChange.targetIds||[],s=function(u,c){return u.C?(B(void 0===c||"string"==typeof c),yt.fromBase64String(c||"")):(B(void 0===c||c instanceof Uint8Array),yt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?v.UNKNOWN:uO(u.code);return new b(c,u.message||"")}(o);n=new hO(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Vr(t,r.document.name),s=_t(r.document.updateTime),o=new Ht({mapValue:{fields:r.document.fields}}),a=Re.newFoundDocument(i,s,o);n=new Sf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Vr(t,r.document),s=r.readTime?_t(r.readTime):Y.min(),o=Re.newNoDocument(i,s);n=new Sf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Vr(t,r.document);n=new Sf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return L();{const r=e.filter,s=new XJ(r.count||0);n=new dO(r.targetId,s)}}var u;return n}(this.k,e),r=function(i){if(!("targetChange"in i))return Y.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?_t(s.readTime):Y.min()}(e);return this.listener.Pr(n,r)}br(e){const n={};n.database=ol(this.k),n.addTarget=function(i,s){let o;const a=s.target;return o=wf(a)?{documents:bO(i,a)}:{query:TO(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=function(t,e){return t.C?e.toBase64():e.toUint8Array()}(i,s.resumeToken):s.snapshotVersion.compareTo(Y.min())>0&&(o.readTime=function(t,e){return t.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp())),o}(this.k,e);const r=function(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return L()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.gr(n)}vr(e){const n={};n.database=ol(this.k),n.removeTarget=e,this.gr(n)}}class oZ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.ir=r,this.k=i,this.$r=!1}Fr(){if(this.$r)throw new b(v.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,n,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.Bi(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(v.UNKNOWN,i.toString())})}ji(e,n,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.ji(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(v.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class aZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Xe(n),this.Lr=!1):C("OnlineStateTracker",n)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class uZ{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(a=>{r.enqueueAndForget(m(function*(){var u;Zi(o)&&(C("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=S(c);l.Gr.add(4),yield $a(l),l.Jr.set("Unknown"),l.Gr.delete(4),yield hl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Jr=new aZ(r,i)}}function hl(t){return lb.apply(this,arguments)}function lb(){return lb=m(function*(t){if(Zi(t))for(const e of t.zr)yield e(!0)}),lb.apply(this,arguments)}function $a(t){return db.apply(this,arguments)}function db(){return db=m(function*(t){for(const e of t.zr)yield e(!1)}),db.apply(this,arguments)}function Vf(t,e){const n=S(t);n.Wr.has(e.targetId)||(n.Wr.set(e.targetId,e),pb(n)?fb(n):qa(n).lr()&&hb(n,e))}function fl(t,e){const n=S(t),r=qa(n);n.Wr.delete(e),r.lr()&&uF(n,e),0===n.Wr.size&&(r.lr()?r._r():Zi(n)&&n.Jr.set("Unknown"))}function hb(t,e){t.Yr.X(e.targetId),qa(t).br(e)}function uF(t,e){t.Yr.X(e),qa(t).vr(e)}function fb(t){t.Yr=new iX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),qa(t).start(),t.Jr.Br()}function pb(t){return Zi(t)&&!qa(t).hr()&&t.Wr.size>0}function Zi(t){return 0===S(t).Gr.size}function cF(t){t.Yr=void 0}function cZ(t){return gb.apply(this,arguments)}function gb(){return gb=m(function*(t){t.Wr.forEach((e,n)=>{hb(t,e)})}),gb.apply(this,arguments)}function lZ(t,e){return mb.apply(this,arguments)}function mb(){return mb=m(function*(t,e){cF(t),pb(t)?(t.Jr.Kr(e),fb(t)):t.Jr.set("Unknown")}),mb.apply(this,arguments)}function dZ(t,e,n){return yb.apply(this,arguments)}function yb(){return yb=m(function*(t,e,n){if(t.Jr.set("Online"),e instanceof hO&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Wr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Wr.delete(a),i.Yr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jf(t,r)}else if(e instanceof Sf?t.Yr.ot(e):e instanceof dO?t.Yr.dt(e):t.Yr.ut(e),!n.isEqual(Y.min()))try{const r=yield ZO(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Yr.gt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Wr.get(u);c&&i.Wr.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Wr.get(a);if(!u)return;i.Wr.set(a,u.withResumeToken(yt.EMPTY_BYTE_STRING,u.snapshotVersion)),uF(i,a);const c=new Qi(u.target,a,1,u.sequenceNumber);hb(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield jf(t,r)}var r}),yb.apply(this,arguments)}function jf(t,e,n){return _b.apply(this,arguments)}function _b(){return _b=m(function*(t,e,n){if(!Gs(e))throw e;t.Gr.add(1),yield $a(t),t.Jr.set("Offline"),n||(n=()=>ZO(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.Gr.delete(1),yield hl(t)}))}),_b.apply(this,arguments)}function Db(){return Db=m(function*(t,e){const n=S(t);e?(n.Gr.delete(2),yield hl(n)):e||(n.Gr.add(2),yield $a(n),n.Jr.set("Unknown"))}),Db.apply(this,arguments)}function qa(t){return t.Xr||(t.Xr=function(e,n,r){const i=S(e);return i.Fr(),new iZ(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:cZ.bind(null,t),Ni:lZ.bind(null,t),Pr:dZ.bind(null,t)}),t.zr.push(function(){var e=m(function*(n){n?(t.Xr.wr(),pb(t)?fb(t):t.Jr.set("Unknown")):(yield t.Xr.stop(),cF(t))});return function(n){return e.apply(this,arguments)}}())),t.Xr}class Cb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Cb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ga(t,e){if(Xe("AsyncQueue",`${e}: ${t}`),Gs(t))return new b(v.UNAVAILABLE,`${e}: ${t}`);throw t}class za{constructor(e){this.comparator=e?(n,r)=>e(n,r)||O.comparator(n.key,r.key):(n,r)=>O.comparator(n.key,r.key),this.keyedMap=FI(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new za(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class fF{constructor(){this.eo=new ut(O.comparator)}track(e){const n=e.doc.key,r=this.eo.get(n);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(n,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(n):1===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):L():this.eo=this.eo.insert(n,e)}no(){const e=[];return this.eo.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wa{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Wa(e,n,za.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class _Z{constructor(){this.so=void 0,this.listeners=[]}}class vZ{constructor(){this.queries=new Va(e=>GP(e),Jc),this.onlineState="Unknown",this.io=new Set}}function Sb(){return Sb=m(function*(t,e){const n=S(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new _Z),i)try{s.so=yield n.onListen(r)}catch(o){const a=Ga(o,`Initialization of query '${NI(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.ro(n.onlineState),s.so&&e.oo(s.so)&&Mb(n)}),Sb.apply(this,arguments)}function kb(){return kb=m(function*(t,e){const n=S(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),kb.apply(this,arguments)}function wZ(t,e){const n=S(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.oo(i)&&(r=!0);o.so=i}}r&&Mb(n)}function EZ(t,e,n){const r=S(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Mb(t){t.io.forEach(e=>{e.next()})}class Rb{constructor(e,n,r){this.query=e,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.co?this.ho(e)&&(this.ao.next(e),n=!0):this.lo(e,this.onlineState)&&(this.fo(e),n=!0),this.uo=e,n}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let n=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),n=!0),n}lo(e,n){return!e.fromCache||!(this.options.wo&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class mF{constructor(e){this.key=e}}class yF{constructor(e){this.key=e}}class _F{constructor(e,n){this.query=e,this.To=n,this.Eo=null,this.current=!1,this.Io=_e(),this.mutatedKeys=_e(),this.Ao=zP(e),this.Ro=new za(this.Ao)}get Po(){return this.To}bo(e,n){const r=n?n.vo:new fF,i=n?n.Ro:this.Ro;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=If(this.query)&&i.size===this.query.limit?i.last():null,c=bf(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Xc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.Vo(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Ao(f,u)>0||c&&this.Ao(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),If(this.query)||bf(this.query))for(;o.size>this.query.limit;){const l=If(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:a,mutatedKeys:s}}Vo(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const s=e.vo.no();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return f(d)-f(h)}(c.type,l.type)||this.Ao(c.doc,l.doc)),this.So(r);const o=n?this.Do():[],a=0===this.Io.size&&this.current?1:0,u=a!==this.Eo;return this.Eo=a,0!==s.length||u?{snapshot:new Wa(this.query,e.Ro,i,s,e.mutatedKeys,0===a,u,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new fF,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(n=>this.To=this.To.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.To=this.To.delete(n)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=_e(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const n=[];return e.forEach(r=>{this.Io.has(r)||n.push(new yF(r))}),this.Io.forEach(r=>{e.has(r)||n.push(new mF(r))}),n}ko(e){this.To=e.zn,this.Io=_e();const n=this.bo(e.documents);return this.applyChanges(n,!0)}xo(){return Wa.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class TZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DZ{constructor(e){this.key=e,this.$o=!1}}class CZ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new Va(a=>GP(a),Jc),this.Mo=new Map,this.Lo=new Set,this.Bo=new ut(O.comparator),this.Uo=new Map,this.qo=new rb,this.Ko={},this.jo=new Map,this.Qo=Ws.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function AZ(t,e){return Nb.apply(this,arguments)}function Nb(){return Nb=m(function*(t,e){const n=nT(t);let r,i;const s=n.Oo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield ja(n.localStore,er(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Pb(n,e,r,"current"===a),n.isPrimaryClient&&Vf(n.remoteStore,o)}return i}),Nb.apply(this,arguments)}function Pb(t,e,n,r){return Ob.apply(this,arguments)}function Ob(){return Ob=m(function*(t,e,n,r){t.Go=(l,d,h)=>{return(f=m(function*(p,g,y,w){let _=g.view.bo(y);_.Bn&&(_=yield Of(p.localStore,g.query,!1).then(({documents:Q})=>g.view.bo(Q,_)));const x=w&&w.targetChanges.get(g.targetId),F=g.view.applyChanges(_,p.isPrimaryClient,x);return Gb(p,g.targetId,F.Co),F.snapshot}),function(p,g,y,w){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield Of(t.localStore,e,!0),s=new _F(e,i.zn),o=s.bo(i.documents),a=rl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);Gb(t,n,u.Co);const c=new TZ(e,n,s);return t.Oo.set(e,c),t.Mo.has(n)?t.Mo.get(n).push(e):t.Mo.set(n,[e]),u.snapshot}),Ob.apply(this,arguments)}function SZ(t,e){return Fb.apply(this,arguments)}function Fb(){return Fb=m(function*(t,e){const n=S(t),r=n.Oo.get(e),i=n.Mo.get(r.targetId);if(i.length>1)return n.Mo.set(r.targetId,i.filter(s=>!Jc(s,e))),void n.Oo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ba(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),fl(n.remoteStore,r.targetId),Ka(n,r.targetId)}).catch(Ks))):(Ka(n,r.targetId),yield Ba(n.localStore,r.targetId,!0))}),Fb.apply(this,arguments)}function vF(t,e){return Ub.apply(this,arguments)}function Ub(){return Ub=m(function*(t,e){const n=S(t);try{const r=yield BX(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Uo.get(s);o&&(B(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.$o=!0:i.modifiedDocuments.size>0?B(o.$o):i.removedDocuments.size>0&&(B(o.$o),o.$o=!1))}),yield wi(n,r,e)}catch(r){yield Ks(r)}}),Ub.apply(this,arguments)}function wF(t,e,n){const r=S(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Oo.forEach((s,o)=>{const a=o.view.ro(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=S(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.ro(o)&&(u=!0)}),u&&Mb(a)}(r.eventManager,e),i.length&&r.Fo.Pr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kZ(t,e,n){return Vb.apply(this,arguments)}function Vb(){return Vb=m(function*(t,e,n){const r=S(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Uo.get(e),s=i&&i.key;if(s){let o=new ut(O.comparator);o=o.insert(s,Re.newNoDocument(s,Y.min()));const a=_e().add(s),u=new nl(Y.min(),new Map,new Ve(ue),o,a);yield vF(r,u),r.Bo=r.Bo.remove(s),r.Uo.delete(e),zb(r)}else yield Ba(r.localStore,e,!1).then(()=>Ka(r,e,n)).catch(Ks)}),Vb.apply(this,arguments)}function Ka(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Mo.get(e))t.Oo.delete(r),n&&t.Fo.zo(r,n);t.Mo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach(r=>{t.qo.containsKey(r)||EF(t,r)})}function EF(t,e){t.Lo.delete(e.path.canonicalString());const n=t.Bo.get(e);null!==n&&(fl(t.remoteStore,n),t.Bo=t.Bo.remove(e),t.Uo.delete(n),zb(t))}function Gb(t,e,n){for(const r of n)r instanceof mF?(t.qo.addReference(r.key,e),PZ(t,r)):r instanceof yF?(C("SyncEngine","Document no longer in limbo: "+r.key),t.qo.removeReference(r.key,e),t.qo.containsKey(r.key)||EF(t,r.key)):L()}function PZ(t,e){const n=e.key,r=n.path.canonicalString();t.Bo.get(n)||t.Lo.has(r)||(C("SyncEngine","New document in limbo: "+n),t.Lo.add(r),zb(t))}function zb(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){const e=t.Lo.values().next().value;t.Lo.delete(e);const n=new O(me.fromString(e)),r=t.Qo.next();t.Uo.set(r,new DZ(n)),t.Bo=t.Bo.insert(n,r),Vf(t.remoteStore,new Qi(er(Ca(n.path)),r,2,Fn.I))}}function wi(t,e,n){return Wb.apply(this,arguments)}function Wb(){return Wb=m(function*(t,e,n){const r=S(t),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((a,u)=>{o.push(r.Go(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=JI.$n(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Fo.Pr(i),yield(a=m(function*(u,c){const l=S(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>E.forEach(c,h=>E.forEach(h.kn,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>E.forEach(h.xn,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Gs(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qn.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qn=l.qn.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),Wb.apply(this,arguments)}function OZ(t,e){return Kb.apply(this,arguments)}function Kb(){return Kb=m(function*(t,e){const n=S(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const r=yield XO(n.localStore,e);n.currentUser=e,(i=n).jo.forEach(o=>{o.forEach(a=>{a.reject(new b(v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wi(n,r.Gn)}var i}),Kb.apply(this,arguments)}function FZ(t,e){const n=S(t),r=n.Uo.get(e);if(r&&r.$o)return _e().add(r.key);{let i=_e();const s=n.Mo.get(e);if(!s)return i;for(const o of s){const a=n.Oo.get(o);i=i.unionWith(a.view.Po)}return i}}function nT(t){const e=S(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kZ.bind(null,e),e.Fo.Pr=wZ.bind(null,e.eventManager),e.Fo.zo=EZ.bind(null,e.eventManager),e}class GZ{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.k=dl(e.databaseInfo.databaseId),n.sharedClientState=n.Jo(e),n.persistence=n.Yo(e),yield n.persistence.start(),n.gcScheduler=n.Xo(e),n.localStore=n.Zo(e)})()}Xo(e){return null}Zo(e){return function(t,e,n,r){return new VX(t,e,n,r)}(this.persistence,new YO,e.initialUser,this.k)}Yo(e){return new JX(ib.ks,this.k)}Jo(e){return new sF}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class iT{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>wF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=OZ.bind(null,r.syncEngine),yield function(t,e){return Db.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vZ}createDatastore(e){const n=dl(e.databaseInfo.databaseId),r=new nZ(e.databaseInfo);return new oZ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>wF(this.syncEngine,a,0),o=oF.bt()?new oF:new ZX,new uZ(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new CZ(r,i,s,o,a,u);return c&&(l.Wo=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=S(n);C("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield $a(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Bf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class JZ{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=xP.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){C("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new mt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ga(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function DF(t,e){return sT.apply(this,arguments)}function sT(){return sT=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield XO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),sT.apply(this,arguments)}function CF(t,e){return oT.apply(this,arguments)}function oT(){return oT=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield aT(t);C("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>{return(s=m(function*(o,a){const u=S(o);u.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const c=Zi(u);u.Gr.add(3),yield $a(u),c&&u.Jr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Gr.delete(3),yield hl(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),t.onlineComponents=e}),oT.apply(this,arguments)}function aT(t){return uT.apply(this,arguments)}function uT(){return uT=m(function*(t){return t.offlineComponents||(C("FirestoreClient","Using default OfflineComponentProvider"),yield DF(t,new GZ)),t.offlineComponents}),uT.apply(this,arguments)}function $f(t){return cT.apply(this,arguments)}function cT(){return cT=m(function*(t){return t.onlineComponents||(C("FirestoreClient","Using default OnlineComponentProvider"),yield CF(t,new iT)),t.onlineComponents}),cT.apply(this,arguments)}function Qa(t){return hT.apply(this,arguments)}function hT(){return hT=m(function*(t){const e=yield $f(t),n=e.eventManager;return n.onListen=AZ.bind(null,e.syncEngine),n.onUnlisten=SZ.bind(null,e.syncEngine),n}),hT.apply(this,arguments)}class oee{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class pl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}const MF=new Map;function fT(t,e,n){if(!n)throw new b(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RF(t){if(!O.isDocumentKey(t))throw new b(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":L()}(t);throw new b(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class OF{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new b(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new b(v.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gl{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OF({}),this._settingsFrozen=!1,e instanceof pl?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new b(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(i.options.projectId)}(e))}get app(){if(!this._app)throw new b(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OF(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new DJ;switch(n.type){case"gapi":const r=n.client;return B(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new xJ(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new b(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=MF.get(e);n&&(C("ComponentProvider","Removing Datastore"),MF.delete(e),n.terminate())}(this),Promise.resolve()}}class qe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qe(this.firestore,e,this._key)}}class Gt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gt(this.firestore,e,this._query)}}class Br extends Gt{constructor(e,n,r){super(e,n,Ca(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qe(this.firestore,null,new O(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function FF(t,e,...n){if(t=ji(t),1===arguments.length&&(e=xP.A()),fT("doc","path",e),t instanceof gl){const r=me.fromString(e,...n);return RF(r),new qe(t,null,new O(r))}{if(!(t instanceof qe||t instanceof Br))throw new b(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return RF(r),new qe(t.firestore,t instanceof Br?t.converter:null,new O(r))}}class cee{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new cb(this,"async_queue_retry"),this.Ra=()=>{const n=Uf();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ur.er()};const e=Uf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const n=Uf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const n=new mt;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return m(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(n){if(!Gs(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const n=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,Xe("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=n,n}enqueueAfterDelay(e,n,r){this.Pa(),this.Aa.indexOf(e)>-1&&(n=0);const i=Cb.createAndSchedule(this,e,n,r,s=>this.Va(s));return this.pa.push(i),i}Pa(){this.Ta&&L()}verifyOperationInProgress(){}Sa(){var e=this;return m(function*(){let n;do{n=e.ma,yield n}while(n!==e.ma)})()}Da(e){for(const n of this.pa)if(n.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.pa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const n=this.pa.indexOf(e);this.pa.splice(n,1)}}function pT(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Pe extends gl{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new cee,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||LF(this),this._firestoreClient.terminate()}}function dee(t=O1()){return ch(t,"firestore").getImmediate()}function LF(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new oee(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new JZ(t._authCredentials,t._appCheckCredentials,t._queue,r)}class Ya{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qs(yt.fromBase64String(e))}catch(n){throw new b(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qs(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}const _ee=new RegExp("[~\\*/\\[\\]]");function Gf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(v.INVALID_ARGUMENT,a+t+u)}class ET{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class vee extends ET{data(){return super.data()}}function zf(t,e){return"string"==typeof e?function(t,e,n){if(e.search(_ee)>=0)throw Gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ya(...e.split("."))._internalPath}catch(r){throw Gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof Ya?e._internalPath:e._delegate._internalPath}class Js{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xa extends ET{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wf extends Xa{data(e={}){return super.data(e)}}class Za{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Js(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wf(this._firestore,this._userDataWriter,r.key,r,new Js(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Wf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Js(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Wf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Js(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:wee(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}class Xs extends class{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw L()}}convertObject(e,n){const r={};return Vs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new gT(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=NP(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const n=zi(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);B(xO(r));const i=new pl(r.get(1),r.get(3)),s=new O(r.popFirst(5));return i.isEqual(n)||Xe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qe(this.firestore,null,n)}}!function(t,e=!0){wa="9.6.1",mn(new rn("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Pe(i,new AJ(n.getProvider("auth-internal")),new kJ(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),He(CP,"3.4.1",t),He(CP,"3.4.1","esm2017")}();var Aee={includeMetadataChanges:!1};function TT(t,e){return void 0===e&&(e=Aee),new Ce(function(n){var r=function(t,...e){var n,r,i;t=ji(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||pT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(pT(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof qe)c=pe(t.firestore,Pe),l=Ca(t._key.path),u={next:d=>{e[o]&&e[o](function(t,e,n){const r=n.docs.get(e._key),i=new Xs(t);return new Xa(t,i,e._key,r,new Js(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=pe(t,Gt);c=pe(d.firestore,Pe),l=d._query;const h=new Xs(c);u={next:f=>{e[o]&&e[o](new Za(c,h,d,f))},error:e[o+1],complete:e[o+2]},function(t){if(bf(t)&&0===t.explicitOrderBy.length)throw new b(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Bf(p),y=new Rb(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function(t,e){return Sb.apply(this,arguments)}(yield Qa(d),y)})),()=>{g.na(),d.asyncQueue.enqueueAndForget(m(function*(){return function(t,e){return kb.apply(this,arguments)}(yield Qa(d),y)}))}}(function(t){return t._firestoreClient||LF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function xee(t,e){return void 0===e&&(e={}),function(t){return TT(t,{includeMetadataChanges:!0})}(t).pipe(be(function(n){return function(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(n,e)}))}class eu{constructor(e){return e}}const uL="firestore",AT=new ie("angularfire2.firestore-instances");function Lee(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new eu(r)}}const Uee={provide:class{constructor(){return mv(uL)}},deps:[[new We,AT]]},Vee={provide:eu,useFactory:function(t,e){const n=function(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(uL,t,e);return n&&new eu(n)},deps:[[new We,AT],ha]};let jee=(()=>{class t{constructor(){He("angularfire",lv.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=Er({providers:[Vee,Uee]}),t})();function Bee(t,...e){return{ngModule:jee,providers:[{provide:AT,useFactory:Lee(t),multi:!0,deps:[Ue,Dt,FM,LM,[new We,BR],[new We,lN],...e]}]}}const ST=yh(xee,!0),xT=yh(FF,!0),$ee=yh(dee,!0);function Hee(t,e){if(1&t&&(T(0,"div",16),Xt(1,"img",17),D()),2&t){const n=Zt(2);ke(1),Ho("src",n.destination$.image_url,ds)}}function qee(t,e){if(1&t&&(T(0,"section",3),ur(1,Hee,2,1,"div",4),T(2,"div",5),T(3,"nav",6),T(4,"a",7),q(5," MOON "),D(),T(6,"a",8),q(7," MARS "),D(),T(8,"a",9),q(9," EUROPA "),D(),T(10,"a",10),q(11," TITAN "),D(),D(),T(12,"h2"),q(13),D(),T(14,"p"),q(15),D(),Xt(16,"hr"),T(17,"div",11),T(18,"div",12),q(19,"AVG. DISTANCE"),D(),T(20,"div",13),q(21),D(),T(22,"div",14),q(23,"EST. TRAVEL TIME"),D(),T(24,"div",15),q(25),D(),D(),D(),D()),2&t){const n=Zt();ke(1),Wn("ngIf",n.destination$.image_url),ke(12),Rr(n.destination$.name),ke(2),fd(" ",n.destination$.description,""),ke(6),Rr(n.destination$.distance),ke(4),Rr(n.destination$.travel_time)}}let cL=(()=>{class t{constructor(n,r){this.route=n,this.firestore=r}ngOnInit(){var n;null===(n=document.querySelector("destination-nav-link"))||void 0===n||n.classList.add("active"),this.route.paramMap.subscribe(r=>{null!==r.get("itemid")?(this.destinationId=r.get("itemid")||"",this.setFirestoreData()):this.destinationId="1",this.setFirestoreData()})}setFirestoreData(){this.firestoreRef=xT(this.firestore,`destination/${this.destinationId}`),this.firestoreRef&&ST(this.firestoreRef).pipe().subscribe(n=>{this.destination$=n,console.log(this.destination$)})}}return t.\u0275fac=function(n){return new(n||t)(N(oi),N(eu))},t.\u0275cmp=Kr({type:t,selectors:[["destination"]],decls:7,vars:1,consts:[[1,"destination-body-title"],[1,"body-title-number"],["class","destination-body",4,"ngIf"],[1,"destination-body"],["class","destination-img",4,"ngIf"],[1,"destination-body-content"],[1,"destination-nav"],["routerLinkActive","active current","routerLink","/destination/1",1,"destination-nav-link"],["routerLinkActive","active current","routerLink","/destination/2",1,"destination-nav-link"],["routerLinkActive","active current","routerLink","/destination/3",1,"destination-nav-link"],["routerLinkActive","active current","routerLink","/destination/4",1,"destination-nav-link"],[1,"destination-stats"],[1,"distance-header","subheading2"],[1,"destination-distance","subheading1"],[1,"travel-header","subheading2"],[1,"destination-travel-time","subheading1"],[1,"destination-img"],["alt","",3,"src"]],template:function(n,r){1&n&&(T(0,"body"),T(1,"div",0),T(2,"h5"),T(3,"span",1),q(4,"01"),D(),q(5," PICK YOUR DESTINATION "),D(),D(),ur(6,qee,26,5,"section",2),D()),2&n&&(ke(6),Wn("ngIf",r.destination$))},directives:[Ju,Ui,hc],styles:['body[_ngcontent-%COMP%]{background-image:url(background-destination-desktop.bc79fd120a57acbd.jpg);background-size:cover;padding:0 9em 10em}.body-title-number[_ngcontent-%COMP%]{color:var(--clr-gray);padding-right:.5em}.destination-body-title[_ngcontent-%COMP%]{padding:12em 0 1.5em}.destination-body[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-around;margin:0 5em}.destination-img[_ngcontent-%COMP%]{width:35%}.destination-body-content[_ngcontent-%COMP%]{text-align:start;width:35%}hr[_ngcontent-%COMP%]{margin:2em 0 1.5em}.destination-stats[_ngcontent-%COMP%]{display:grid;grid-template-areas:"distance-header travel-header" "distance-value travel-value";grid-template-columns:repeat(2,1fr)}.distance-header[_ngcontent-%COMP%]{grid-area:distance-header}.destination-distance[_ngcontent-%COMP%]{grid-area:distance-value}.travel-header[_ngcontent-%COMP%]{grid-area:travel-header}.destination-travel-time[_ngcontent-%COMP%]{grid-area:travel-value}.destination-nav-link[_ngcontent-%COMP%]{color:var(--clr-light);text-decoration:none;border-bottom:2px solid transparent;margin-right:1.5em;padding-bottom:.75em}.destination-nav-link.active[_ngcontent-%COMP%]{border-bottom:3px solid var(--clr-light)}.destination-nav-link[_ngcontent-%COMP%]:hover{border-bottom:3px solid var(--clr-gray)}@media (max-width:768px){body[_ngcontent-%COMP%]{background-image:url(background-destination-tablet.525fbdcb619cb0b5.jpg);padding:2em}.destination-body-title[_ngcontent-%COMP%]{padding:4em 0 1.5em 1em}.destination-body[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.destination-body-content[_ngcontent-%COMP%]{width:75%;text-align:center}.destination-img[_ngcontent-%COMP%]{width:45%}.destination-nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;margin:2rem auto;width:66%}.destination-nav-link[_ngcontent-%COMP%]{margin:.5em 0;padding:.5em 0}h2[_ngcontent-%COMP%]{margin:1rem 0}hr[_ngcontent-%COMP%]{margin-top:3em}p[_ngcontent-%COMP%]{margin:auto -3em}}@media (max-width:375px){body[_ngcontent-%COMP%]{background-image:url(background-destination-mobile.a30f5a2058c6988c.jpg);text-align:center}.destination-body[_ngcontent-%COMP%]{align-items:center;justify-content:center;width:100%;margin:0}.destination-body-content[_ngcontent-%COMP%]{width:100%;text-align:center}.destination-body-title[_ngcontent-%COMP%]{padding:1.5em 0 0}.destination-img[_ngcontent-%COMP%]{width:60%}.destination-nav[_ngcontent-%COMP%]{margin:1rem auto}.destination-stats[_ngcontent-%COMP%]{display:block}.subheading1[_ngcontent-%COMP%]{margin:.25em 0 .75em}p[_ngcontent-%COMP%]{margin:auto}}']}),t})();function Gee(t,e){if(1&t&&(T(0,"div",15),Xt(1,"img",16),D()),2&t){const n=Zt(2);ke(1),Ho("src",n.crew$.image_url,ds)}}function zee(t,e){if(1&t&&(T(0,"section",3),T(1,"div",4),T(2,"div",5),T(3,"div",6),T(4,"div",7),T(5,"h4"),q(6),D(),T(7,"h3"),q(8),D(),T(9,"p"),q(10),D(),D(),D(),T(11,"div",8),T(12,"a",9),Xt(13,"div",10),D(),T(14,"a",11),Xt(15,"div",10),D(),T(16,"a",12),Xt(17,"div",10),D(),T(18,"a",13),Xt(19,"div",10),D(),D(),D(),ur(20,Gee,2,1,"div",14),D(),D()),2&t){const n=Zt();ke(6),Rr(n.crew$.member_title),ke(2),Rr(n.crew$.name),ke(2),Rr(n.crew$.description),ke(10),Wn("ngIf",n.crew$.image_url)}}let lL=(()=>{class t{constructor(n,r){this.route=n,this.firestore=r}ngOnInit(){var n;null===(n=document.querySelector("nav-link-icon"))||void 0===n||n.classList.add("active"),this.route.paramMap.subscribe(r=>{null!==r.get("itemid")?(this.crewId=r.get("itemid")||"",this.setFirestoreData()):this.crewId="1",this.setFirestoreData()})}setFirestoreData(){this.firestoreRef=xT(this.firestore,`crew/${this.crewId}`),this.firestoreRef&&ST(this.firestoreRef).pipe().subscribe(n=>{this.crew$=n,console.log(this.crew$)})}}return t.\u0275fac=function(n){return new(n||t)(N(oi),N(eu))},t.\u0275cmp=Kr({type:t,selectors:[["crew"]],decls:7,vars:1,consts:[[1,"crew-body-title"],[1,"body-title-number"],["class","crew-section",4,"ngIf"],[1,"crew-section"],[1,"crew-body"],[1,"crew-body-content"],[1,"crew-body-content-text"],[1,"crew-body-content-text-wrapper"],[1,"crew-body-content-nav"],["routerLinkActive","active current","routerLink","/crew/1",1,"crew-nav-link"],[1,"nav-link-icon"],["routerLinkActive","active current","routerLink","/crew/2",1,"crew-nav-link"],["routerLinkActive","active current","routerLink","/crew/3",1,"crew-nav-link"],["routerLinkActive","active current","routerLink","/crew/4",1,"crew-nav-link"],["class","crew-img",4,"ngIf"],[1,"crew-img"],["alt","",3,"src"]],template:function(n,r){1&n&&(T(0,"body"),T(1,"div",0),T(2,"h5"),T(3,"span",1),q(4,"02"),D(),q(5," MEET YOUR CREW "),D(),D(),ur(6,zee,21,4,"section",2),D()),2&n&&(ke(6),Wn("ngIf",r.crew$))},directives:[Ju,Ui,hc],styles:["body[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(background-crew-desktop.90729b7f5097ad1d.jpg);background-size:cover;padding:0 9em 10em}.body-title-number[_ngcontent-%COMP%]{color:var(--clr-gray);padding-right:.5em}.crew-body-title[_ngcontent-%COMP%]{padding:12em 0 1.5em}.crew-section[_ngcontent-%COMP%]{position:fixed;bottom:0}.crew-body[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around}.crew-body-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:40%}.crew-body-content-text-wrapper[_ngcontent-%COMP%]{position:fixed;top:40%;width:33%}.crew-img[_ngcontent-%COMP%]{width:40%;position:fixed;bottom:0;right:4em}h3[_ngcontent-%COMP%]{margin:0}h4[_ngcontent-%COMP%]{color:var(--clr-gray);margin-bottom:.5em}.crew-body-content-nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:fixed;bottom:10%}.nav-link-icon[_ngcontent-%COMP%]{background-color:#ffffff2b;width:1em;height:1em;border-radius:50%;margin-right:1.5em}.nav-link-icon[_ngcontent-%COMP%]:hover{background-color:#ffffff80}.crew-nav-link.active[_ngcontent-%COMP%]   .nav-link-icon[_ngcontent-%COMP%]{background-color:var(--clr-light)}@media (max-width:768px){body[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(background-crew-tablet.70a3fad5ca5534cc.jpg);padding:2em}.crew-body[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.crew-body-content[_ngcontent-%COMP%]{width:100%;align-items:center}.crew-body-title[_ngcontent-%COMP%]{padding:4em 0 1.5em 1em}.crew-body-content-text-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;margin-bottom:3.5em}.crew-section[_ngcontent-%COMP%]{position:relative;width:75%;text-align:center;margin:auto}.crew-body-content-nav[_ngcontent-%COMP%]{align-items:center;justify-content:center;position:fixed;bottom:50%}.nav-link-icon[_ngcontent-%COMP%]{width:.625rem;height:.625rem}.crew-img[_ngcontent-%COMP%]{width:50%;right:inherit;max-height:45%}}@media (max-width:375px){body[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(background-crew-mobile.3091b3ce89258880.jpg);text-align:center}.crew-section[_ngcontent-%COMP%]{position:relative}.crew-body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;margin:0}.crew-body-content[_ngcontent-%COMP%]{justify-content:center;align-items:center;width:100%}.crew-body-title[_ngcontent-%COMP%]{padding:1.5em 0 0}.crew-img[_ngcontent-%COMP%]{width:50%;bottom:53%;right:initial}.crew-body-content-text-wrapper[_ngcontent-%COMP%]{top:58%;width:100%;padding:0 2em}.crew-body-content-nav[_ngcontent-%COMP%]{bottom:45%;justify-content:space-between;width:33%}.crew-body-content-text[_ngcontent-%COMP%]{position:fixed;top:60%;display:flex;align-items:flex-start;justify-content:center}.nav-link-icon[_ngcontent-%COMP%]:last-of-type{margin:0}}"]}),t})();function Wee(t,e){if(1&t&&(T(0,"div",14),Xt(1,"img",15),D()),2&t){const n=Zt(2);ke(1),Ho("src",n.technology$.image_url_mobile,ds)}}function Kee(t,e){if(1&t&&(T(0,"div",14),Xt(1,"img",15),D()),2&t){const n=Zt(2);ke(1),Ho("src",n.technology$.image_url,ds)}}function Qee(t,e){if(1&t&&(T(0,"section"),T(1,"div",3),T(2,"div",4),T(3,"a",5),T(4,"div",6),q(5,"1"),D(),D(),T(6,"a",7),T(7,"div",6),q(8,"2"),D(),D(),T(9,"a",8),T(10,"div",6),q(11,"3"),D(),D(),D(),T(12,"div",9),T(13,"div",10),q(14,"THE TERMINOLOGY..."),D(),T(15,"h3",11),q(16),D(),T(17,"p"),q(18),D(),D(),ur(19,Wee,2,1,"div",12),ur(20,Kee,2,1,"ng-template",null,13,mm),D(),D()),2&t){const n=Ug(21),r=Zt();ke(16),Rr(r.technology$.title),ke(2),Rr(r.technology$.description),ke(1),Wn("ngIf",r.isMobile)("ngIfElse",n)}}let dL=(()=>{class t{constructor(n,r){this.route=n,this.firestore=r}ngOnInit(){var n;this.isMobile=window.innerWidth<769,null===(n=document.querySelector("nav-link-icon"))||void 0===n||n.classList.add("active"),this.route.paramMap.subscribe(r=>{null!==r.get("itemid")?(this.technologyId=r.get("itemid")||"",this.setFirestoreData()):this.technologyId="1",this.setFirestoreData()})}setFirestoreData(){this.firestoreRef=xT(this.firestore,`technology/${this.technologyId}`),this.firestoreRef&&ST(this.firestoreRef).pipe().subscribe(n=>{this.technology$=n})}onResize(){this.innerWidth=window.innerWidth,this.isMobile=window.innerWidth<769}}return t.\u0275fac=function(n){return new(n||t)(N(oi),N(eu))},t.\u0275cmp=Kr({type:t,selectors:[["technology"]],hostBindings:function(n,r){1&n&&Kn("resize",function(s){return r.onResize(s)},!1,Qp)},decls:7,vars:1,consts:[[1,"technology-body-title"],[1,"body-title-number"],[4,"ngIf"],[1,"technology-body"],[1,"technology-nav"],["routerLinkActive","active current","routerLink","/technology/1",1,"technology-nav-link"],[1,"nav-link-icon","subheading1"],["routerLinkActive","active current","routerLink","/technology/2",1,"technology-nav-link"],["routerLinkActive","active current","routerLink","/technology/3",1,"technology-nav-link"],[1,"technology-body-text"],[1,"subheading2"],[1,"technology-body-text-title"],["class","technology-img",4,"ngIf","ngIfElse"],["Desktop",""],[1,"technology-img"],["alt","",3,"src"]],template:function(n,r){1&n&&(T(0,"body"),T(1,"div",0),T(2,"h5"),T(3,"span",1),q(4,"03"),D(),q(5," SPACE LAUNCH 101 "),D(),D(),ur(6,Qee,22,4,"section",2),D()),2&n&&(ke(6),Wn("ngIf",r.technology$))},directives:[Ju,Ui,hc],styles:["body[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(background-technology-desktop.9cc7235082304284.jpg);background-size:cover;padding:0 9em 10em}.body-title-number[_ngcontent-%COMP%]{color:var(--clr-gray);padding-right:.5em}.technology-body-title[_ngcontent-%COMP%]{padding:12em 0 1.5em}.technology-body-text[_ngcontent-%COMP%]{margin-left:5em;width:50%}.technology-body-text-title[_ngcontent-%COMP%]{margin:.25em 0}.technology-body[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-top:2em}.subheading1[_ngcontent-%COMP%]{margin-top:0}.technology-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:-moz-fit-content;width:fit-content}.technology-nav-link[_ngcontent-%COMP%]{color:var(--clr-light);text-decoration:none;width:5rem;height:5rem;margin-bottom:2em;border-radius:50%;border:1px solid rgba(255,255,255,.25);padding:1rem;display:flex;justify-content:center;align-items:center}.technology-nav-link.active[_ngcontent-%COMP%]{color:var(--clr-dark);border:1px solid var(--clr-light);background-color:var(--clr-light)}.technology-nav-link[_ngcontent-%COMP%]:hover{border:1px solid var(--clr-light)}.technology-img[_ngcontent-%COMP%]{position:absolute;right:0}@media (max-width:768px){body[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(background-technology-tablet.8d3f7213014c5826.jpg);padding:2em}.technology-body-title[_ngcontent-%COMP%]{padding:4em 0 1.5em 1em}.technology-body[_ngcontent-%COMP%]{margin-top:0;flex-direction:column;justify-content:center}.technology-body-text[_ngcontent-%COMP%]{width:66%;position:fixed;top:70%;margin:0;text-align:center}.technology-nav[_ngcontent-%COMP%]{flex-direction:row;position:fixed;bottom:35%}.technology-nav-link[_ngcontent-%COMP%]{margin:.5em}.technology-img[_ngcontent-%COMP%]{position:fixed;bottom:48%}}@media (max-width:375px){body[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(background-technology-mobile.499b5f05381030d0.jpg);text-align:center}.technology-body-title[_ngcontent-%COMP%]{padding:1.5em 0 0}.technology-nav[_ngcontent-%COMP%]{flex-direction:row;bottom:48%;justify-content:space-between;width:50%}.technology-img[_ngcontent-%COMP%]{bottom:63%}.technology-body-text[_ngcontent-%COMP%]{width:90%;top:60%}.technology-nav-link[_ngcontent-%COMP%]{width:3rem;height:3rem}}"]}),t})();const hL_firebase={apiKey:"AIzaSyAIyBE0or_kjgGGdTC6tz3EnKeXktYdNHE",authDomain:"space-tourism-challenge.firebaseapp.com",projectId:"space-tourism-challenge",storageBucket:"space-tourism-challenge.appspot.com",messagingSenderId:"419804566842",appId:"1:419804566842:web:84f0bad2790b8d563c2c03"};let Yee=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Qr({type:t,bootstrap:[u8]}),t.\u0275inj=Er({providers:[],imports:[[bz,r8,by.forRoot([{path:"",component:b1,pathMatch:"full"},{path:"destination/:itemid",component:cL},{path:"destination",component:cL},{path:"crew/:itemid",component:lL},{path:"crew",component:lL},{path:"technology/:itemid",component:dL},{path:"technology",component:dL},{path:"**",component:b1}]),uK(()=>cK(hL_firebase)),Bee(()=>$ee())]]}),t})();Sx=!1,Ez().bootstrapModule(Yee).catch(t=>console.error(t))}},ln=>{ln(ln.s=94)}]);